(function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):e(jQuery)})(function(e){function t(e){return r.raw?e:encodeURIComponent(e)}function n(e){return r.raw?e:decodeURIComponent(e)}function i(e){return t(r.json?JSON.stringify(e):String(e))}function o(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(s," ")),r.json?JSON.parse(e):e}catch(e){}}function a(t,n){var i=r.raw?t:o(t);return e.isFunction(n)?n(i):i}var s=/\+/g,r=e.cookie=function(o,s,c){if(arguments.length>1&&!e.isFunction(s)){if(c=e.extend({},r.defaults,c),"number"==typeof c.expires){var l=c.expires,d=c.expires=new Date;d.setTime(+d+864e5*l)}return document.cookie=[t(o),"=",i(s),c.expires?"; expires="+c.expires.toUTCString():"",c.path?"; path="+c.path:"",c.domain?"; domain="+c.domain:"",c.secure?"; secure":""].join("")}for(var u=o?void 0:{},f=document.cookie?document.cookie.split("; "):[],p=0,m=f.length;p<m;p++){var h=f[p].split("="),g=n(h.shift()),b=h.join("=");if(o&&o===g){u=a(b,s);break}o||void 0===(b=a(b))||(u[g]=b)}return u};r.defaults={},e.removeCookie=function(t,n){return void 0!==e.cookie(t)&&(e.cookie(t,"",e.extend({},n,{expires:-1})),!e.cookie(t))}}),function(e){e(document).on("click",".button-load-more-posts",function(t){t.preventDefault();var n=e(this),i=(n.data("page"),n.data("template")),o=n.attr("href");n.addClass("loading"),e.get(o,function(t){e(".pagination-below").remove(),"home"===i?e(t).find(".article-outher").each(function(){e("#content").append(e(this))}):"search"===i?e(t).find("article.hentry").each(function(){e(".search-content-inner").append(e(this))}):e(t).find(".article-outher").each(function(){e("#content").append(e(this))}),e("#content").append(e(t).find(".pagination-below"))})}),e(document).on("scroll",function(){var t=e(".post-infinite-scroll");if(t.length){var n=t.offset();e(window).scrollTop()+e(window).height()>n.top&&(t.hasClass("loading")||t.trigger("click"))}})}(jQuery);var jq=$=jQuery,BuddyBossMain=function(e,t,n){var i={$document:e(document),$window:e(t)},o={},a={};o.init=function(){i.$document.ready(o.domReady)},o.domReady=function(){i.body=e("body"),a.domReady()},a.domReady=function(){function n(){var e=t,n="inner";return"innerWidth"in t||(n="client",e=document.documentElement||document.body),{width:e[n+"Width"],height:e[n+"Height"]}}function i(){return"mobile"!=e.cookie("switch_mode")&&(translation.only_mobile||(n().width<=1024?e("body").removeClass("is-desktop").addClass("is-mobile"):e("body").removeClass("is-mobile").addClass("is-desktop"))),b=BuddyBoss.is_mobile=e("body").hasClass("is-mobile"),b}function o(){b&&y.height()<g.height()&&e("#page").css("min-height",g.height()-(e("#mobile-header").height()+e("#colophon").height())),b&&e("#buddyboss-swipe-area").length&&k.state&&e("#buddyboss-swipe-area").css({left:"left"===k.state?240:"auto",right:"right"===k.state?240:"auto",width:e(t).width()-240,height:e(t).outerHeight(!0)+200});var n=e("#wp-admin-bar-logout"),i=e("#wp-admin-bar-user-actions"),o=e("#wp-admin-bar-my-account-settings .ab-submenu").first();n.length&&i.length&&o.length&&(b?n.appendTo(o):n.appendTo(i)),b&&!v?(v=!0,u=e('<div id="mobile-item-nav-wrap" class="mobile-item-nav-container mobile-item-nav-scroll-container">'),f=e('<div class="mobile-item-nav-wrapper">').appendTo(u),p=e('<div id="mobile-item-nav" class="mobile-item-nav">').appendTo(f),p.append($item_nav.html()),u.insertBefore($item_nav).show(),e("#mobile-item-nav-wrap, .mobile-item-nav-scroll-container, .mobile-item-nav-container").addClass("fixed"),$item_nav.css({display:"none"})):!b&&v?(u.css({display:"none"}),$item_nav.css({display:"block"}),h.trigger("menu-close.buddyboss")):b&&v&&(u.css({display:"block"}),$item_nav.css({display:"none"})),"undefined"!=typeof Selects&&e.isFunction(Selects.populate_select_label)&&Selects.populate_select_label(b)}function a(){i(),o()}function s(e){for(var n=e.offsetTop,i=e.offsetLeft,o=e.offsetWidth,a=e.offsetHeight;e.offsetParent;)e=e.offsetParent,n+=e.offsetTop,i+=e.offsetLeft;return n<t.pageYOffset+t.innerHeight&&i<t.pageXOffset+t.innerWidth&&n+a>t.pageYOffset&&i+o>t.pageXOffset}function r(){if(b){var t=e("#mobile-header .searchform");t.length&&(t.focusin(function(){t.addClass("animate-form")}),t.focusout(function(){t.removeClass("animate-form")}))}}function c(){e(".generic-button:not(.pending)").on("click",function(){$link=e(this).find("a"),$link.find("i").length||$link.hasClass("pending")||$link.append('<i class="fa fa-spinner fa-spin"></i>')})}function l(){var t=0;e("#header-search").nextAll("div, a").each(function(){t+=e(this).width()}),_.width(e(".header-wrapper").width()-180-t)}function d(){x?e('input[type="checkbox"], input[type="radio"]').each(function(){var t=e(this);"gf_other_choice"==t.val()?(t.addClass("styled"),t.next().wrap('<strong class="other-option"></strong>')):t.parents("#bp-group-documents-form").length||(t.addClass("styled"),0==t.next("label").length&&0==t.next("strong").length&&t.after("<strong></strong>"))}):e('#frm_buddyboss-media-tag-friends input[type="checkbox"], #buddypress table.notifications input, #send_message_form input[type="checkbox"], #profile-edit-form input[type="checkbox"],  #profile-edit-form input[type="radio"], #message-threads input, #settings-form input[type="radio"], #create-group-form input[type="radio"], #create-group-form input[type="checkbox"], #invite-list input[type="checkbox"], #group-settings-form input[type="radio"], #group-settings-form input[type="checkbox"], #new-post input[type="checkbox"], .bbp-form input[type="checkbox"], .bbp-form .input[type="radio"], .register-section .input[type="radio"], .register-section input[type="checkbox"], .message-check, #select-all-messages, #siteLoginBox input[type="checkbox"], #siteRegisterBox input[type="checkbox"]').each(function(){var t=e(this);t.addClass("styled"),0==t.next("label").length&&0==t.next("strong").length&&t.after("<strong></strong>")})}t.BuddyBoss=t.BuddyBoss||{},t.BuddyBoss.is_mobile=null;var u,f,p,m,h=e(document),g=e(t),b=!1,v=!1,y=e("#inner-wrap"),k={},x=e("body").data("inputs");navigator.userAgent.indexOf("Android"),parseInt((/WebKit\/([0-9]+)/.exec(navigator.appVersion)||0)[1],10);a(),g.bind("load",function(){a()}),g.resize(function(){clearTimeout(m),m=setTimeout(a,150)});var w=e("#main-wrap img, .svg-graphic").filter(function(e){return!s(this)});if(w.each(function(){this.classList.add("not-loaded")}),"undefined"!=typeof Selects&&e.isFunction(Selects.init_select)&&Selects.init_select(b,x),e(t).on("load",function(){e("body").addClass("boss-page-loaded")}),e("#mobile-right-panel .menu-item-has-children").each(function(){e(this).prepend('<i class="fa submenu-btn fa-angle-down"></i>')}),e("#mobile-right-panel .submenu-btn").on("click",function(t){t.preventDefault(),e(this).toggleClass("fa-angle-left fa-angle-down").parent().find(".sub-menu").slideToggle()}),e(".comment-form-comment .boss-insert-buttons-show").on("click",function(t){t.preventDefault(),e(this).parents(".comment-form").hasClass("boss-show-buttons")?setTimeout(function(){e("#comment").css("visibility","visible").attr("placeholder",e(".comment-form-comment .boss-insert-text").data("placeholder")).focus()},150):e("#comment").removeAttr("placeholder").css("visibility","hidden"),e(this).parents(".comment-form").toggleClass("boss-show-buttons")}),e(".comment-form-comment .boss-insert-image").on("click",function(t){t.preventDefault(),e("#attachment").trigger("click")}),e("#attachment").change(function(){String.prototype.filename=function(e){var t=this.replace(/\\/g,"/");return t=t.substring(t.lastIndexOf("/")+1),t};var t=e(this).val().filename();e("#comments").find(".attached-image").remove(),e("#comment").after('<p class="attached-image"><i class="fa fa-picture-o" aria-hidden="true"></i>'+t+"</p>")}),e("#commentform, #attachmentForm").removeAttr("novalidate"),e(".comment-form-comment .boss-insert-text").on("click",function(t){t.preventDefault(),self=e(this),e("#attachmentForm").removeClass("boss-show-buttons"),setTimeout(function(){e("#comment").css("visibility","visible").attr("placeholder",self.data("placeholder")).focus()},150)}),e("div.bbp-search-form form, form#bbp-search-form").append('<a href="#" id="clear-input"> </a>'),e("a#clear-input").on("click",function(){jQuery("div.bbp-search-form form input[type=text], form#bbp-search-form input[type=text]").val("")}),r(),c(),e(document).ajaxComplete(function(){setTimeout(function(){c()},500),setTimeout(function(){c()},1500)}),"on"==e("#masthead").data("infinite")){var j=!1;function C(){if(j)return!1;j=!0,jq("#content li.load-more").addClass("loading"),null==jq.cookie("bp-activity-oldestpage")&&jq.cookie("bp-activity-oldestpage",1,{path:"/"});var e=1*jq.cookie("bp-activity-oldestpage")+1;return jq.post(ajaxurl,{action:"activity_get_older_updates",cookie:encodeURIComponent(document.cookie),page:e},function(t){jq(".load-more").hide(),jq("#content li.load-more").removeClass("loading"),jq.cookie("bp-activity-oldestpage",e,{path:"/"}),jq("#content ul.activity-list").append(t.contents),j=!1},"json"),!1}jq(document).on("scroll",function(){var e=jq(".load-more:visible");if(e.get(0)){var n=e.offset();jq(t).scrollTop()+jq(t).height()>n.top&&C()}})}var _=e("#header-search").find("form");e("#search-open").on("click",function(e){e.preventDefault(),_.fadeIn(),setTimeout(function(){_.find("#s").focus()},301)}),e("#search-close").on("click",function(e){e.preventDefault(),_.fadeOut()}),e(document).on("click",function(t){var n=e("#header-search");n.is(t.target)||0!==n.has(t.target).length||_.fadeOut()}),l(),g.resize(function(){l()}),b||e("#trigger-sidebar").on("click",function(t){t.preventDefault(),e("body").toggleClass("bb-sidebar-on")}),e(".to-top").bind("click",function(t){t.preventDefault(),e("html, body").stop().animate({scrollTop:"0px"},500)});var T=0;e("#wpadminbar").is(":visible")&&(T=32),e(".sticky-header #masthead").sticky({topSpacing:T}),h.ajaxComplete(function(){e("ul.horiz-gallery h5, ul#group-admins h5, ul#group-mods h5").each(function(){e(this).css({left:-e(this).width()/2+25})})}),e(".trigger-filter").on("click",function(){e(this).next().fadeToggle(200),e(this).toggleClass("notactive active")}),d(),e(document).ajaxSuccess(function(){d()})},jQuery(document).ready(function(){o.init()})}(jQuery,window);