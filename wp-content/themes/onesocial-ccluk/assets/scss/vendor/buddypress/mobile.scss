/*--------------------------------------------------------------
2.1.2 - BuddyPress Activity Plus
--------------------------------------------------------------*/

.bpfb_form_container {
  padding: 0 !important;
}

input {
  &#bpfb_link_preview_url, &#bpfb_video_url {
    width: 94% !important;
  }
}

/*--------------------------------------------------------------
2.1.3 - Invite Anyone
--------------------------------------------------------------*/

.invite-anyone, 
.group-create {
  form#send-invite-form {
    .left-menu {
      width: 100%;
      float: none;
    }

    #invite-anyone-member-list {
      width: 97%;
    }

    .main-column {
      width: 100%;
      float: none;
      clear: left;
    }

    #invite-anyone-invite-list img.avatar {
      position: relative;
      left: 0;
      top: 0;
      float: left;
      width: 50px !important;
      height: 50px !important;
    }
  }
}

#invite-anyone-group-list label {
  max-width: 75%;
  span {
    line-height: 1 !important;
  }
}

/*--------------------------------------------------------------
2.1.4 - BuddyPress Links
--------------------------------------------------------------*/

.item-list-tabs ul li#links-category-select {
  padding: 4px 10px !important;
}

ul#link-list {
  li.avmax-100 div.link-list-left img.avatar {
    float: left;
    position: relative;
    left: 0;
    top: 0;
  }
  div {
    &.link-list-right, &.link-list-footer-right {
      clear: left;
      float: left;
      margin: 20px 0 0 !important;
    }
  }
  li div.meta {
    padding-left: 0 !important;
  }
}

/*--------------------------------------------------------------
2.1.5 - BP Activity Privacy
--------------------------------------------------------------*/

#buddypress div.activity-meta .bp-ap-selectbox {
  margin: 10px;
}

/*--------------------------------------------------------------
2.2.6 - Social Articles
--------------------------------------------------------------*/

body.articles #buddypress ul.nav-tabs {
  padding: 0 15px;
}

/*--------------------------------------------------------------
2.1.7 - BuddyBoss Media
--------------------------------------------------------------*/

#buddyboss-media-add-photo {
  float: right;
  clear: both;
}

#buddyboss-media-add-photo-button {
  float: left;
  clear: left;
  margin: 7px 0 0 0;
  padding: 10px 14px;
  font-weight: 400;
  font-size: 13px;
  text-decoration: none;
  background-color: $white;
  color: $blue;
  -webkit-border-radius: 3px;
  -moz-border-radius: 3px;
  border-radius: 3px;
  -webkit-box-shadow: 0 0 0 1px #ccc inset;
  -moz-box-shadow: 0 0 0 1px #ccc inset;
  box-shadow: 0 0 0 1px #ccc inset;
  &:active {
    background-color: #ddd;
  }
}

.buddyboss-media-progress, .buddyboss-media-progress-bar, .buddyboss-media-progress-value {
  float: none;
  position: absolute;
  top: 10px;
  right: 15px;
}

#buddypress {
  div.buddyboss-media-form-wrapper {
    padding: 8px 10px;
    font-size: 14px;
    border-top: 1px dashed #ddd;
    overflow: hidden;
    form {
      width: 100%;
      padding: 0;
      #message {
        margin-left: 0;
      }
    }
  }
  #bbmedia-grid-wrapper > ul {
    width: auto;
    margin: 0;
  }
}

.boss-create-post .buddyboss-select {
  top: 10px;
}

.mobile-item-nav-container {
  margin: 0 auto;
  position: relative;
  overflow: hidden;
  -webkit-backface-visibility: hidden;
  -moz-backface-visibility: hidden;
  -ms-backface-visibility: hidden;
  -o-backface-visibility: hidden;
  backface-visibility: hidden;
  /* Fix for Webkit flickering */
  z-index: 1;
}

.mobile-item-nav-wrapper {
  margin-left: auto;
  margin-right: auto;
  position: relative;
  width: 100%;
  min-height: 98px;
  -webkit-transition-property: -webkit-transform, left, top;
  -webkit-transition-duration: 0s;
  /* -webkit-transform:translate3d(0,0,0); activate the GPU for hardware acceleration */
  -webkit-transition-timing-function: ease;
  -moz-transition-property: -moz-transform, left, top;
  -moz-transition-duration: 0s;
  /* -moz-transform:translate3d(0,0,0); activate the GPU for hardware acceleration */
  -moz-transition-timing-function: ease;
  -o-transition-property: -o-transform, left, top;
  -o-transition-duration: 0s;
  /* -o-transform:translate3d(0,0,0); activate the GPU for hardware acceleration */
  -o-transition-timing-function: ease;
  -o-transform: translate(0, 0);
  -ms-transition-property: -ms-transform, left, top;
  -ms-transition-duration: 0s;
  /* -ms-transform:translate3d(0,0,0); activate the GPU for hardware acceleration */
  -ms-transition-timing-function: ease;
  transition-property: transform, left, top;
  transition-duration: 0s;
  /* transform:translate3d(0,0,0); activate the GPU for hardware acceleration */
  transition-timing-function: ease;
}

.mobile-item-nav-container, 
#mobile-item-nav {
  &.fixed {
    width: 852px !important;
    height: auto;
  }
}

.mobile-item-nav-scroll-container {
  &.fixed {
    width: 100% !important;
    height: auto;
  }
  #mobile-item-nav.fixed {
    width: 852px !important;
    height: auto;
  }
}

#blog-order-select form {
  margin-left: 0;
}

#buddypress #groups-directory-form .item-list-tabs li, 
.entry-content #buddypress #blogs-directory-form .item-list-tabs li, 
#buddypress #members-directory-form .item-list-tabs li {
  float: none;
  margin: 0 0 10px 3px;
}

.entry-content #buddypress #blogs-directory-form .item-list-tabs li:first-child {
  margin-left: 0;
}

#buddypress {
  #mobile-item-nav-wrap,
  ul#activity-stream li.activity-item {
      background: transparent;
  }
  div#item-header div#item-header-content {
    h2, p {
      margin-bottom: 8px;
    }
  }
  #members-directory-form .item-list-tabs li:first-child {
    margin-left: 0;
  }
  .groups-members-search {
    max-width: 100%;
    width: 100%;
  }
  #groups-directory-form .item-list-tabs, 
  #members-directory-form .item-list-tabs, 
  .dir-search.boss-search-wrapper {
    max-width: 100%;
  }
}

.single-item.groups #secondary {
  margin-top: 0;
}

div.footer-inner-bottom .footer-inner {
  @include flex-column-nowrap();
}

.bb-group-avatar-wrap-desktop,
.item-header-sidebar {
  display: none;
}

.bb-group-avatar-wrap-mobile {
  margin-right: 30px;
  float: left;
}

#buddypress div#item-header div#item-meta {
  text-shadow: 0 0 1px rgba(255, 255, 255, 0.9);
}

.groups .bb-group-avatar-wrap-mobile div#item-header-avatar {
  margin-right: 20px;
  width: auto;
}

.bb-group-avatar-wrap-mobile #item-header-content {
  padding-top: 120px;
  position: relative;
}

#item-title-area {
  h1 {
    font-size: $font-size-lg;
    margin: 0;
    text-align: left;
  }
}

.single-item {
  &.groups .bb-group-avatar-wrap-mobile + #item-header {
    margin-top: 0;
  }
  #buddypress #item-title-area {
    display: block;
    height: auto;
  }
  &.groups #buddypress #item-nav {
    clear: both;
  }
}

.boss-group-header #item-actions::after {
  clear: both;
  content: "";
  display: table;
}

#buddypress div#item-header .group-admin-name {
  color: inherit;
  text-shadow: 0 0 0;
}

/*--------------------------------------------------------------
1.1.8 - BuddyPress Components: Activity, Groups, Blogs, Forums, Profiles
--------------------------------------------------------------*/
/* Activity Page Header */

body:not(.bp-user).activity {
  .entry-header {
    padding: 15px;
    margin: 0;
  }
  .entry-content {
    overflow: hidden;
    > p {
      margin-left: 15px;
      margin-right: 15px;
    }
  }
}

#item-header-avatar {
  display: inline-block;
  position: relative;
  width: 124px;
  &.bb-group-avatar-wrap {
    text-align: center;
    width: 100%;
  }
}

#buddypress {
  .author-follow {
    top: 20px;
  }
}

/* Thumbnail */

#send-private-message.generic-button {
  right: -4px;
}

/* Header Content */

#buddypress div#item-header {

  #item-meta p {
    margin: 10px 0 0;
    font-size: $font-size-tiny;
    color: $green;
  }
  h2 {
    font-size: $font-size-sm;
    color: $green;
    font-weight: 600;
    margin: 0;
  }
  span.activity {
    border: none;
    background: none;
    color: $gray;
    font-size: $font-size-sm;
    padding: 0;
    margin: 8px 0 20px;
  }
}

/* Header Title */

body.single-item #buddypress div#item-header span.activity {
  margin: 15px 0 5px;
}

/* Item Buttons */

#buddypress div#item-header {
  #item-buttons {
    clear: left;
    overflow: hidden;
    display: block;
  }
  div.generic-button {
    float: left;
    margin: 0 10px 10px 0;
    a {
      display: block;
    }
  }
}

div#item-header-avatar {
  margin: 10px auto 20px;
  display: inline-block;
  position: relative;
}

.bb-group-avatar-wrap {
  width: 100%;
}

div#item-header-avatar img.avatar {
  margin: 0;
  width: 100%;
  height: auto;
  border: none;
  box-shadow: none;
  vertical-align: bottom;
  max-width: 140px;
  border-radius: 50%;
}

#buddypress .activity-list li {
  &.load-more.loading a:after, 
  &.load-newest.loading a:after {
    color: $white;
  }
}

body {
    &.single-item.groups #buddypress .dir-list.group_members,
    &.single #buddypress .dir-list,
    &.bp-user #buddypress .dir-list,
    &.page-right-sidebar #buddypress .dir-list {
      ul.item-list > li {
        width: 50%;
      }
    }

    .item-header-mobile {
      display: block;
    }

    .item-header-sidebar {
      display: none;
    }
    
    .bb-group-avatar-wrap-mobile {
      margin-right: 30px;
      float: left;
    }
    
    &.groups {
      .bb-group-avatar-wrap-mobile div#item-header-avatar {
        margin-right: 20px;
        width: auto;
      }

      div#item-header-avatar {
        /*width: 100%;*/
        text-align: center;
      }
    }
    
    .bb-group-avatar-wrap-mobile #item-header-content {
      padding-top: 120px;
      position: relative;
    }
    
    &.single-item {
      &.groups .bb-group-avatar-wrap-mobile + #item-header {
        margin-top: 0;
      }
      #buddypress #item-title-area {
        display: block;
        height: auto;
      }
      &.groups #buddypress #item-nav {
        clear: both;
      }
    }

    .boss-group-header #item-actions::after {
      clear: both;
      content: "";
      display: table;
    }
    
    #buddypress div#item-header .group-admin-name {
      color: inherit;
      text-shadow: 0 0 0;
    }
    #item-title-area {
      h1 {
        font-size: 26px;
        margin: 0;
      }
    }
    .bb-group-mobile-content {
        display: block;
        overflow: hidden;
        width: -moz-calc(100% - 221px);
        width: -webkit-calc(100% - 221px);
        width: -o-calc(100% - 221px);
        width: calc(100% - 221px);
        float: right;
        #item-meta {
            p {
                color: $green;
            }
        }
    }
    .boss-group-header {
      .group-header-content {
        width: -moz-calc(100% - 221px);
        width: -webkit-calc(100% - 221px);
        width: -o-calc(100% - 221px);
        width: calc(100% - 221px);
        float: right;
        h1 {
          width: 100%;
        }
      }
      #item-actions {
        overflow: hidden;
        width: 100%;
      }
    }
    .bb-group-avatar-wrap-mobile {
      display: block;
    }

    #buddypress {
      .dir-list ul.item-list > li {
        width: 33.33333%;
      }
      #groups-directory-form .item-list-tabs {
        max-width: 100%;
      }
    }
    .entry-content #buddypress #blogs-directory-form .item-list-tabs {
      max-width: 100%;
    }
    #buddypress {
      #members-directory-form .item-list-tabs, .dir-search.boss-search-wrapper {
        max-width: 100%;
      }
    }
    .single-item.groups #secondary {
      margin-top: 0;
    }

    &.has-activity {
        #buddypress {
            div.item-list-tabs,
            form#whats-new-form {
                background: transparent;
            }
        }
    }

    &.bp-user {
      /* Header Content */

      #buddypress #item-header-content {
        margin-top: 8px;
        min-height: 74px;
      }

      #item-header {
          text-align: center;
      }

      .info-group .bb-follow-title {
          margin-top: 0;
          margin-bottom: 20px;
      }
    }

    &.buddypress article.error404 .entry-header {
      margin-left: 0;
      max-width: 100%;
    }
    &.single-item.groups #buddypress {
      #item-header-content {
          margin-top: 0;
          /* min-height: 74px; */
      }
      div#item-header div#item-actions {
        display: none;
        /* delete this line to display Group Admins on phones */
        background: transparent;
        box-shadow: none;
        width: 100%;
      }
    }
    &.bp-user #buddypress #item-header-avatar,
    &.single-item.groups #buddypress #item-header-avatar {
        margin-top: 0;
    }
}

/* Group Header */
/* Group Admins (top bar) */

#buddypress {
  div {
    &#item-header {
      div#item-actions {
        float: left;
        margin: 0 0 15px;
        padding: 5px 0;
        width: 100%;
        position: relative;
      }

      div#item-meta {
        margin-top: 6px;
      }

      h3 {
        float: left;
        font-size: 14px;
        padding-top: 6px;
        padding-left: 10px;
      }
      ul {
        &#group-admins, &#group-mods {
          float: right;
          margin-bottom: 0;
          padding-right: 6px;
          line-height: 1;
        }
      }
    }
    &.pagination .pagination-links {
      margin-top: 15px;
    }
  }
}


/* Pagination */

&.directory.activity #buddypress > div.item-list-tabs[role="navigation"],
&.bp-user #buddypress div#subnav.item-list-tabs {
    margin-bottom: 20px;
}

/*--------------------------------------------------------------
1.1.9 - Item Lists
--------------------------------------------------------------*/

#buddypress {
  .activity-list li {
    &.load-more, 
    &.load-newest {
      margin: 15px 0;
      padding: 0;
      border: none;
      clear: both;
      @include button-load-more();
    }
  }

  ul {
    &.item-list {
      border: none;
    }
    &#activity-stream {
      border-top: none;
      width: 100%;
    }
  }
  #activity-stream .activity-inner > p {
    font-size: 16px;
  }
  ul#activity-stream li.activity-item {
    clear: both;
    padding: 0;
    margin-bottom: 15px;
  }
}

&.has-activity #buddypress {
  div.item-list-tabs, form#whats-new-form {
    clear: both;
    padding: 0;
    margin-bottom: 15px;
  }
}
&.photos #buddypress form#whats-new-form {
  clear: both;
  padding: 0;
  margin-bottom: 15px;
  @include border-radius( 3px );
}

#buddypress ul#activity-stream li.activity-item {
  margin-left: 60px;
  overflow: visible;
  margin-bottom: 20px;
  &:before {
    content: ".";
    display: block;
    height: 0;
    overflow: hidden;
  }
  &:after {
    content: ".";
    display: block;
    height: 0;
    overflow: hidden;
    clear: both;
  }
}

/* clearfix */

&.has-activity #buddypress {
  div.item-list-tabs {
    width: 100%;
    overflow: hidden;
    margin-bottom: 0;
  }
  form#whats-new-form {
    width: 100%;
    overflow: hidden;
    margin-bottom: 0;
    padding-bottom: 30px;
    border-bottom: none;
    margin-bottom: 20px;
  }
}

&.bp-user #buddypress #item-body form#whats-new-form {
  border: 0;
  margin-bottom: 20px;
}

&.has-activity #buddypress div.item-list-tabs {
  padding-bottom: 20px;
  margin-bottom: 20px;
}
&.bp-user #buddypress div.item-list-tabs {
  margin-bottom: 0;
  padding: 0;
}

#buddypress {
    ul#activity-stream {
        li img.avatar {
          width: 50px;
          height: 50px;
          position: absolute;
          left: -60px;
          top: 0;
          border: none;
          margin: 0;
      }
      .acomment-avatar img.avatar {
          position: relative;
      }
  }
  div.activity-comments div.acomment-avatar img {
    width: 32px !important;
    height: 32px !important;
    position: absolute;
    left: 10px !important;
    top: 4px !important;
  }
  #activity-stream .acomment-content p {
    font-size: 15px;
  }
  ul.item-list li div {
      &.item-title {
          width: 100%;
          span {
              font-size: $font-size-sm;
              font-weight: 400;
              font-style: italic;
              &.activity-read-more {
                  font-style: normal;
              }
          }
      }
      &.item-desc p {
          margin: 0;
      }
      &.action {
          clear: left;
          margin: 20px 0;
      }
  }

  div {
    &.dir-search a#clear-input {
      width: 50px;
      height: 66px;
      line-height: 66px;
      display: block;
      text-align: center;
      position: absolute;
      text-decoration: none;
      right: 0;
      top: 0px;
      display: none;
    }
    &.message-search {
      a#clear-input {
        width: 50px;
        height: 66px;
        line-height: 66px;
        display: block;
        text-align: center;
        position: absolute;
        text-decoration: none;
        right: 0;
        top: 0px;
        display: none;
      }
      margin: 20px 0 30px;
    }
  }
  form {
    input:focus, textarea:focus {
      outline: none;
    }
  }
  #item-body form {
    float: left;
    width: 100%;
  }

  #item-body form.standard-form ul {
    width: 100%;
    padding: 0;
    &.radio, &.checkbox {
      list-style-type: none;
    }
    &.radio li, &.checkbox li {
      margin: 0 0 0 10px;
    }
  }
  .standard-form {
    .field_multi-select select {
      width: 98%;
    }
  }

  /*  Search Input Fields */

  div {
    &.dir-search, &.message-search {
      width: 100%;
      margin: 0;
      float: left !important;
      position: relative;
      form {
        width: 100%;
        margin: 0;
        float: left !important;
        position: relative;
      }
    }
    &.dir-search {
      label, form label {
        width: 100%;
        padding-bottom: 10px;
      }
    }
    &.message-search {
      label, form label {
        width: 100%;
        padding-bottom: 10px;
      }
    }
    &.dir-search input[type=submit], &.message-search input[type=submit] {
      /* display: none; */
    }
    &.dir-search input[type="text"], &.message-search input[type="text"] {
      float: left;
      height: 25px;
      padding: 6px 2% 6px 3%;
      width: 95%;
      position: relative;
      -webkit-appearance: none;
    }
  }
}

#bbpress-forums {
  div.bbp-search-form a#clear-input, form#bbp-search-index-form a#clear-input {
    width: 50px;
    height: 66px;
    line-height: 66px;
    display: block;
    text-align: center;
    position: absolute;
    text-decoration: none;
    right: 0;
    top: 0px;
    display: none;
  }
}


&.directory #buddypress ul.item-list li div.item-desc {
  /*margin: 10px 0 0 0;*/
  width: auto;
  clear: left;
}

#main #buddypress div#item-meta.author-header-meta {
  margin-bottom: 0;
}


/*--------------------------------------------------------------
1.1.10 - Sub Navigation: Carousel
--------------------------------------------------------------*/

#buddypress {
  #mobile-item-nav-wrap {
    margin-bottom: 15px;
    min-height: 110px;
    min-width: calc(100% - 30px);
    div.item-list-tabs {
      border: none;
      margin: 0;
      padding: 0;
    }
  }
  #mobile-item-nav {
    ul {
      min-height: 90px;
      @include display-flex-box();
      align-items: center;
      padding-top: 0;
      margin: 0 !important;
    }
    > div.item-list-tabs {
        margin: 0;
        > ul li {
          height: 60px;
          width: 80px;
          margin: 0 5px 30px;
          padding: 0;
          border: none;
          background-color: $blue_bg;
          position: relative;
          background-repeat: no-repeat !important;
          background-size: 90%;
          background-position: 50% 50% !important;
          -webkit-tap-highlight-color: transparent;
          text-align: center;
          &:first-of-type {
            margin-left: 10px;
          }
          a {
            color: $blue;
            font-weight: 500;
            text-decoration: none;
            padding: 63px 0 8px 0 !important;
            background-color: transparent;
            width: 80px;
            left: 0;
            top: 0;
            text-align: center;
            height: 35px;
            line-height: 14px;
            font-size: $font-size-tiny;
            position: absolute;
          }
          &:active,
          &.current,
          &.selected,
          &:hover {
            border: none;
            background-color: $green;

            a {
              color: $green;
            }
          }
        }
    }
  }
}


#mobile-item-nav ul#nav-bar-filter {
  > li {
    span {
      display: none;
    }
    &:before {
      font-family: 'FontAwesome';
      content: "\f006";
      font-weight: normal;
      font-style: normal;
      text-rendering: auto;
      text-decoration: inherit;
      speak: none;
      display: inline-block;
      width: 80px;
      line-height: 60px;
      font-size: 38px;
      -webkit-font-smoothing: antialiased;
      vertical-align: middle;
      text-align: center;
      color: $white;
    }
    &#activity-personal-li:before {
      font-family: 'FontAwesome';
      content: "\f14b";
    }
    &#xprofile-personal-li:before {
      font-family: 'FontAwesome';
      content: "\f007";
    }
    &#blogs-personal-li:before {
      font-family: 'FontAwesome';
      content: "\f02c";
    }
    &#notifications-personal-li:before {
      font-family: 'FontAwesome';
      content: "\f0a2";
    }
    &#messages-personal-li:before {
      font-family: 'FontAwesome';
      content: "\f003";
    }
    &#friends-personal-li:before,
    &#members-groups-li:before {
      font-family: 'FontAwesome';
      content: "\f0c0";
    }
    &#groups-personal-li:before,
    &#home-groups-li:before {
      font-family: 'FontAwesome';
      content: "\f0ac";
    }
    &#invite-groups-li:before {
      font-family: 'FontAwesome';
      content: "\f055";
    }
    &#forums-personal-li:before,
    &#nav-forum-groups-li:before {
      font-family: 'FontAwesome';
      content: "\f0e5";
    }
    &#photos-personal-li:before {
      font-family: 'FontAwesome';
      content: "\f030";
    }
    &#settings-personal-li:before,
    &#admin-groups-li:before {
      font-family: 'FontAwesome';
      content: "\f013";
    }
  }
}


/*--------------------------------------------------------------
1.1.11 - Sub Navigation: Upper Tabs
--------------------------------------------------------------*/

&.has-activity #buddypress div.item-list-tabs ul {
  margin: 10px 15px;
  li {
    margin: 0 10px 10px 0;
  }
}

&.bp-user a.button.sap-new-post-btn {
  font-size: 14px;
  margin-bottom: 29px;
}

#buddypress {
  div.item-list-tabs {
    width: 100%;
    display: block;
    clear: both;
    margin: 0;
  }
  .dir-search.boss-search-wrapper,
  #groups-directory-form .item-list-tabs,
  #members-directory-form .item-list-tabs {
    float: none;
    max-width: 100%;
  }
  div.item-list-tabs ul {
    list-style: none;
    padding: 0;
    text-align: center;
    li {
      list-style: none;
      padding: 0;
      text-align: center;
    }
  }
  div {
    &#subnav.item-list-tabs ul li.feed {
      border: none;
      padding: 0;
      background-color: transparent;
    }
    &#filter ul {
      margin: 0;
      li {
        margin: 0;
      }
    }
    &.item-list-tabs ul li:not(.groups-members-search),
    &#filter.whats-new-select ul li {
      display: inline-block;
      padding: 4px 5px;
      position: relative;
      margin: 0 5px 5px 0;
      line-height: 1.4;
      background-color: $white;
    }
  }
  div.item-list-tabs ul li {
    &.groups-members-search {
      margin: 0 0 30px;
      overflow: hidden;
    }
    a, span {
      text-decoration: none;
      font-weight: 400;
      padding: 8px 10px;
      background-image: none !important;
    }
  }
  div {
    &.item-list-tabs ul {
      li {
        a span, 
        &.loading a:after {
          display: none;
        }
      }
      .button {
        clear: left;
        font-weight: 400;
        width: 99%;
      }
    }
    &#whats-new-post-in-box {
      font-size: $font-size-tiny;
      line-height: 38px;
      width: 100%;
      @include display-flex();
    }
  }
}

/*--------------------------------------------------------------
1.1.12 - Filters
--------------------------------------------------------------*/

#whats-new-form.isCollapsed div#whats-new-post-in-box {
  display: none;
}

#buddypress {
  #activity-visibility + #whats-new-post-in-box {
    margin-left: 0;
  }
  div {
    &#whats-new-post-in-box {
      .buddyboss-select {
        margin-left: 10px;
        max-width: 75%;
        text-align: left;
      }
      .buddyboss-select-inner > span {
        display: inline-block;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
        width: 100%;
      }
    }
    &#filter {
      &.item-list-tabs, 
      &.whats-new-select {
        clear: left;
        margin: 0 0 15px;
        width: 100%;

        ul {
          margin: 0;
          overflow: visible;

          li {
            clear: both;
            width: 100%;
            margin-top: 5px;
            position: relative;
            display: block;
            height: 37px;
            padding: 0;
            margin: 0;

            &.last {
              margin-top: 0;
              width: 100%;
            }
            &#activity-filter-select, 
            &.filter {
              clear: both;
              width: 100%;
              margin-top: 5px;
              position: relative;
              display: block;
              height: 37px;
              padding: 0;
              margin: 0;

              select {
                cursor: pointer;
                height: 37px;
                width: 100%;
                opacity: 0;
                border: none;
                /* overrides browser default */
                margin: 0 !important;
                position: absolute;
                left: 0;
                top: 0;
              }

              label {
                float: left;
                margin-left: 15px;
                font-weight: 600;
                height: 37px;
                line-height: 37px;
                display: none;
              }
            }
          }
        }
      }
    }
  }
}


/* Activity Filter */

div#whats-new-post-in-box {
  float: left;
  ul li {
    list-style: none;
    margin-top: 5px !important;
  }
}

/*--------------------------------------------------------------
1.1.13 - Profile
--------------------------------------------------------------*/

#item-posts {
  clear: both;
}

#sort-posts-form {
  margin-top: 10px;
}

#buddypress div#item-header .members-list-results div#message.info {
  width: 100%;
  margin: 0;
}

#search-members-form {
@include display-flex();
  label {
    -webkit-box-flex: 1;
    -webkit-flex: 1 1 0;
    -ms-flex: 1 1 0;
    flex: 1 1 0;
    input {
      height: 36px;
      width: 100%;
    }
  }
}

/*--------------------------------------------------------------
1.1.13.1 - Private Messaging Threads
--------------------------------------------------------------*/

#messages-layout {
  width: 100%;
  float: left;
  -webkit-box-flex: none;
  -webkit-flex: none;
  -ms-flex: none;
  flex: none;
}

#leftcolumn {
  width: 100%;
  margin-top: 30px;
  padding-right: 0;
}

#contentcolumn {
  margin-left: 0;
}

#message-threads {
  .thread-from, .thread-options {
    width: auto;
  }
}

#messages-bulk-manage {
  float: right;
  padding: 12px 20px;
}

/* Inbox / Sent */

#buddypress div.messages-options-nav {
  text-align: left;
  font-size: $font-size-tiny;
  overflow: hidden;
  .buddyboss-select {
    float: left;
    margin-right: 10px;
  }
}

&.my-messages.notices #buddypress table#message-threads tr td {
  padding-left: 0 !important;
  padding-right: 0 !important;
}

/* Sitewide Notices and Alerts */

&.has-activity #buddypress div#message {
  width: 92%;
  margin: 0 4%;
}

div#sitewide-notice div#message p {
  padding: 20px 70px 20px 20px;
  font-size: 14px;
}



/*--------------------------------------------------------------
1.1.13.2 - Settings
--------------------------------------------------------------*/

#buddypress form#settings-form input[type="password"] {
  width: 50%;
}

/* Profile Settings */

#show-nav {
  display: none;
}

&.search {
  .page-title, .type-page > .entry-header .entry-title {
    font-size: 30px;
    margin-top: 40px;
    margin-bottom: 26px;
  }
}

h1.big,
.group-create .create-group-title {
  font-size: 30px;
  margin-top: 40px;
  margin-bottom: 26px;
}

&.settings.bp-user #settings-form {
  margin: 20px auto 30px;
}

#buddypress {
  table.profile-settings td.field-visibility {
    width: 140px;
  }
  div.profile h4 {
    background: transparent;
    padding: 0;
    margin: 0 0 14px;
    border: none;
    font-size: 18px;
    line-height: 1.3;
  }
  form#profile-edit-form div {
    &.submit {
      padding: 0;
    }
  }
}

/*--------------------------------------------------------------
1.1.13.2 - Group
--------------------------------------------------------------*/

&.single-item.groups #buddypress {
  div#subnav.item-list-tabs {
    border-bottom: none;
  }

  .dir-list.group_members ul.item-list > li {
    width: auto;
  }
}

/* Group Settings */

&.group-settings #buddypress #item-body {
  font-size: $font-size-tiny;
  form#group-settings-form {
    ul {
      padding: 15px 0 15px 37px;
      width: auto;
    }
    hr {
      display: none;
    }
  }
}

#buddypress {
  .standard-form div.checkbox label {
    margin-left: 4%;
  }
  form#group-settings-form {
    label {
      position: relative;
    }
    div.mobile-checkbox label span.text {
      margin-top: -2px;
      display: block;
      color: #555;
      font-weight: 600;
      font-size: 14px;
      margin-left: 30px;
    }
    h4 {
      margin-top: 5px;
    }
    div {
      &.mobile-radio {
        margin: 15px 4%;
        ul {
          padding: 5px 0 0 30px !important;
          li {
            list-style: none;
            color: #999;
            font-size: 13px;
            line-height: 18px;
          }
        }
        &.privacy-options > label {
          margin-bottom: 25px;
        }
      }
      &:not(#message) p {
        font-size: 14px;
        line-height: 20px;
        color: #555;
        margin-bottom: 15px;
        padding: 10px 4%;
      }
    }
    > p {
      font-size: 14px;
      line-height: 20px;
      color: #555;
      margin-bottom: 15px;
    }
    p.sep {
      height: 0;
    }
    ul {
      &.item-list {
        padding-bottom: 10px;
        li {
          margin-bottom: 10px;
          border-bottom: 1px solid $light;
          padding: 10px 5% 10px 5%;
          display: -webkit-box;
          display: -moz-box;
          display: -ms-flexbox;
          display: -webkit-flex;
          display: flex;
        }
      }
      &#admins-list li {
        background-color: #F3F7FA;
      }
      &.item-list li h5 {
        float: left;
        clear: none;
        margin: 0 0 0 5px;
        padding: 0;
      }
    }
    span.small {
      clear: both;
      width: 100%;
      float: left;
      display: block;
      padding-top: 20px;
      -webkit-transition: max-height 0.2s ease;
      -moz-transition: max-height 0.2s ease;
      -ms-transition: max-height 0.2s ease;
      -o-transition: max-height 0.2s ease;
      transition: max-height 0.2s ease;
      &.inactive {
        display: none;
        a {
          margin-top: 15px;
        }
      }
      &.active {
        height: auto;
        max-height: 200px;
        padding-top: 20px;
      }
    }
    ul#admins-list li span.small a {
      margin: 0 !important;
    }
    span.small a {
      line-height: 20px;
      font-size: 13px !important;
      &.member-unban {
        width: 45%;
      }
    }
    ul {
      &#members-list span.small a, &#mods-list span.small a {
        width: 47%;
        float: left;
        margin-top: 5px;
      }
      &#members-list span.small a:nth-child(even), &#mods-list span.small a:nth-child(even) {
        margin-left: 4%;
        float: right;
      }
      &#members-list a.show-options {
        float: right;
        color: #999;
        font-size: $font-size-tiny;
        &:after {
          font-family: 'FontAwesome';
          font-weight: normal;
          font-style: normal;
          text-rendering: auto;
          text-decoration: inherit;
          speak: none;
          display: inline-block;
          line-height: 1;
          content: "\f0d7";
          font-size: 14px;
          -webkit-font-smoothing: antialiased;
          color: #999;
          margin-left: 8px;
        }
        &.active:after {
          content: "\f0d8";
        }
        &:hover {
          text-decoration: none;
        }
      }
    }
    div.notification-settings {
      clear: both;
      width: 100%;
      padding-bottom: 15px;
      float: left;
      label {
        float: left;
        margin: 0;
        margin-left: 2%;
      }
    }
  }
}

/* Group Settings - Forms */

&.notifications-options-nav .buddyboss-select {
  float: left;
  margin-right: 30px;
  max-width: 50%;
}

#buddypress {
  .standard-form div.radio ul li {
    margin: 0;
  }
  #settings-form p {
    margin-bottom: 10px;
    font-size: 14px;
  }
}

/* Notifications */

/*--------------------------------------------------------------
Directories: Members, Groups, Blogs, Forums
--------------------------------------------------------------*/

.directory {
  &.members .site #primary, 
  &.groups .site #primary {
    padding-left: 15px;
    padding-right: 15px;
  }
}

.dir-header {
  font-size: 40px;
  margin-top: 10px;
}

/*--------------------------------------------------------------
1.1.15 - Group Header
--------------------------------------------------------------*/

&.single-item.groups {
  #buddypress div {
    &#item-body {
      padding-top: 5px;
    }
    &#item-header div#item-header-avatar {
      height: 185px;
      margin-bottom: 20px;
    }
  }
}

/** --- **/

@media screen and (min-width: 623px) {
  .bb-group-mobile-content {
    display: block;
    overflow: hidden;
  }
  .boss-group-header .group-header-content {
    margin-bottom: 10px;
  }
  .bb-group-mobile-content {
    width: -moz-calc(100% - 221px);
    width: -webkit-calc(100% - 221px);
    width: -o-calc(100% - 221px);
    width: calc(100% - 221px);
    float: right;
  }
  .boss-group-header {
    .group-header-content {
      width: -moz-calc(100% - 221px);
      width: -webkit-calc(100% - 221px);
      width: -o-calc(100% - 221px);
      width: calc(100% - 221px);
      float: left;
      h1 {
        width: 100%;
      }
    }
    #item-actions {
      overflow: hidden;
      width: 100%;
    }
  }
  .bb-group-avatar-wrap-mobile.bb-group-avatar-wrap-mobile {
    display: block;
  }
}

/** --- **/

.bb-cover-photo button.update-cover-photo {
  margin-left: 12px;
}

@media screen and (max-width: 622px) {
  .bb-group-avatar-wrap-mobile.bb-group-avatar-wrap-mobile {
    float: none;
    text-align: center;
    margin-right: 0;
  }
  .boss-group-header .group-header-content {
    margin-top: 20px;
    width: 100%;
    margin-bottom: 0;
  }
  .bb-group-mobile-content {
    width: 100%;
  }
}

@media screen and (max-width: 560px) {
  &.single-item.groups #buddypress div#item-header {
    #item-header-avatar img.avatar {
      width: 165px;
      height: 165px;
    }
    div#item-header-avatar {
      height: 165px;
    }
  }
  &.single-item.groups #item-header {
    text-align: center;
  }
  .group-header-content,
  &.single-item.groups #buddypress #item-header-content {
    text-align: left;
  }
  #item-title-area h1 {
    font-size: $font-size-mid;
    margin: 0;
  }
  &.single-item.groups #buddypress div#item-header div#item-header-avatar {
    height: auto;
  }
}

/*--------------------------------------------------------------
1.1.15 - Group: Members
--------------------------------------------------------------*/

&.single-item.groups #buddypress ul.item-list li div.action {
  width: auto;
  clear: both;
  a {
    display: block;
  }
}

&.groups {
  &.group-members {
    #buddypress {
      #subnav.item-list-tabs {
        max-width: 450px;
        margin-left: auto;
        margin-right: auto;
      }
    }
  }
}

/*--------------------------------------------------------------
1.1.16 - Group: Create
--------------------------------------------------------------*/

&.group-create #buddypress .item-body {
  clear: both;
}

/*--------------------------------------------------------------
1.1.17 - Group: Create
--------------------------------------------------------------*/

#create-group-form {
  padding: 15px;
}

/*--------------------------------------------------------------
1.1.18 - Group: Send Invites
--------------------------------------------------------------*/

#buddypress {
  div#invite-list {
    width: 95%;
    padding: 2.5%;
    height: auto;
    min-height: 0;
    ul li {
      /*width: 50%;*/
      /*float: left;*/
      list-style: none;
      margin: 0 0 16px;
    }
  }
  #create-group-form #invite-list li {
    width: 100%;
  }
  ul#friend-list.groups li {
    padding: 15px 0 !important;
  }
  div.friends ul.item-list li div.item, ul#friend-list li div.item {
    /*padding-left: 67px;*/
    min-height: 52px;
  }
}

@media screen and (max-width: 380px) {
  /*--------------------------------------------------------------
  1.2.2 - Groups: Page
  --------------------------------------------------------------*/
  article.bp_group .entry-header h1 {
    width: 100%;
    clear: both;
  }
  /*--------------------------------------------------------------
  1.2.3 - Lists
  --------------------------------------------------------------*/
  #buddypress ul {
    &.item-list li div.item {
      width: auto;
    }
    &#members-list div.action, &#groups-list div.action {
      padding: 0 0 5px;
      width: 100%;
    }
  }
  &.my-messages.notices #buddypress table#message-threads.messages-notices tr td {
    display: block;
    width: 100% !important;
    border-bottom: 0;
  }
}

/*----------------------------------------------------------------
>>> BBPRESS
----------------------------------------------------------------*/
/*--------------------------------------------------------------
1.1 - All mobile devices
--------------------------------------------------------------*/
/* Topic list */

.bbp-body ul li {
  height: auto;
  border-bottom: none;
}

.type-topic h1.big, .type-forum h1.big {
  margin-top: 0;
}

li {
  &.bbp-body li {
    &.bbp-forum-topic-count, 
    &.bbp-topic-voice-count, 
    &.bbp-forum-reply-count, 
    &.bbp-topic-reply-count {
      display: none;
    }
  }
  &.bbp-forum-info, 
  &.bbp-topic-title {
    border-bottom: none;
  }

  &.bbp-forum-info, 
  &.bbp-topic-title {
    width: 30%;
  }
  &.bbp-forum-freshness, 
  &.bbp-topic-freshness {
    width: 24%;
  }
  &.bbp-forum-topic-count, 
  &.bbp-topic-voice-count, 
  &.bbp-forum-reply-count, 
  &.bbp-topic-reply-count {
    width: 20%;
  }
}

p.form-allowed-tags, 
div.bbp-submit-wrapper {
  width: 100%;
}

.bbp-topic-form, 
.bbp-reply-form, 
.bbp-topic-tag-form {
  overflow: hidden;
  @include border-radius( 0 );
}

#bbpress-forums {
  div {
    &.bbp-topic-author,
    &.bbp-reply-author {
      width: auto;
      position: relative;
    
      .bbp-author-avatar {
        position: absolute;
        left: 0;
        top: 0;
      }

      .bbp-author-name,
      .bbp-author-role,
      .bbp-user-nicename {
        margin-left: 70px;
      }
    }

  }

  ul.bbp-threaded-replies {
    /*margin-left: 0;*/
    /* indent threaded replies less on mobile */
    padding-left: 26%;
    &:before {
      left: 15px;
      top: 0;
      width: 18%;
    }
  }
  .bbp-replies div {
    &.topic, &.reply {
      margin-bottom: 20px;
    }
  }
  li.bbp-body ul {
    &.forum, 
    &.topic {
      padding-bottom: 15px;
      margin-bottom: 15px;
      border-bottom: 1px solid $divider_color;
    }
    &.topic {
      /* padding: 12px 15px; */
      div.bbp-topic-title-content {
        padding: 0;
        margin-bottom: 11px;
      }
    }
    &.forum div.bbp-forum-info-content {
      padding: 0;
      margin-bottom: 11px;
    }
  }
  .bbp-forums-list {
    margin-bottom: 15px;
  }
  li {
    &.bbp-header, &.bbp-footer {
      display: none;
      /* too much info for cramped mobile space */
    }
  }

  div.bbp-search-form,
  form#bbp-search-index-form {
    input[type=text] {
      float: left;
    }

    input[type=submit] {
      display: none;
    }
  }

  div.bbp-search-form, 
  form#bbp-search-index-form {
    float: left;
    clear: both;
    width: 100%;
    position: relative;
  }

  div {
    &.bbp-topic-author, 
    &.bbp-reply-author {
      float: left;
      position: relative;
      margin: 0 0 8px;
    }

    &.bbp-topic-author, 
    &.bbp-reply-author {
      img.avatar {
        float: left;
        display: block;
      }
      div.bbp-reply-ip {
        display: none;
      }
    }

    &.bbp-topic-content, 
    &.bbp-reply-content {
      clear: left;
      margin: 0;
      padding: 5px 0;
      font-size: 15px;
      display: block;
    }
  }

  li {
    &.bbp-header, 
    &.bbp-footer {
      .bbp-topic-author,
      .bbp-reply-author {
        width: 100%;
      }

      .bbp-topic-content,
      .bbp-reply-content {
        clear: left;
        margin: 0;
        padding: 5px 0;
        font-size: 15px;
        display: block;
      }
    }

    &.bbp-header div {
      &.bbp-search-content {
        text-align: left;
        clear: left;
        margin: 0;
        padding: 5px 0;
        font-size: 15px;
        display: block;
      }
      &.bbp-search-author {
        width: 100%;
        float: left;
      }
    }
  }

  ul {
    &.bbp-lead-topic, &.bbp-topics, &.bbp-forums, &.bbp-replies {
      margin-top: 25px;
      margin-bottom: 0;
      float: left;
    }
  }
}

span.bbp-admin-links {
  display: none;
  /* too much info for cramped mobile space */
}

li {
  &.bbp-forum-topic-count,
  &.bbp-topic-voice-count,
  &.bbp-forum-reply-count,
  &.bbp-topic-reply-count,
  &.bbp-forum-topic-count,
  &.bbp-topic-voice-count,
  &.bbp-forum-reply-count,
  &.bbp-topic-reply-count {
    display: none;
  }
  &.bbp-forum-info a.bbp-forum-title,
  &.bbp-topic-title a.bbp-topic-permalink {
    line-height: 110%;
  }
}

.bbp-forum-content {
  font-size: $font-size-sm;
  margin-bottom: 10px;
}

div {
  &.bbp-breadcrumb {
    clear: both;
    float: none;
    margin-top: 20px;
  }
  &.bbp-topic-header, 
  &.bbp-reply-header, 
  &.bbp-forum-header {
    padding: 10px 20px;
    font-size: $font-size-tiny;
  }
}

li.bbp-body .bb-reply-author {
  width: 100%;
}

.bbp-topic-content, 
.bbp-reply-content {
  p:last-child {
    margin-bottom: 0;
  }
}

span.bbp-admin-links {
  float: left;
  a {
    font-size: $font-size-tiny;
  }
}

body.activity-permalink #buddypress .activity-content {
  .activity-inner, blockquote {
    margin-left: 0;
    margin-top: 5px;
  }
}

#buddypress {
  .activity-inner > {
    p {
      word-wrap: break-word;
    }
    .activity-inner, blockquote {
      margin: 0;
    }
  }
  .activity-list .activity-content img.thumbnail {
    border: 2px solid $light;
    float: left;
    margin: 0 10px 5px 0;
  }
  .activity-read-more {
    margin-left: 1em;
    white-space: nowrap;
  }
}

#activity-visibility {
  margin-right: 0;
}

#whats-new-header:after {
  display: none;
}

#buddypress #whats-new-selects {
  clear: both;
  display: block;
  float: right;
  margin-top: -40px;
  overflow: hidden;
  padding-top: 0;
  width: calc(100% - 75px);
}

.bp-user.my-account.photos #buddypress #whats-new-selects {
  float: none;
  width: auto;
}

/*--------------------------------------------------------------
1.1.4 - Activity Comments
--------------------------------------------------------------*/

#buddyboss-media-preview, .buddyboss-bbpress-media-preview, .buddyboss-comment-media-preview {
  padding: 0 10px;
}

#buddypress ul#activity-stream li.activity-item div.activity-meta a:active {
  background-color: $light;
}

body.activity-permalink #buddypress ul#activity-stream {
  margin-top: 8px;
}

#buddypress {
  a {
    &.activity-time-since {
      color: $blue;
      font-weight: 400 !important;
      &:hover {
        color: #888;
      }
    }
    &.bp-primary-action {
      margin-right: 5px;
      text-decoration: none;
    }
  }
  #reply-title small a {
    margin-right: 5px;
    text-decoration: none;
  }
  a.bp-primary-action span, #reply-title small a span {
    background-color: #999;
    color: $white;
    margin-left: 2px;
    padding: 0 5px;
    -webkit-border-radius: 3px;
    -moz-border-radius: 3px;
    border-radius: 3px;
  }
  a.bp-primary-action:hover span, #reply-title small a:hover span {
    background-color: #555;
    color: $white;
  }
  div.activity-comments {
    width: auto;
    clear: both;
    > ul {
      padding: 0;
    }
    ul {
      border: none;
      list-style: none;
      li {
        border: none;
        list-style: none;
        &.show-all, &.activity-like-count {
          padding: 8px 10px;
          font-size: 14px;
        }
        &.reply-like-count {
          padding: 0;
          border: none;
          margin-top: 2px;
        }
        padding: 10px 0 0 0;
        border-top: 1px dashed #ddd;
      }
      clear: both;
      margin: 0;
    }
    form.ac-form {
      border-top: 1px dashed #ddd;
    }
    ul li:first-child {
      border-top: 0;
    }
    form.ac-form {
      position: relative;
    }
  }
}

body.activity-permalink #buddypress .activity-list li.mini .activity-comments {
  clear: none;
  margin-top: 0;
}

#buddypress div {
  &.activity-comments {
    ul li {
      &:last-child {
        margin-bottom: 0;
      }
      > ul {
        margin-top: 0;
      }
    }
    div {
      &.acomment-avatar img {
        height: 30px;
        width: 30px;
      }
      &.acomment-content {
        margin: 0 10px 10px 52px;
        padding-right: 10px;
        font-size: 14px;
        clear: both;
      }
    }
  }
  &.acomment-content {
    .time-since, .activity-delete-link, .comment-header {
      display: none;
    }
  }
  &.activity-comments {
    div.acomment-meta {
      color: $gray;
      line-height: 1.4;
      margin: 0 10px 10px 0;
    }
    form.ac-form {
      display: none;
    }
    li form.ac-form {
      clear: both;
      border-top: 2px solid $white;
    }
    form {
      &.ac-form {
        border-top: 0;
        margin-left: 0;
        margin-bottom: 15px;
        overflow: hidden;
      }
      div {
        &.ac-reply-avatar {
          padding-left: 15px;
          padding-top: 15px;
        }
        &.ac-reply-content {
          margin-left: 0;
          margin-bottom: 15px;
          padding: 0 15px;
        }
      }
    }
  }
}

#page #buddypress .activity .activity-comments div.ac-reply-avatar img {
  max-width: 36px;
}

#buddypress div.activity-comments div#message {
  margin-top: 15px;
  margin-bottom: 0;
}

#buddypress {
  div.acomment-header {
    display: -webkit-box;
    display: -webkit-flex;
    display: -ms-flexbox;
    display: flex;
    /*    -webkit-flex-flow: column;
        -ms-flex-flow: column;
        flex-flow: column;*/
    padding-left: 55px;
  }
  .acomment-header .activity-time-since:before {
    display: none;
  }
}

#main #buddypress .activity-comments .acomment-options {
  margin-right: 10px;
  text-align: left;
}

#buddypress .activity-comments div.acomment-header {
  display: block;
}

#bb-activity-stream .bbmedia-grid-item {
  width: 50%;
}

/*
#whats-new-form.isCollapsed #whats-new-textarea, #whats-new-form.isCollapsed #whats-new-options {
    opacity: 1;
}
form#whats-new-form.isCollapsed {
    height: auto;
}
*/

#buddypress {
  #whats-new-header-content, 
  #whats-new-avatar {
    display: inline-block;
    vertical-align: top;
  }
  #whats-new-header-content {
    max-width: calc(100% - 50px);
  }
  div.activity-meta {
    border-top: 1px dashed #ddd;
    float: left;
    margin-bottom: 0;
    width: 100%;
  }
  #activity-stream .activity-header > {
    .activity-meta {
      width: 80px;
      border: none;
      float: none;
      padding-top: 4px;
      padding-bottom: 8px;
    }
    p, .activity-meta {
      vertical-align: middle;
      display: block;
      text-align: left;
      width: inherit;
    }
    p {
      margin: 0;
    }
  }

  #item-photos #bbmedia-grid-wrapper > ul {
    margin: 0 -15px 10px !important;
  }
  
  #blogs-list {
    > li {
      @include display-flex();
      .blog-details {
        -webkit-box-flex: 1;
        -webkit-flex: 1;
        -ms-flex: 1;
        flex: 1;
        padding-left: 15px;
      }
      .item-meta {
        overflow: hidden;
      }
    }
    li div.action {
      margin: 15px 0;
    }
  }
  #group-list.invites li img.avatar {
    margin: 0 15px 10px 0;
  }
}

/*----------------------------------------------------------------
>>> BUDDYPRESS
----------------------------------------------------------------*/
/*--------------------------------------------------------------
1.0 - All mobile devices
--------------------------------------------------------------*/
/*--------------------------------------------------------------
1.1.1 - General
--------------------------------------------------------------*/
/* Body Content on Activity pages */

#item-body {
  clear: both;
}

/*--------------------------------------------------------------
1.1.2 - Post Form
--------------------------------------------------------------*/

#buddypress {
  form#whats-new-form {
    #whats-new-content, #whats-new-header {
      margin: 15px;
      padding: 0;
      width: auto;
      display: block;
      height: auto;
    }
    p.activity-greeting {
      /* line-height: 140%; */
      /* margin: 10px 15px; */
      /* padding-left: 0; */
      /* background: transparent; */
    }
    #whats-new-textarea #whats-new {
      padding: 2%;
      /*width: 95.5%;*/
      height: 75px !important;
      background-color: $white;
    }
    #whats-new-submit {
      float: none;
      margin: 10px 0 0;
    }
  }
  div.ac-reply-content a.ac-reply-cancel {
    &.desktop {
      display: none;
    }
    &.mobile {
      display: inline;
      float: left;
    }
  }
}

#whats-new-form {
  .activity-greeting, .whats-author {
    font-size: 16px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    width: 100%;
  }
}

.bp-user #buddypress #item-body form#whats-new-form {
  min-height: 130px;
}

/*--------------------------------------------------------------
1.1.3 - Activity Listing
--------------------------------------------------------------*/

#buddypress {
  ul.activity-list li {
    overflow: hidden;
    padding: 15px 0 0;
    list-style: none;
  }
  .activity-list .activity-avatar {
    float: left;
    overflow: hidden;
  }
  ul.item-list.activity-list li.has-comments {
    padding-bottom: 15px;
  }
}

body.activity-permalink #buddypress ul.activity-list li.has-comments {
  padding-bottom: 0;
}

#buddypress .activity-permalink .activity-list li.mini .activity-avatar img {
  &.avatar, &.FB_profile_pic {
    height: auto;
    margin-left: 0;
    width: auto;
  }
}

body.activity-permalink #buddypress .activity-list > li:first-child {
  padding-top: 0;
}

#buddypress {
  .activity-list li {
    .activity-content {
      position: relative;
      overflow: hidden;
    }
    &.mini .activity-content p {
      margin: 0;
    }
  }
}

&.activity-permalink #buddypress {
  li.mini .activity-meta {
    margin-top: 4px;
  }

  .activity-list li .activity-content {
    margin: 8px;
  }
}

#buddypress {
  .activity-list {
    li .activity-inreplyto {
      display: none;
      /* hides the View Conversation link */
      > p {
        margin: 0;
        display: inline;
      }
      blockquote, div.activity-inner {
        background: none;
        border: none;
        display: inline;
        margin: 0;
        overflow: hidden;
        padding: 0;
      }
    }
    .activity-content, .activity-comments {
      margin: 0;
    }
  }

  .activity-list .activity-content {
    .activity-header, 
    .comment-header {
      margin: 0 0 10px;
      padding: 0 10px 0;
      color: #888;
      line-height: 1.8 !important;
      height: 41px;
    }
    .activity-header {
      margin-bottom: 0;
      padding-top: 5px;
      p {
        line-height: 140% !important;
      }
    }
    .comment-header p {
      line-height: 140% !important;
    }
    .activity-header a, .comment-header a {
      font-weight: 600;
    }
    .activity-header a span, .comment-header a span {
      color: #888;
    }
  }
  .activity-header {
    margin-right: 20px;
    a {
      text-decoration: none;
    }
  }
  .comment-meta a {
    text-decoration: none;
  }
  .acomment-meta a {
    text-decoration: none;
    font-weight: 400 !important;
  }
  .activity-list .activity-content .activity-header img.avatar {
    display: none;
  }
  a.bp-secondary-action, span.highlight {
    font-size: 90%;
    padding: 0;
    margin-right: 5px;
    text-decoration: none;
  }
  div#item-header div#item-header-content span.highlight {
    background-color: $green_bg;
    color: $white;
    font-size: $font-size-tiny;
    padding: 4px 7px;
    margin-right: 5px;
    text-decoration: none;
    -moz-border-radius: 2px;
    -webkit-border-radius: 2px;
    border-radius: 2px;
  }
  .activity-list .activity-content {
    .activity-inner {
      clear: left;
      overflow: hidden;
      font-size: 14px;
      padding: 10px;
      border: none !important;
      .button {
        display: inline;
        font-size: inherit;
        font-weight: 400;
        padding: 3px 7px;
        width: auto;
      }
      img {
        max-width: 100%;
        height: auto;
        box-shadow: none;
        line-height: 1;
        display: inline-block;
      }
    }
    blockquote {
      margin: 0 10px 0 0;
      overflow: hidden;
    }
  }
}

.boss-insert-buttons {
  left: 5px;
  position: absolute;
  top: -58px;
}

.boss-insert-buttons-addons {
  left: -5px;
  top: 20px;
}

#item-photos {
  clear: both;
  padding: 0 15px;
  &::after {
    clear: both;
    content: " ";
    display: table;
  }
  .wrap {
    padding-top: 30px;
  }
}

#item-photos .activity {
  margin-bottom: 30px;
  margin-top: 20px;
  padding-bottom: 0;
}


/*--------------------------------------------------------------
MAXIMUM width of 768 pixels
--------------------------------------------------------------*/

@media screen and (max-width: 768px) {
  #buddypress {
    .dir-list ul.item-list > li {
      width: 50%;
    }

    table#message-threads tr td.thread-info {
      width: 40%;
    }
  }

  &.bp-user-blog #header-aside-inner > .header-notifications {
    display: none;
  }

  #message-threads {
    .thread-options {
      width: 12%;
    }
    .thread-from {
      width: 35%;
    }
  }
}

/*--------------------------------------------------------------
MAXIMUM width of 520 pixels
--------------------------------------------------------------*/

@media screen and (max-width: 520px) {
  body.buddypress {
    #buddypress ul.item-list li .activity-avatar div {
      font-size: 14px;
      line-height: 1.4;
    }

    .group-avatar #group-create-body {
      .left-menu {
        position: relative;
        margin-bottom: 22px;
      }
      .main-column {
        margin-left: 0;
      }
    }
  }

  .single-item.groups {
    #buddypress {
      #item-header span.activity {
        text-shadow: none;
      }
    }
  }
  
  .bb-has-sidebar #buddypress .dir-list.mygroups, 
  .single-item.groups #buddypress .dir-list.group_members, 
  .single #buddypress .dir-list, 
  .bp-user #buddypress .dir-list, 
  .page-right-sidebar #buddypress .dir-list {
    ul.item-list > li {
      width: 100%;
    }
  }

  .bb-group-avatar-wrap-mobile.bb-group-avatar-wrap-mobile {
    float: none;
    text-align: center;
    margin-right: 0;
  }
}

/*--------------------------------------------------------------
MAXIMUM width of 480 pixels and MINIMUM width of 380 pixels (phones)
--------------------------------------------------------------*/
@media screen and (max-width: 480px) and (min-width: 380px) {
  #bbpress-forums li {
    &.bbp-forum-freshness, 
    &.bbp-topic-freshness {
      p.bbp-topic-meta {
        width: 85%;
      }
    }
  }
}

@media screen and (max-width: 480px) {
  #bbp-topic-details {
    white-space: normal;
  }
  div.bbp-topic-tags {
    max-width: inherit;
    width: 100%;
    margin-right: 0;
    text-align: left;
  }
  #buddypress table#message-threads tr {
    th:first-child, td:first-child {
      padding-right: 10px;
    }
  }
  .is-mobile.single #sitewide-notice:not(:empty) + #page {
    padding-top: 0;
  }

  #item-title-area .group-header-wrap {
    display: block;
  }
  .bb-cover-photo {
    height: 280px;
  }
  .single-item.groups #buddypress #item-header span.activity, #item-title-area h1 {
    color: inherit;
  }
  .bb-group-avatar-wrap-mobile.bb-group-avatar-wrap-mobile {
    margin-bottom: 10px;
    margin-right: 0;
  }
  .boss-group-header .group-header-content {
    max-height: none;
  }

  #buddypress .dir-form div.item-list-tabs ul li a span,
  #buddypress div#subnav.item-list-tabs ul li a span,
  #buddypress div:not(#item-nav):not(#mobile-item-nav)>.item-list-tabs ul li a span,
  #buddypress>div[role=navigation].item-list-tabs ul li a span,
  .bp-legacy div#item-body div.item-list-tabs ul li a span {
    @include border-radius( 5px );
  }

  #buddypress {
    ul.item-list li .activity-avatar div {
      display: none;
    }
    .dir-list ul.item-list > li {
        width: 100%;
    }
  }
}

/*--------------------------------------------------------------
MAXIMUM width of 380 pixels (phones portrait)
--------------------------------------------------------------*/
@media screen and (max-width: 380px) {
  #buddypress table#message-threads tr.unread td.thread-from {
    &:before, &:after {
      display: none;
    }
  }

  #message-threads .unread:after {
    left: 20px;
    width: calc(100% - 20px);
  }

  li {
    &.bbp-forum-info, 
    &.bbp-topic-title {
      width: 30%;
    }
    &.bbp-forum-freshness, 
    &.bbp-topic-freshness {
      width: 24%;
    }
    &.bbp-forum-topic-count, 
    &.bbp-topic-voice-count, 
    &.bbp-forum-reply-count, 
    &.bbp-topic-reply-count {
      width: 20%;
    }
  }
}

/***************** Mobile ******************/

body {
  &.has-activity.is-mobile #buddypress {
    form#whats-new-form {
      background-color: $secondary_bg;
    }
  }
  
  &.photos.is-mobile #buddypress form#whats-new-form {
    background-color: $secondary_bg;
  }

  &.is-mobile #buddypress #mobile-item-nav ul li {
    &:active, 
    &.current, 
    &.selected {
      background-color: $green;
    }
  }
}

/***************** End Mobile ******************/
