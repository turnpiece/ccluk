(function(e){function t(t){for(var i,a,o=t[0],l=t[1],c=t[2],u=0,p=[];u<o.length;u++)a=o[u],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&p.push(r[a][0]),r[a]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);d&&d(t);while(p.length)p.shift()();return n.push.apply(n,c||[]),s()}function s(){for(var e,t=0;t<n.length;t++){for(var s=n[t],i=!0,o=1;o<s.length;o++){var l=s[o];0!==r[l]&&(i=!1)}i&&(n.splice(t--,1),e=a(a.s=s[0]))}return e}var i={},r={settings:0},n=[];function a(t){if(i[t])return i[t].exports;var s=i[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=e,a.c=i,a.d=function(e,t,s){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(s,i,function(t){return e[t]}.bind(null,i));return s},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/app/assets/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var d=l;n.push([1,"chunk-vendors","chunk-common"]),s()})({1:function(e,t,s){e.exports=s("6eeb5")},"4dc0":function(e,t,s){"use strict";var i=s("d876"),r=s.n(i);r.a},"6eeb5":function(e,t,s){"use strict";s.r(t);s("e260"),s("e6cf"),s("cca6"),s("a79d");var i=s("2b0e"),r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"sui-wrap",attrs:{id:"beehive-wrap"}},[s("sui-header",{attrs:{title:e.$i18n.title.settings},scopedSlots:e._u([{key:"right",fn:function(){return[s("refresh-button")]},proxy:!0}])}),s("div",{staticClass:"sui-row-with-sidenav"},[s("div",{staticClass:"sui-sidenav"},[s("ul",{staticClass:"sui-vertical-tabs sui-sidenav-hide-md"},[s("router-link",{staticClass:"sui-vertical-tab",attrs:{tag:"li",to:"/permissions"}},[s("a",[e._v(e._s(e.$i18n.menus.permissions))])])],1),s("div",{staticClass:"sui-sidenav-hide-lg"},[s("sui-select",{staticClass:"sui-mobile-nav",staticStyle:{display:"none"},attrs:{id:"settings-nav",options:e.navigation},model:{value:e.selectedPage,callback:function(t){e.selectedPage=t},expression:"selectedPage"}})],1)]),s("router-view",{attrs:{processing:e.processing},on:{submit:e.saveSettings}})],1),s("sui-footer"),e.showOnboarding?s("onboarding"):e.showWelcome?s("welcome-modal"):e._e()],1)},n=[],a=(s("96cf"),s("1da1")),o=s("23f7"),l=s("6e06"),c=s("2323"),d=s("c895"),u=s("da43"),p=s("e94b"),h={name:"App",components:{SuiHeader:l["a"],SuiFooter:c["a"],SuiSelect:d["a"],Onboarding:o["a"],WelcomeModal:p["a"],RefreshButton:u["a"]},data:function(){return{processing:!1,selectedPage:"#"+this.$route.path,navigation:{"#/permissions":this.$i18n.menus.permissions}}},created:function(){var e=this;this.$root.$on("googleLoginUpdate",(function(t){e.$store.dispatch("helpers/updateGoogleLogin",{reInit:!0,status:t})})),this.$root.$on("googleConnectProcessed",(function(t){t.success&&e.$store.dispatch("helpers/updateGoogleProfiles",{reInit:!0})}))},mounted:function(){this.$store.state.helpers.google.logged_in&&this.$store.dispatch("helpers/updateGoogleApi",{})},computed:{showOnboarding:function(){return!this.getOption("onboarding_done","misc")},showWelcome:function(){return!this.showOnboarding&&(this.isMultisite()&&this.isNetworkWide()&&this.isNetwork()?this.getOption("show_welcome","misc",!1,!0):(!this.isMultisite()||!this.isNetworkWide())&&this.getOption("show_welcome","misc"))}},methods:{saveSettings:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.processing=!0,t.next=3,e.saveOptions();case 3:s=t.sent,s?e.$root.$emit("showTopNotice",{message:e.$i18n.notice.changes_saved}):e.$root.$emit("showTopNotice",{dismiss:!0,type:"error",message:e.$i18n.notice.changes_failed}),e.processing=!1;case 6:case"end":return t.stop()}}),t)})))()}}},m=h,b=(s("4dc0"),s("2877")),v=Object(b["a"])(m,r,n,!1,null,null,null),g=v.exports,f=s("8c4f"),_=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"sui-box",attrs:{id:"beehive-settings-permissions"}},[s("box-header",{attrs:{title:e.$i18n.title.permissions}}),s("div",{staticClass:"sui-box-body"},[e.canShowStats?s("div",{staticClass:"sui-box-settings-row",attrs:{id:"beehive-settings-permissions-statistics"}},[s("div",{staticClass:"sui-box-settings-col-1"},[s("span",{staticClass:"sui-settings-label"},[e._v(" "+e._s(e.$i18n.label.statistics)+" ")]),s("span",{staticClass:"sui-description"},[e._v(" "+e._s(e.$i18n.desc.statistics)+" ")])]),s("div",{staticClass:"sui-box-settings-col-2"},[s("div",{staticClass:"sui-side-tabs sui-tabs"},[s("div",{attrs:{"data-tabs":""}},[s("div",{staticClass:"active",attrs:{id:"permissions-roles-stats"}},[e._v(" "+e._s(e.$i18n.label.roles)+" ")]),s("div",{attrs:{id:"permissions-capabilities-stats"}},[e._v(" "+e._s(e.$i18n.label.capabilities)+" ")])]),s("div",{attrs:{"data-panes":""}},[s("div",{staticClass:"active"},[s("statistics-roles")],1),s("div",{staticClass:"sui-tab-boxed"},[s("statistics-capability")],1)])]),e.isNetwork()?s("override-settings",{attrs:{id:"permissions-statistics-roles-override",label:e.$i18n.label.override_permissions},model:{value:e.overwriteStatsCap,callback:function(t){e.overwriteStatsCap=t},expression:"overwriteStatsCap"}}):e._e()],1)]):e._e(),e.canShowSettings?s("div",{staticClass:"sui-box-settings-row",attrs:{id:"beehive-settings-permissions-settings"}},[s("div",{staticClass:"sui-box-settings-col-1"},[s("span",{staticClass:"sui-settings-label"},[e._v(" "+e._s(e.$i18n.label.settings)+" ")]),e.isMultisite()?s("span",{staticClass:"sui-description"},[e._v(" "+e._s(e.$i18n.desc.settings_network))]):s("span",{staticClass:"sui-description"},[e._v(" "+e._s(e.$i18n.desc.settings)+" ")])]),s("div",{staticClass:"sui-box-settings-col-2"},[s("div",{staticClass:"sui-tabs sui-tabs-overflow"},[s("div",{staticClass:"sui-tabs-menu",attrs:{role:"tablist"}},[s("button",{staticClass:"sui-tab-item active",attrs:{type:"button",role:"tab",id:"permissions-settings-roles-tab","aria-controls":"permissions-settings-roles-tab-content","aria-selected":"true"}},[e._v(" "+e._s(e.$i18n.label.user_role)+" ")]),s("button",{staticClass:"sui-tab-item",attrs:{type:"button",role:"tab",id:"permissions-settings-users-tab","aria-controls":"permissions-settings-users-tab-content","aria-selected":"false",tabindex:"-1"}},[e._v(" "+e._s(e.$i18n.label.custom_users)+" ")])]),s("div",{class:e.tabsContentClass},[s("div",{staticClass:"sui-tab-content active",attrs:{role:"tabpanel",tabindex:"0",id:"permissions-settings-roles-tab-content","aria-labelledby":"permissions-settings-roles-tab"}},[s("p",{staticClass:"sui-description"},[e._v(" "+e._s(e.$i18n.desc.user_role)+" ")]),s("p",{staticClass:"sui-description"},[e._v(" "+e._s(e.$i18n.desc.user_role_second)+" ")]),s("settings-roles")],1),s("div",{staticClass:"sui-tab-content",attrs:{role:"tabpanel",tabindex:"0",id:"permissions-settings-users-tab-content","aria-labelledby":"permissions-settings-users-tab",hidden:""}},[s("p",{staticClass:"sui-description"},[e._v(" "+e._s(e.$i18n.desc.custom_users)+" ")]),s("settings-users")],1)])]),e.isNetwork()?s("override-settings",{attrs:{id:"permissions-settings-roles-override",label:e.$i18n.label.override_permissions},model:{value:e.overwriteSettingsCap,callback:function(t){e.overwriteSettingsCap=t},expression:"overwriteSettingsCap"}}):e._e()],1)]):e._e()]),s("box-footer",{attrs:{processing:e.processing},on:{submit:function(t){return e.$emit("submit")}}}),s("users-form")],1)},C=[],y=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"sui-modal sui-modal-sm"},[s("div",{staticClass:"sui-modal-content sui-content-fade-in",attrs:{role:"dialog","aria-modal":"true",id:e.modal,"aria-labelledby":e.modal+"-title","aria-describedby":e.modal+"-desc"}},[s("div",{staticClass:"sui-box"},[s("div",{staticClass:"sui-box-header sui-flatten sui-content-center sui-spacing-top--60"},[s("button",{staticClass:"sui-button-icon sui-button-float--right",attrs:{id:e.modal+"-close"},on:{click:e.closeModal}},[s("i",{staticClass:"sui-icon-close sui-md",attrs:{"aria-hidden":"true"}}),s("span",{staticClass:"sui-screen-reader-text"},[e._v(" "+e._s(e.$i18n.dialog.close)+" ")])]),s("h3",{staticClass:"sui-box-title sui-lg",attrs:{id:e.modal+"-title"}},[e._v(" "+e._s(e.$i18n.title.add_user)+" ")]),s("p",{staticClass:"sui-description",attrs:{id:e.modal+"-desc"}},[e._v(" "+e._s(e.$i18n.desc.add_user)+" ")])]),s("div",{staticClass:"sui-box-body"},[s("div",{staticClass:"sui-form-field"},[s("label",{staticClass:"sui-label",attrs:{for:e.modal+"-search",id:e.modal+"-search-label"}},[e._v(" "+e._s(e.$i18n.label.search_users)+" ")]),s("sui-remote-search",{attrs:{id:e.modal+"-search","label-id":e.modal+"-search-label",placeholder:e.$i18n.label.type_user_name,ajax:e.ajaxObject},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)]),s("div",{staticClass:"sui-box-footer sui-flatten sui-content-separated"},[s("button",{staticClass:"sui-button sui-button-ghost",on:{click:e.closeModal}},[e._v(" "+e._s(e.$i18n.dialog.cancel)+" ")]),s("button",{staticClass:"sui-button",class:e.loadingClass,attrs:{type:"button","aria-live":"polite",disabled:!e.selected},on:{click:e.addUser}},[s("span",{staticClass:"sui-button-text-default"},[s("i",{staticClass:"sui-icon-check",attrs:{"aria-hidden":"true"}}),e._v(" "+e._s(e.$i18n.button.add)+" ")]),s("span",{staticClass:"sui-button-text-onload"},[s("i",{staticClass:"sui-icon-loader sui-loading",attrs:{"aria-hidden":"true"}}),e._v(" "+e._s(e.$i18n.button.adding)+" ")])])])])])])},x=[],$=(s("99af"),s("4160"),s("caad"),s("2532"),s("159b"),s("2909")),w=s("8f47"),k=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("select",{staticClass:"sui-search",attrs:{multiple:"multiple",id:e.id,"aria-labelledby":e.labelId,"aria-describedby":e.descId,disabled:e.disabled}})},S=[],O=(s("a9e3"),{name:"SuiRemoteSearch",props:{id:{type:String,required:!0},value:{type:String|Number,required:!0},labelId:{type:String,required:!1},descId:{type:String,required:!1},placeholder:{type:String,required:!1},disabled:{type:Boolean,default:!1},ajax:{type:Object,required:!0}},data:function(){return{select2:null}},mounted:function(){this.select2=jQuery("#"+this.id),this.initSelect2()},watch:{value:function(e){this.select2.val(e).trigger("change")}},destroyed:function(){this.select2.off().SUIselect2("destroy")},methods:{initSelect2:function(){var e=this;this.select2.SUIselect2({minimumInputLength:2,maximumSelectionLength:1,dropdownCssClass:"sui-search-dropdown",placeholder:this.placeholder,ajax:this.ajax}).on("change",(function(){e.$emit("input",this.value)})).val(this.value).trigger("change")}}}),U=O,R=Object(b["a"])(U,k,S,!1,null,null,null),I=R.exports,j={name:"UsersForm",components:{SuiRemoteSearch:I},mixins:[w["a"]],data:function(){return{modal:"beehive-settings-permissions-exclude-modal",adding:!1,type:"exclude",selected:""}},created:function(){var e=this;this.$root.$on("openSettingsPermissionsUsersForm",(function(t){e.type=t.type,e.closeFocus=t.focus,e.openModal()})),this.$on("modal:close",(function(t){e.selected=""}))},computed:{loadingClass:function(){return{"sui-button-onload-text":this.adding}},includeUsers:{get:function(){return this.getOption("settings_include_users","permissions",[])},set:function(e){this.setOption("settings_include_users","permissions",e)}},excludeUsers:{get:function(){return this.getOption("settings_exclude_users","permissions",[])},set:function(e){this.setOption("settings_exclude_users","permissions",e)}},ajaxObject:function(){var e=this;return{url:this.$vars.rest.base+"data/users",dataType:"json",data:this.formatParams,beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",e.$vars.rest.nonce)},processResults:this.processData}}},methods:{addUser:function(){this.adding=!0,this.selected>0&&("exclude"===this.type?this.addExcludedUser(this.selected):this.addIncludedUser(this.selected)),this.closeModal(),this.adding=!1},addIncludedUser:function(e){this.includeUsers.includes(e)||this.includeUsers.push(e)},addExcludedUser:function(e){this.excludeUsers.includes(e)||this.excludeUsers.push(e)},processData:function(e){var t=this,s=[];return e.data.forEach((function(e){t.$store.dispatch("helpers/setUser",e),s.push({id:e.ID,text:"".concat(e.display_name," (").concat(e.user_email,")")})})),{results:s}},formatParams:function(e){var t={network:this.isNetwork()?1:0,search:e.term,exclude_ids:[].concat(Object($["a"])(this.excludeUsers),Object($["a"])(this.includeUsers))};return"exclude"===this.type?t.include_roles=this.getOption("settings_roles","permissions",[]):t.exclude_roles=this.getOption("settings_roles","permissions",[]),t}}},P=j,A=Object(b["a"])(P,y,x,!1,null,null,null),N=A.exports,E=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"sui-form-field"},[e.isMultisite()?s("label",{staticClass:"sui-checkbox sui-checkbox-stacked",attrs:{for:"beehive-settings-permissions-user-role-network-administrator"}},[s("input",{attrs:{type:"checkbox",id:"beehive-settings-permissions-user-role-network-administrator","aria-labelledby":"beehive-settings-permissions-user-role-network-administrator-label",checked:"",disabled:""}}),s("span",{attrs:{"aria-hidden":"true"}}),s("span",{attrs:{id:"beehive-settings-permissions-user-role-network-administrator-label"}},[e._v(" "+e._s(e.$i18n.label.network_administrator)+" ")])]):e._e(),s("label",{staticClass:"sui-checkbox sui-checkbox-stacked",attrs:{for:"beehive-settings-permissions-user-role-administrator"}},[s("input",{attrs:{type:"checkbox",id:"beehive-settings-permissions-user-role-administrator","aria-labelledby":"beehive-settings-permissions-user-role-administrator-label",checked:"",disabled:""}}),s("span",{attrs:{"aria-hidden":"true"}}),s("span",{attrs:{id:"beehive-settings-permissions-user-role-administrator-label"}},[e._v(" "+e._s(e.$i18n.label.administrator)+" ")])]),e._l(e.roles,(function(t,i){return s("label",{key:i,staticClass:"sui-checkbox sui-checkbox-stacked",attrs:{for:"beehive-settings-permissions-user-role-"+i}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.enabledRoles,expression:"enabledRoles"}],attrs:{type:"checkbox",id:"beehive-settings-permissions-user-role-"+i,"aria-labelledby":"beehive-settings-permissions-user-role-"+i+"-label",disabled:e.shouldDisable},domProps:{value:i,checked:Array.isArray(e.enabledRoles)?e._i(e.enabledRoles,i)>-1:e.enabledRoles},on:{change:function(t){var s=e.enabledRoles,r=t.target,n=!!r.checked;if(Array.isArray(s)){var a=i,o=e._i(s,a);r.checked?o<0&&(e.enabledRoles=s.concat([a])):o>-1&&(e.enabledRoles=s.slice(0,o).concat(s.slice(o+1)))}else e.enabledRoles=n}}}),s("span",{attrs:{"aria-hidden":"true"}}),s("span",{attrs:{id:"beehive-settings-permissions-user-role-"+i+"-label"}},[e._v(" "+e._s(t)+" ")])])}))],2)},q=[],M={name:"SettingsRoles",data:function(){return{roles:this.$moduleVars.roles}},computed:{enabledRoles:{get:function(){return this.getOption("settings_roles","permissions",[])},set:function(e){this.setOption("settings_roles","permissions",e)}},shouldDisable:function(){return this.isNetwork()&&this.getOption("overwrite_settings_cap","permissions")}}},T=M,D=Object(b["a"])(T,E,q,!1,null,null,null),F=D.exports,V=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"sui-side-tabs sui-tabs"},[s("div",{attrs:{"data-tabs":""}},[s("div",{staticClass:"active"},[e._v(e._s(e.$i18n.button.exclude))]),s("div",[e._v(e._s(e.$i18n.button.include))])]),s("div",{attrs:{"data-panes":""}},[s("div",{staticClass:"active"},[s("p",{staticClass:"sui-description"},[e._v(" "+e._s(e.$i18n.desc.exclude_users)+" ")]),e.excludeUsers.length?s("label",{staticClass:"sui-label"},[e._v(" "+e._s(e.$i18n.label.excluded_users)+" ")]):e._e(),e._l(e.excludeUsers,(function(t){return s("recipient-item",{key:t,attrs:{type:"exclude",user:t,disabled:e.shouldDisable},on:{removeUser:e.removeExcludedUser}})})),s("button",{staticClass:"sui-button sui-button-ghost",attrs:{role:"button",id:"beehive-permissions-settings-users-exclude-open",disabled:e.shouldDisable},on:{click:e.openExcludeUserForm}},[s("i",{staticClass:"sui-icon-plus",attrs:{"aria-hidden":"true"}}),e._v(" "+e._s(e.$i18n.button.add_user)+" ")])],2),s("div",[s("p",{staticClass:"sui-description"},[e._v(" "+e._s(e.$i18n.desc.include_users)+" ")]),e.includeUsers.length?s("label",{staticClass:"sui-label"},[e._v(" "+e._s(e.$i18n.label.include_users)+" ")]):e._e(),e._l(e.includeUsers,(function(t){return s("recipient-item",{key:t,attrs:{type:"include",user:t,disabled:e.shouldDisable},on:{removeUser:e.removeIncludedUser}})})),s("button",{staticClass:"sui-button sui-button-ghost",attrs:{role:"button",id:"beehive-permissions-settings-users-include-open",disabled:e.shouldDisable},on:{click:e.openIncludeUserForm}},[s("i",{staticClass:"sui-icon-plus",attrs:{"aria-hidden":"true"}}),e._v(" "+e._s(e.$i18n.button.add_user)+" ")])],2)])])},W=[],B=(s("4de4"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"sui-recipient"},[s("span",{staticClass:"sui-recipient-name"},[e._v(e._s(e.getName))]),s("span",{staticClass:"sui-recipient-email"},[e._v(e._s(e.getEmail))]),s("button",{staticClass:"sui-button-icon",attrs:{type:"button",disabled:e.disabled||e.$moduleVars.current_user==e.user},on:{click:function(t){return e.$emit("removeUser",e.user)}}},[s("i",{staticClass:"sui-icon-trash",attrs:{"aria-hidden":"true"}})])])}),L=[],H={name:"RecipientItem",props:{user:{type:Number|String,required:!0},type:{type:String,required:!0},disabled:{type:Boolean,default:!1}},computed:{getName:function(){var e=this.$store.getters["helpers/user"](this.user);return e.display_name||"-"},getEmail:function(){var e=this.$store.getters["helpers/user"](this.user);return e.user_email||"-"}}},G=H,Q=Object(b["a"])(G,B,L,!1,null,null,null),J=Q.exports,X={name:"SettingsUsers",components:{RecipientItem:J},computed:{includeUsers:{get:function(){return this.getOption("settings_include_users","permissions",[])},set:function(e){this.setOption("settings_include_users","permissions",e)}},excludeUsers:{get:function(){return this.getOption("settings_exclude_users","permissions",[])},set:function(e){this.setOption("settings_exclude_users","permissions",e)}},shouldDisable:function(){return this.isNetwork()&&this.getOption("overwrite_settings_cap","permissions")}},methods:{removeIncludedUser:function(e){this.includeUsers.includes(e)&&this.$moduleVars.current_user!=e&&(this.includeUsers=this.includeUsers.filter((function(t){return t!=e})))},removeExcludedUser:function(e){this.excludeUsers.includes(e)&&this.$moduleVars.current_user!=e&&(this.excludeUsers=this.excludeUsers.filter((function(t){return t!=e})))},openExcludeUserForm:function(){this.$root.$emit("openSettingsPermissionsUsersForm",{type:"exclude",focus:"beehive-permissions-settings-users-exclude-open"})},openIncludeUserForm:function(){this.$root.$emit("openSettingsPermissionsUsersForm",{type:"include",focus:"beehive-permissions-settings-users-include-open"})}}},z=X,K=Object(b["a"])(z,V,W,!1,null,null,null),Y=K.exports,Z=s("b380"),ee=s("beb8"),te=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"sui-accordion",attrs:{id:"beehive-settings-permissions-roles"}},[e.isNetwork()?s("div",{staticClass:"sui-accordion-item sui-accordion-item--disabled"},[s("div",{staticClass:"sui-accordion-item-header"},[s("div",{staticClass:"sui-accordion-item-title"},[s("label",{staticClass:"sui-toggle sui-accordion-item-action",attrs:{for:"beehive-settings-permissions-roles-network-administrator"}},[s("input",{attrs:{type:"checkbox",id:"beehive-settings-permissions-roles-network-administrator",checked:"",disabled:""}}),s("span",{staticClass:"sui-toggle-slider",attrs:{"aria-hidden":"true"}}),s("span",{staticClass:"sui-screen-reader-text"},[e._v(" "+e._s(e.$i18n.label.network_administrator)+" ")])]),s("span",[e._v(" "+e._s(e.$i18n.label.network_administrator)+" ")])]),s("div",{staticClass:"sui-accordion-col-auto",style:{"pointer-events":"all"}},[s("span",{staticClass:"sui-tooltip sui-tooltip-constrained",attrs:{"data-tooltip":e.$i18n.tooltip.network_administrator}},[s("i",{staticClass:"sui-icon-info",attrs:{"aria-hidden":"true"}})]),s("button",{staticClass:"sui-button-icon sui-accordion-open-indicator",attrs:{"aria-label":e.$i18n.accordion.open}},[s("i",{staticClass:"sui-icon-chevron-down",attrs:{"aria-hidden":"true"}})])])])]):s("div",{staticClass:"sui-accordion-item sui-accordion-item--disabled"},[s("div",{staticClass:"sui-accordion-item-header"},[s("div",{staticClass:"sui-accordion-item-title"},[s("label",{staticClass:"sui-toggle sui-accordion-item-action",attrs:{for:"beehive-settings-permissions-roles-administrator"}},[s("input",{attrs:{type:"checkbox",id:"beehive-settings-permissions-roles-administrator",checked:"",disabled:""}}),s("span",{staticClass:"sui-toggle-slider",attrs:{"aria-hidden":"true"}}),s("span",{staticClass:"sui-screen-reader-text"},[e._v(" "+e._s(e.$i18n.label.administrator)+" ")])]),s("span",[e._v(e._s(e.$i18n.label.administrator))])]),s("div",{staticClass:"sui-accordion-col-auto",style:{"pointer-events":"all"}},[s("span",{staticClass:"sui-tooltip sui-tooltip-constrained",attrs:{"data-tooltip":e.$i18n.tooltip.administrator}},[s("i",{staticClass:"sui-icon-info",attrs:{"aria-hidden":"true"}})]),s("button",{staticClass:"sui-button-icon sui-accordion-open-indicator",attrs:{"aria-label":e.$i18n.accordion.open}},[s("i",{staticClass:"sui-icon-chevron-down",attrs:{"aria-hidden":"true"}})])])])]),e._l(e.roles,(function(t,i){return s("div",{key:i,staticClass:"sui-accordion-item",class:e.accordionClass(i)},[s("div",{staticClass:"sui-accordion-item-header"},[s("div",{staticClass:"sui-accordion-item-title"},[s("label",{staticClass:"sui-toggle sui-accordion-item-action",attrs:{for:"beehive-settings-permissions-roles-"+i}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.enabledRoles,expression:"enabledRoles"}],attrs:{type:"checkbox",id:"beehive-settings-permissions-roles-"+i,disabled:e.overwriteCap},domProps:{value:i,checked:Array.isArray(e.enabledRoles)?e._i(e.enabledRoles,i)>-1:e.enabledRoles},on:{change:function(t){var s=e.enabledRoles,r=t.target,n=!!r.checked;if(Array.isArray(s)){var a=i,o=e._i(s,a);r.checked?o<0&&(e.enabledRoles=s.concat([a])):o>-1&&(e.enabledRoles=s.slice(0,o).concat(s.slice(o+1)))}else e.enabledRoles=n}}}),s("span",{staticClass:"sui-toggle-slider",attrs:{"aria-hidden":"true"}}),s("span",{staticClass:"sui-screen-reader-text"},[e._v(e._s(t))])]),s("span",[e._v(e._s(t))])]),s("div",{staticClass:"sui-accordion-col-auto"},[s("button",{staticClass:"sui-button-icon sui-accordion-open-indicator",attrs:{"aria-label":e.$i18n.accordion.open}},[s("i",{staticClass:"sui-icon-chevron-down",attrs:{"aria-hidden":"true"}})])])]),s("div",{staticClass:"sui-accordion-item-body"},[s("div",{staticClass:"sui-box"},[s("div",{staticClass:"sui-box-body"},e._l(e.getReportItems,(function(e,t){return s("div",{key:t,staticClass:"sui-form-field"},[s("report-tree",{attrs:{role:i,type:e.name,title:e.title,items:e.children}})],1)})),0)])])])}))],2)},se=[],ie=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("sui-tree",{attrs:{id:"beehive-permissions-tree-"+e.type+"-"+e.role,items:e.tree,"selected-items":e.getReports,data:e.data},on:{itemSelect:e.handleChange}})},re=[],ne=(s("c975"),s("a434"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ul",{staticClass:"sui-tree",attrs:{"data-tree":"selector",role:"group",id:e.id}},e._l(e.items,(function(t){return s("tree-item",{key:t.name,attrs:{tree:e.id,data:e.data,child:t.name,title:t.title,children:t.children,"selected-items":e.selectedItems,"disabled-items":e.disabledItems},on:{itemSelect:e.itemSelect}})})),1)}),ae=[],oe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",{attrs:{role:"treeitem","aria-selected":e.isSelected,"aria-disabled":e.isDisabled}},[s("div",{staticClass:"sui-tree-node"},[s("label",{staticClass:"sui-node-checkbox",attrs:{for:e.tree+"-"+e.parent+"-"+e.child}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.checked,expression:"checked"}],attrs:{type:"checkbox",id:e.tree+"-"+e.parent+"-"+e.child},domProps:{checked:Array.isArray(e.checked)?e._i(e.checked,null)>-1:e.checked},on:{change:function(t){var s=e.checked,i=t.target,r=!!i.checked;if(Array.isArray(s)){var n=null,a=e._i(s,n);i.checked?a<0&&(e.checked=s.concat([n])):a>-1&&(e.checked=s.slice(0,a).concat(s.slice(a+1)))}else e.checked=r}}}),s("span",{attrs:{"aria-hidden":"true"}}),s("span",[e._v(e._s(e.$i18n.tree.select))])]),s("span",{staticClass:"sui-node-text"},[e._v(e._s(e.title))]),e.hasChildren?s("button",{attrs:{"data-button":"expander"}},[s("span",{attrs:{"aria-hidden":"true"}}),s("span",{staticClass:"sui-screen-reader-text"},[e._v(" "+e._s(e.$i18n.tree.open_close)+" ")])]):e._e()]),e.hasChildren?s("ul",{attrs:{role:"group"}},e._l(e.children,(function(t){return s("tree-item",{key:t.name,attrs:{tree:e.tree,data:e.data,child:t.name,parent:e.child,title:t.title,children:e.getChildren(t),"selected-items":e.selectedItems,"disabled-items":e.disabledItems},on:{itemSelect:e.itemSelect}})})),1):e._e()])},le=[],ce=(s("b0c0"),{name:"TreeItem",props:{children:Array,child:String,parent:{type:String,default:""},tree:{type:String,required:!0},title:{type:String,required:!0},data:{type:Object,default:{}},disabledItems:{type:Array},selectedItems:{type:Array}},data:function(){return{checked:this.isSelected}},watch:{checked:function(e){this.emitChange({name:this.child,children:this.hasChildren?this.children:[]},e)}},computed:{hasChildren:function(){return this.children.length>0},isSelected:function(){return this.selectedItems&&this.selectedItems.includes(this.child)},isDisabled:function(){return this.disabledItems&&this.disabledItems.includes(this.child)}},methods:{getChildren:function(e){return e.children||[]},emitChange:function(e,t){var s=this;e.children&&e.children.length>0&&e.children.forEach((function(e){s.emitChange(e,t)})),this.$emit("itemSelect",{tree:this.tree,item:e.name,checked:t,data:this.data})},itemSelect:function(e){this.$emit("itemSelect",e)}}}),de=ce,ue=Object(b["a"])(de,oe,le,!1,null,null,null),pe=ue.exports,he={name:"SuiTree",props:{id:{type:String,required:!0},items:{type:Array,required:!0},data:{type:Object,default:{}},disabledItems:{type:Array},selectedItems:{type:Array}},components:{TreeItem:pe},mounted:function(){this.$nextTick((function(){SUI.suiTree(jQuery("#"+this.id),!0)}))},methods:{itemSelect:function(e){this.$emit("itemSelect",e)}}},me=he,be=Object(b["a"])(me,ne,ae,!1,null,null,null),ve=be.exports,ge={name:"ReportTree",components:{SuiTree:ve},props:{role:String,type:String,title:String,items:{type:Array,required:!0}},data:function(){return{data:{type:this.type,role:this.role},tree:[{name:this.type,title:this.title,children:this.items}]}},computed:{getReports:function(){var e=this.getOption(this.role,"reports",{});return e[this.type]||[]}},methods:{setReports:function(e){var t=this.getOption(this.role,"reports",{});t[this.type]=e,this.setOption(this.role,"reports",t)},handleChange:function(e){e.item&&e.data.type===this.type&&e.data.role===this.role&&(e.checked?this.setSelected(e.item):this.removeSelected(e.item))},setSelected:function(e){var t=this.getReports;t.includes(e)||t.push(e),this.setReports(t)},removeSelected:function(e){var t=this.getReports;if(t.includes(e)){var s=t.indexOf(e);-1!==s&&t.splice(s,1)}this.setReports(t)}}},fe=ge,_e=Object(b["a"])(fe,ie,re,!1,null,null,null),Ce=_e.exports,ye={name:"StatisticsRoles",components:{ReportTree:Ce},mounted:function(){SUI.suiAccordion(jQuery("#beehive-settings-permissions-roles"))},data:function(){return{roles:this.$moduleVars.roles}},computed:{enabledRoles:{get:function(){return this.getOption("roles","permissions",[])},set:function(e){this.setOption("roles","permissions",e)}},overwriteCap:function(){return this.getOption("overwrite_cap","permissions")},getReportItems:function(){return this.$moduleVars.report_tree||{}}},methods:{accordionClass:function(e){this.getOption("overwrite_cap","permissions");return{"sui-accordion-item--disabled":!this.enabledRoles.includes(e)||this.overwriteCap}}}},xe=ye,$e=Object(b["a"])(xe,te,se,!1,null,null,null),we=$e.exports,ke=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"sui-form-field"},[s("label",{staticClass:"sui-label",attrs:{for:"beehive-settings-custom-cap"}},[e._v(" "+e._s(e.$i18n.label.custom_capability)+" ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.customCap,expression:"customCap"}],staticClass:"sui-form-control",attrs:{type:"text",id:"beehive-settings-custom-cap",placeholder:e.$i18n.placeholder.custom_capability},domProps:{value:e.customCap},on:{input:function(t){t.target.composing||(e.customCap=t.target.value)}}}),s("span",{staticClass:"sui-description",domProps:{innerHTML:e._s(e.sprintf(e.$i18n.desc.custom_capability,"https://wordpress.org/support/article/roles-and-capabilities/"))}})])},Se=[],Oe={name:"StatisticsCapability",computed:{customCap:{get:function(){return this.getOption("custom_cap","permissions","")},set:function(e){this.setOption("custom_cap","permissions",e)}}}},Ue=Oe,Re=Object(b["a"])(Ue,ke,Se,!1,null,null,null),Ie=Re.exports,je=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"sui-border-frame"},[s("div",{staticClass:"sui-form-field"},[s("label",{staticClass:"sui-checkbox sui-checkbox-sm",attrs:{for:e.id}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.override,expression:"override"}],attrs:{type:"checkbox",id:e.id,"aria-labelledby":e.id+"-label"},domProps:{checked:Array.isArray(e.override)?e._i(e.override,null)>-1:e.override},on:{change:[function(t){var s=e.override,i=t.target,r=!!i.checked;if(Array.isArray(s)){var n=null,a=e._i(s,n);i.checked?a<0&&(e.override=s.concat([n])):a>-1&&(e.override=s.slice(0,a).concat(s.slice(a+1)))}else e.override=r},e.handleInput]}}),s("span",{attrs:{"aria-hidden":"true"}}),s("span",{attrs:{id:e.id+"-label"}},[e._v(e._s(e.label))])])])])},Pe=[],Ae={name:"OverrideSettings",props:{id:{type:String,required:!0},label:{type:String,required:!0},value:{type:Boolean,required:!0}},data:function(){return{override:this.value}},methods:{handleInput:function(){this.$emit("input",this.override)}}},Ne=Ae,Ee=Object(b["a"])(Ne,je,Pe,!1,null,null,null),qe=Ee.exports,Me={name:"Permissions",components:{UsersForm:N,BoxHeader:Z["a"],BoxFooter:ee["a"],SettingsUsers:Y,SettingsRoles:F,StatisticsRoles:we,OverrideSettings:qe,StatisticsCapability:Ie},props:{processing:{type:Boolean,default:!1}},mounted:function(){SUI.tabs(),SUI.suiTabs()},computed:{canShowSettings:function(){return!this.isNetworkWide()||!this.isSubsite()||this.getOption("overwrite_settings_cap","permissions",!1,!0)},canShowStats:function(){return!this.isNetworkWide()||!this.isSubsite()||this.getOption("overwrite_cap","permissions",!1,!0)},overwriteSettingsCap:{get:function(){return this.getOption("overwrite_settings_cap","permissions")},set:function(e){this.setOption("overwrite_settings_cap","permissions",e)}},overwriteStatsCap:{get:function(){return this.getOption("overwrite_cap","permissions")},set:function(e){this.setOption("overwrite_cap","permissions",e)}},tabsContentClass:function(){return{"sui-tabs-content":!0,"beehive-inactive":this.overwriteSettingsCap,"beehive-inactive-bg":this.overwriteSettingsCap}}}},Te=Me,De=Object(b["a"])(Te,_,C,!1,null,null,null),Fe=De.exports;i["a"].use(f["a"]);var Ve=[{path:"/",redirect:"/permissions"},{path:"/permissions",name:"Permissions",component:Fe},{path:"*",redirect:"/permissions"}],We=new f["a"]({linkActiveClass:"current",routes:Ve}),Be=s("9d51"),Le=s("3f08"),He=s("e19f"),Ge=s("5b5e");i["a"].config.productionTip=!1,i["a"].mixin({methods:{sprintf:He["sprintf"],getOption:Ge["b"],setOption:Ge["l"],saveOptions:Ge["k"],isNetwork:Ge["f"],isMultisite:Ge["e"],isSubsite:Ge["h"],isNetworkWide:Ge["g"]}}),i["a"].prototype.$i18n=window.beehiveI18n,i["a"].prototype.$vars=window.beehiveVars,i["a"].prototype.$moduleVars=window.beehiveModuleVars,i["a"].use(Le["b"].Plugin),new i["a"]({router:We,render:function(e){return e(g)},store:Be["a"]}).$mount("#beehive-settings-app")},d876:function(e,t,s){}});