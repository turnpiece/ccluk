(function(t){function e(e){for(var a,o,r=e[0],l=e[1],c=e[2],u=0,h=[];u<r.length;u++)o=r[u],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&h.push(i[o][0]),i[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);d&&d(e);while(h.length)h.shift()();return n.push.apply(n,c||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],a=!0,r=1;r<s.length;r++){var l=s[r];0!==i[l]&&(a=!1)}a&&(n.splice(e--,1),t=o(o.s=s[0]))}return t}var a={},i={"ga-statistics-page":0},n=[];function o(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=a,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(s,a,function(e){return t[e]}.bind(null,a));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/app/assets/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var d=l;n.push([9,"chunk-vendors","chunk-common"]),s()})({"0fc6":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("2b0e"),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"sui-wrap",attrs:{id:"beehive-page-statics"}},[s("sui-header",{attrs:{title:t.$i18n.title.google_analytics,showDocLink:!1},scopedSlots:t._u([{key:"right",fn:function(){return[s("refresh-button",{attrs:{processing:t.loading,notice:!1},on:{"update:processing":function(e){t.loading=e},refreshed:t.getStats}}),s("div",{attrs:{id:"beehive-statics-period"}},[s("sui-calendar-range",{attrs:{id:"beehive-stats-datepicker",periods:t.$vars.dates.periods,"start-date":t.$vars.dates.start_date,"end-date":t.$vars.dates.end_date,"selected-label":t.$vars.dates.selected_label},on:{periodChange:t.periodChange}}),s("sui-checkbox",{attrs:{id:"beehive-stats-compare-period",type:"small",label:t.$i18n.label.compare_periods},model:{value:t.compare,callback:function(e){t.compare=e},expression:"compare"}})],1)]},proxy:!0}])}),t.canView("visitors")?s("visitors",{attrs:{stats:t.stats,compare:t.compare,periods:t.periods,loading:t.loading}}):t._e(),s("div",{staticClass:"sui-row"},[t.canView("mediums")?s("div",{staticClass:"sui-col-lg-4"},[s("mediums",{attrs:{stats:t.stats,loading:t.loading}})],1):t._e(),t.canView("social_networks")?s("div",{staticClass:"sui-col-lg-4"},[s("social-networks",{attrs:{stats:t.stats,loading:t.loading}})],1):t._e(),t.canView("search_engines")?s("div",{staticClass:"sui-col-lg-4"},[s("search-engines",{attrs:{stats:t.stats,loading:t.loading}})],1):t._e()]),s("div",{staticClass:"sui-row"},[t.canView("countries")?s("div",{staticClass:"sui-col-lg-6"},[s("countries",{attrs:{stats:t.stats,loading:t.loading}})],1):t._e(),t.canView("pages")?s("div",{staticClass:"sui-col-lg-6"},[s("pages",{attrs:{stats:t.stats,loading:t.loading}})],1):t._e()])],1)},n=[],o=(s("caad"),s("b64b"),s("2532"),s("96cf"),s("1da1")),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("sui-box",{attrs:{title:t.$i18n.label.top_pages,titleIcon:"page-multiple","aria-live":"polite",loading:t.loading},scopedSlots:t._u([{key:"body",fn:function(){return[!0===t.loading?s("p",{staticClass:"beehive-loading-text"},[s("span",{staticClass:"sui-icon-loader sui-loading",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$i18n.label.fetching_data)+" ")]):t._e(),!t.isLoggedIn||t.isEmpty?s("p",{staticClass:"sui-description"},[t._v(" "+t._s(t.$i18n.label.no_information)+" ")]):s("table",{staticClass:"beehive-table-pages"},[s("thead",[s("tr",[s("th",{attrs:{colspan:"2"}},[t._v(" "+t._s(t.$i18n.label.top_pages_most_visited)+" ")]),s("th",[t._v(t._s(t.$i18n.label.average_sessions))]),s("th",[t._v(t._s(t.$i18n.label.views))]),s("th",[t._v(t._s(t.$i18n.label.trend))])])]),s("tbody",t._l(t.getPages,(function(e,a){return s("tr",{key:a},[s("td",{attrs:{colspan:"2"},domProps:{innerHTML:t._s(e[0])}}),s("td",[t._v(t._s(e[1]))]),s("td",[t._v(t._s(e[2]))]),e[3]<0?s("td",{staticClass:"beehive-red"},[s("i",{staticClass:"sui-icon-arrow-down sui-sm",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(e[3])+"% ")]):e[3]>0?s("td",{staticClass:"beehive-green"},[s("i",{staticClass:"sui-icon-arrow-up sui-sm",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(e[3])+"% ")]):s("td",{staticClass:"beehive-green"},[t._v("0%")])])})),0)])]},proxy:!0}])})},l=[],c=(s("fb6a"),s("e5d1")),d={name:"Pages",props:["stats","loading"],components:{SuiBox:c["a"]},computed:{isLoggedIn:function(){return this.$store.state.helpers.google.logged_in},isEmpty:function(){return Object.keys(this.stats).length<=0||!this.stats.pages},getPages:function(){var t=[];return this.stats.pages&&(t=this.stats.pages.slice(0,9)),t}}},u=d,h=s("2877"),p=Object(h["a"])(u,r,l,!1,null,null,null),b=p.exports,g=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("sui-box",{attrs:{title:t.$i18n.label.mediums,titleIcon:"community-people","aria-live":"polite",loading:t.loading},scopedSlots:t._u([{key:"body",fn:function(){return[!0===t.loading?s("p",{staticClass:"beehive-loading-text"},[s("span",{staticClass:"sui-icon-loader sui-loading",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$i18n.label.fetching_data)+" ")]):t._e(),!t.isLoggedIn||t.isEmpty?s("p",{staticClass:"sui-description"},[t._v(" "+t._s(t.$i18n.label.no_information)+" ")]):s("fragment",[s("pie-chart",{staticClass:"beehive-chart-pie",attrs:{"chart-data":t.chartData,options:t.chartOptions}}),s("ul",{staticClass:"beehive-chart-pie-legend"},t._l(t.stats.mediums,(function(e,a){return s("li",{key:a,staticClass:"beehive-legend-item"},[s("span",{staticClass:"beehive-legend-item-color",attrs:{"aria-hidden":"true"}}),s("span",{staticClass:"beehive-legend-item-name"},[s("span",[t._v(t._s(e[0]))]),s("strong",[t._v(t._s(e[1]))])])])})),0)],1)]},proxy:!0}])})},f=[],v=(s("4160"),s("159b"),s("655a")),m={name:"Mediums",props:["stats","loading"],components:{SuiBox:c["a"],PieChart:v["a"]},data:function(){return{chartData:{},chartOptions:{legend:{display:!1},tooltips:{xPadding:15,yPadding:15,backgroundColor:"rgba(51,51,51,0.85)",titleSpacing:0,titleMarginBottom:0,bodyFontColor:"#FFFFFF",bodyFontSize:14,bodyFontFamily:"Roboto",bodyFontStyle:"bold",bodyAlign:"left",cornerRadius:4,displayColors:!1},responsive:!0,maintainAspectRatio:!1}}},watch:{stats:function(t){this.setupChartData()}},computed:{isLoggedIn:function(){return this.$store.state.helpers.google.logged_in},isEmpty:function(){return Object.keys(this.stats).length<=0||!this.stats.mediums}},methods:{setupChartData:function(){if(this.isEmpty)this.chartData={};else{var t=this,e={labels:[],datasets:[{label:"Sessions",data:[],borderWidth:2,borderColor:"#FFFFFF",backgroundColor:[],hoverBorderWidth:"#FFFFFF"}]},s=[],a=[],i=[];Object.keys(t.stats.mediums).forEach((function(e){s.push(t.stats.mediums[e][0]),a.push(t.stats.mediums[e][1]),e%2?i.push("#0582B5"):i.push("#17A8E3")})),e.labels=s,e.datasets[0].data=a,e.datasets[0].backgroundColor=i,this.chartData=e}}}},_=m,y=Object(h["a"])(_,g,f,!1,null,null,null),C=y.exports,F=s("7f2d"),k=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("sui-box",{attrs:{title:t.$i18n.label.visitors,"title-icon":"profile-male","aria-live":"polite",loading:t.loading,"body-class":"beehive-spacing-bottom--0"},scopedSlots:t._u([{key:"body",fn:function(){return[t.canGetStats&&t.isEmpty?s("sui-notice",{attrs:{type:"info"}},[s("p",[t._v(t._s(t.$i18n.notice.google_no_data))])]):t.canGetStats||t.isLoggedIn?t._e():s("sui-notice",{attrs:{type:"error"}},[s("p",{domProps:{innerHTML:t._s(t.sprintf(t.$i18n.notice.google_not_linked,t.$vars.urls.accounts))}})])]},proxy:!0},{key:"outside",fn:function(){return[t.loading?s("p",{staticClass:"beehive-loading-text"},[s("span",{staticClass:"sui-icon-loader sui-loading",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$i18n.label.fetching_data)+" ")]):t._e(),s("chart-visitors",{attrs:{stats:t.stats,periods:t.periods,compare:t.compare}})]},proxy:!0}])})},x=[],S=s("5659"),w=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"beehive-tabs"},[s("div",{staticClass:"beehive-tabs-tablist"},t._l(t.getSummary,(function(e,a){return s("button",{key:a,staticClass:"beehive-tab",class:t.buttonClass(a),attrs:{"aria-controls":"beehive-visitors-chart","aria-selected":t.ariaSelected(a),tabindex:t.tabIndex(a)},on:{click:function(e){return t.changeTab(a)}}},[s("span",{staticClass:"beehive-tab-title",attrs:{"aria-hidden":"true"}},[t._v(t._s(t.getTitle(a)))]),s("span",{staticClass:"beehive-tab-value-wrap",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"beehive-tab-value"},"bounce_rates"===a?[t._v(t._s(e.value)+"%")]:[t._v(t._s(e.value))]),e.trend<0&&"bounce_rates"===a?s("span",{staticClass:"beehive-tab-trend beehive-green"},[s("i",{staticClass:"sui-icon-arrow-down sui-sm",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(Math.abs(e.trend))+"% ")]):e.trend<0?s("span",{staticClass:"beehive-tab-trend beehive-red"},[s("i",{staticClass:"sui-icon-arrow-down sui-sm",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(Math.abs(e.trend))+"% ")]):e.trend>0&&"bounce_rates"===a?s("span",{staticClass:"beehive-tab-trend beehive-red"},[s("i",{staticClass:"sui-icon-arrow-up sui-sm",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(Math.abs(e.trend))+"% ")]):e.trend>0?s("span",{staticClass:"beehive-tab-trend beehive-green"},[s("i",{staticClass:"sui-icon-arrow-up sui-sm",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(Math.abs(e.trend))+"% ")]):t._e()]),s("span",{staticClass:"sui-screen-reader-text"},[t._v(t._s(t.getTitle(a)))])])})),0),s("div",{staticClass:"beehive-tab-panel",attrs:{id:"beehive-visitors-chart"}},[s("line-chart",{staticClass:"beehive-chart",attrs:{id:t.chartId,role:"img","aria-hidden":"true","chart-data":t.chartData,options:t.getOptions}}),t.compare?s("div",{staticClass:"beehive-options-sidenote",attrs:{tabindex:"-1","aria-hidden":"true"}},[s("span",{staticClass:"beehive-sidenote-left"},[s("i",{staticClass:"beehive-sidenote-indicator",style:t.getLegendStyle(0),attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.getCurrentPeriodText)+" ")]),s("span",{staticClass:"beehive-sidenote-right"},[s("i",{staticClass:"beehive-sidenote-indicator",style:t.getLegendStyle(1),attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.getPreviousPeriodText)+" ")])]):t._e(),t.isEmpty?s("p",{staticClass:"sui-screen-reader-text"},[t._v(" "+t._s(t.$i18n.desc.empty_visitors_chart)+" ")]):t._e()],1)])},$=[],O=(s("d81d"),s("a434"),s("c1df")),E=s.n(O),D=s("f7cd"),P={name:"ChartVisitors",props:["stats","compare","periods"],components:{LineChart:D["a"]},data:function(){return{chartId:"beehive-visitors-line-chart",selectedTab:"sessions",sections:{sessions:{color:["#17A8E3","#ADDCF2"],title:this.$i18n.label.sessions},users:{color:["#2D8CE2","#9DD0FF"],title:this.$i18n.label.users},pageviews:{color:["#8D00B1","#E9CCF0"],title:this.$i18n.label.pageviews},page_sessions:{color:["#3DB8C2","#C0EBEF"],title:this.$i18n.label.page_sessions},average_sessions:{color:["#2B7BA1","#C0EBEF"],title:this.$i18n.label.average_sessions},bounce_rates:{color:["#FFB17C","#FFE3CF"],title:this.$i18n.label.bounce_rates}},defaultChartOptions:{legend:{display:!1},scales:{yAxes:[{gridLines:{display:!0,color:"#E6E6E6",zeroLineColor:"#E6E6E6",drawBorder:!1},ticks:{fontColor:"#676767",fontSize:11}}],xAxes:[{gridLines:{display:!0,zeroLineColor:"rgba(0,0,0,0)",drawBorder:!1},ticks:{fontColor:"#676767",fontSize:11}}]},tooltips:{},responsive:!0,maintainAspectRatio:!1},chartOptions:{},chartData:{labels:[],datasets:[]}}},watch:{stats:function(t){this.changeStatsChart()},selectedTab:function(t){this.changeStatsChart()},compare:function(t){this.changeComparison()}},computed:{isEmpty:function(){return Object.keys(this.stats).length<=0},getSummary:function(){var t=this;if(this.stats.summary){var e={};return Object.keys(this.stats.summary).forEach((function(s){t.canShow(s)&&(e[s]=t.stats.summary[s])})),e}return{}},getCurrentPeriodText:function(){return this.getPeriodLegend(this.periods.current.from,this.periods.current.to)},getPreviousPeriodText:function(){return this.getPeriodLegend(this.periods.previous.from,this.periods.previous.to)},getOptions:function(){return this.isEmpty?{responsive:!0,maintainAspectRatio:!1}:this.chartOptions},getPrevPeriodDataSet:function(){var t=[],e=this.stats[this.selectedTab].previous,s=this.getTitle(this.selectedTab),a=this.sections[this.selectedTab].color;return Object.keys(e).forEach((function(s){t.push(e[s][1])})),{label:s,data:t,borderWidth:2,borderColor:a[1],backgroundColor:"rgba(0,0,0,0)",pointRadius:4,pointBorderColor:a[1],pointBackgroundColor:"#FFFFFF",pointHoverBackgroundColor:a[1]}},getPrevPeriodLabelSet:function(){var t=[],e=this.stats[this.selectedTab].previous;return Object.keys(e).forEach((function(s){t.push(e[s][0])})),t},defaultTooltipOptions:function(){return{xPadding:15,yPadding:15,backgroundColor:"rgba(51,51,51,0.85)",titleFontColor:"#FFFFFF",titleFontSize:14,titleFontFamily:"Roboto",titleFontStyle:"bold",titleAlign:"left",titleSpacing:0,titleMarginBottom:10,bodyFontColor:"#FFFFFF",bodyFontSize:14,bodyFontFamily:"Roboto",bodyFontStyle:"normal",bodySpacing:10,bodyAlign:"left",cornerRadius:4,displayColors:!1,mode:"index",intersect:!1}},htmlTooltipOptions:function(){var t=this.defaultTooltipOptions;return t.enabled=!1,t.position="nearest",t.intersect=!0,t.custom=function(t){var e=document.getElementById("chartjs-tooltip");if(e||(e=document.createElement("div"),e.id="chartjs-tooltip",e.innerHTML="<table></table>",this._chart.canvas.parentNode.appendChild(e)),0!==t.opacity){if(e.classList.remove("above","below","no-transform"),t.yAlign?e.classList.add(t.yAlign):e.classList.add("no-transform"),t.body){var s=t.title||[],a=t.body.map(l),i="<thead>";s.forEach((function(t){i+="<tr><th>"+t+"</th></tr>"})),i+="</thead><tbody>",a.forEach((function(e,s){var a=t.labelColors[s],n="background:"+a.borderColor;n+="; border-color:"+a.borderColor,n+="; border-width: 2px";var o='<span class="chartjs-tooltip-key" style="'+n+'"></span>';i+="<tr><td>"+o+e+"</td></tr>"})),i+="</tbody>";var n=e.querySelector("table");n.innerHTML=i}var o=this._chart.canvas.offsetTop,r=this._chart.canvas.offsetLeft;e.style.opacity=1,e.style.left=r+t.caretX+"px",e.style.top=o+t.caretY+"px",e.style.fontFamily=t._bodyFontFamily,e.style.fontSize=t.bodyFontSize+"px",e.style.fontStyle=t._bodyFontStyle,e.style.padding=t.yPadding+"px "+t.xPadding+"px"}else e.style.opacity=0;function l(t){return t.lines}},t}},methods:{canShow:function(t){return this.sections.hasOwnProperty(t)},getPeriodLegend:function(t,e){if(t===e){var s=E()(t);return s.format("MMM D, YYYY")}var a=E()(t),i=E()(e);return a.format("MMM D, YYYY")+" - "+i.format("MMM D, YYYY")},getTitle:function(t){return this.sections[t].title},changeTab:function(t){this.selectedTab=t},changeStatsChart:function(){var t=this;if(this.isEmpty)return this.chartData={labels:[],datasets:[]},this.chartOptions=this.defaultChartOptions,void(this.chartOptions.tooltips=this.defaultTooltipOptions);var e=this,s=[],a=[],i=[],n=this.defaultChartOptions,o=this.sections[this.selectedTab].color,r=this.getTitle(e.selectedTab),l={labels:[],datasets:[{label:r,data:[],borderWidth:2,borderColor:o[0],backgroundColor:"rgba(0,0,0,0)",pointRadius:4,pointBorderColor:o[0],pointBackgroundColor:"#FFFFFF",pointHoverBackgroundColor:o[0]}]},c=e.stats[e.selectedTab].current;Object.keys(c).forEach((function(t,e,n){s.push(c[t][0]),a.push(c[t][1]),e===n.length-1?i.push("rgba(0,0,0,0)"):i.push("#E6E6E6")})),n.scales.xAxes[0].gridLines["color"]=i,this.compare?n.tooltips=this.htmlTooltipOptions:n.tooltips=this.defaultTooltipOptions,n.tooltips.callbacks={},n.tooltips.callbacks.label=function(s){var a=s.value,i=s.index;return"average_sessions"===e.selectedTab?a=E.a.utc(1e3*a).format("HH:mm:ss"):"bounce_rates"===e.selectedTab&&(a+="%"),t.compare?1===s.datasetIndex?t.getPrevPeriodLabelSet[i]+" : "+a:s.label+" : "+a:r+" : "+a},n.tooltips.callbacks.title=function(e){return t.compare?r:e[0].label},l.datasets[0].label=r,l.labels=s,l.datasets[0].data=a,0===a.length&&(l.datasets[0].borderColor="rgba(0, 0, 0, 0)",l.datasets[0].pointRadius=0,l.datasets[0].pointBorderColor="rgba(0, 0, 0, 0)",l.datasets[0].pointBackgroundColor="rgba(0, 0, 0, 0)",l.datasets[0].pointHoverBackgroundColor="rgba(0, 0, 0, 0)",n.tooltips["enabled"]=!1,n.scales.yAxes[0].ticks["suggestedMin"]=4e4,n.scales.yAxes[0].ticks["suggestedMax"]=44e3,n.scales.yAxes[0].ticks["beginAtZero"]=!0,n.scales.yAxes[0].ticks["maxTicksLimit"]=5),this.compare&&l.datasets.push(this.getPrevPeriodDataSet),this.chartData=l,this.chartOptions=n},changeComparison:function(){this.isEmpty||(this.compare?(this.chartOptions.tooltips=this.htmlTooltipOptions,this.chartData.datasets.push(this.getPrevPeriodDataSet)):this.chartData.datasets.length>1&&(this.chartOptions.tooltips=this.defaultTooltipOptions,this.chartData.datasets.splice(1,1)),this.$root.$emit("updateLineChart",{chart:this.chartId}))},buttonClass:function(t){return{"beehive-active":this.selectedTab===t}},ariaSelected:function(t){return t===this.selectedTab?"true":"false"},tabIndex:function(t){return t===this.selectedTab&&-1},getLegendStyle:function(t){return{"background-color":this.sections[this.selectedTab].color[t]}}}},T=P,j=Object(h["a"])(T,w,$,!1,null,null,null),B=j.exports,L={name:"Visitors",props:["stats","compare","loading","periods"],data:function(){return{bodyClass:"test"}},components:{SuiBox:c["a"],SuiNotice:S["a"],ChartVisitors:B},computed:{isLoggedIn:function(){return this.$store.state.helpers.google.logged_in},isEmpty:function(){return Object.keys(this.stats).length<=0},canGetStats:function(){return this.$moduleVars.can_get_stats>0}},methods:{}},A=L,M=Object(h["a"])(A,k,x,!1,null,null,null),R=M.exports,I=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("sui-box",{attrs:{title:t.$i18n.label.top_countries,titleIcon:"web-globe-world","aria-live":"polite",loading:t.loading},scopedSlots:t._u([{key:"body",fn:function(){return[!0===t.loading?s("p",{staticClass:"beehive-loading-text"},[s("span",{staticClass:"sui-icon-loader sui-loading",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$i18n.label.fetching_data)+" ")]):t._e(),!t.isLoggedIn||t.isEmpty?s("p",{staticClass:"sui-description"},[t._v(" "+t._s(t.$i18n.label.no_information)+" ")]):s("fragment",[s("GChart",{attrs:{type:"GeoChart",settings:{packages:["geochart"]},data:t.chartData,options:t.chartOptions},on:{ready:t.onChartReady}}),s("table",{staticClass:"beehive-chart-map-legend"},[s("thead",[s("tr",[s("th",[t._v(t._s(t.$i18n.label.country_code))]),s("th",[t._v(t._s(t.$i18n.label.country_name))]),s("th",[t._v(t._s(t.$i18n.label.visits_percentage))]),s("th",[t._v(t._s(t.$i18n.label.total_visits))])])]),s("tbody",t._l(t.getCountries,(function(e,a){return s("tr",{key:a,staticClass:"beehive-legend-item"},[s("td",{staticClass:"beehive-legend-item-flag"},[s("span",{staticClass:"sui-screen-reader-text"},[t._v(t._s(e[1]))]),s("span",{class:"beehive-flag beehive-flag-"+e[1],attrs:{"aria-hidden":"true"}})]),s("td",{staticClass:"beehive-legend-item-name"},[t._v(" "+t._s(e[0])+" ")]),s("td",{staticClass:"beehive-legend-item-bar"},[s("span",{staticClass:"sui-screen-reader-text"},[t._v(t._s(t.sprintf(t.$i18n.desc.percentage_visits,t.visitsPercent(e[2])+"%")))]),s("span",{attrs:{"aria-hidden":"true"}},[s("span",{style:"width: "+t.visitsPercent(e[2])+"%;"})])]),s("td",{staticClass:"beehive-legend-item-value"},[t._v(" "+t._s(e[2])+" ")])])})),0)])],1)]},proxy:!0}])})},V=[],z=s("cb43"),Y={name:"Countries",props:["stats","loading"],components:{GChart:z["GChart"],SuiBox:c["a"]},data:function(){return{chartData:{},chartOptions:{chart:{title:this.$i18n.label.country_sessions},colorAxis:{colors:["#6DD5FF","#49BFEF","#17A8E3","#0582B5"]},backgroundColor:{fill:"#FFFFFF",strokeWidth:0},datalessRegionColor:"#DDDDDD",tooltip:{isHtml:!0,showTitle:!1,ignoreBounds:!0,textStyle:{color:"#FFFFFF",fontName:"Roboto",fontSize:13}}},chart:null,chartApi:null}},watch:{stats:function(t){this.setupList()}},methods:{visitsPercent:function(t){var e=this,s=0;return Object.keys(this.stats.countries).forEach((function(t){s+=parseInt(e.stats.countries[t][2])})),100*parseInt(t)/s},setupList:function(){if(!this.isEmpty&&this.chartApi){var t=this,e=[],s=new this.chartApi.visualization.DataTable;s.addColumn("string",this.$i18n.label.country),s.addColumn("number",this.$i18n.label.sessions),s.addColumn({type:"string",role:"tooltip",p:{html:!0}}),Object.keys(t.stats.countries).forEach((function(s){e.push([t.stats.countries[s][0],t.stats.countries[s][2],t.geoToolTip(t.stats.countries[s][0],t.stats.countries[s][1],t.stats.countries[s][2])])})),s.addRows(e),this.chartData=s}else this.chartData={}},geoToolTip:function(t,e,s){return'<span class="beehive-charts-geotooltip"><span class="beehive-flag beehive-flag-unframed beehive-flag-'+e+'" aria-hidden="true"></span><span class="beehive-country-sessions"><span class="beehive-country-name">'+t+'</span><span class="sui-screen-reader-text">'+this.$i18n.label.has+"</span> <strong>"+s+"</strong> "+this.$i18n.label.sessions+"</span></span>"},onChartReady:function(t,e){this.chartApi=e,this.isEmpty||this.setupList()}},computed:{isLoggedIn:function(){return this.$store.state.helpers.google.logged_in},isEmpty:function(){return Object.keys(this.stats).length<=0||!this.stats.countries},getCountries:function(){var t=[];return this.stats.countries&&(t=this.stats.countries.slice(0,5)),t}}},H=Y,W=Object(h["a"])(H,I,V,!1,null,null,null),G=W.exports,N=s("5b5e"),q=s("6e06"),J=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("sui-box",{attrs:{title:t.$i18n.label.search_engines,titleIcon:"magnifying-glass-search","aria-live":"polite",loading:t.loading},scopedSlots:t._u([{key:"body",fn:function(){return[!0===t.loading?s("p",{staticClass:"beehive-loading-text"},[s("span",{staticClass:"sui-icon-loader sui-loading",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$i18n.label.fetching_data)+" ")]):t._e(),!t.isLoggedIn||t.isEmpty?s("p",{staticClass:"sui-description"},[t._v(" "+t._s(t.$i18n.label.no_information)+" ")]):s("fragment",[s("pie-chart",{staticClass:"beehive-chart-pie",attrs:{"chart-data":t.chartData,options:t.chartOptions}}),s("ul",{staticClass:"beehive-chart-pie-legend"},t._l(t.stats.search_engines,(function(e,a){return s("li",{key:a,staticClass:"beehive-legend-item"},[s("span",{staticClass:"beehive-legend-item-color",attrs:{"aria-hidden":"true"}}),s("span",{staticClass:"beehive-legend-item-name"},[s("span",[t._v(t._s(e[0]))]),s("strong",[t._v(t._s(e[1]))])])])})),0)],1)]},proxy:!0}])})},X=[],Z={name:"SearchEngines",props:["stats","loading"],components:{SuiBox:c["a"],PieChart:v["a"]},data:function(){return{chartData:{},chartOptions:{legend:{display:!1},tooltips:{xPadding:15,yPadding:15,backgroundColor:"rgba(51,51,51,0.85)",titleSpacing:0,titleMarginBottom:0,bodyFontColor:"#FFFFFF",bodyFontSize:14,bodyFontFamily:"Roboto",bodyFontStyle:"bold",bodyAlign:"left",cornerRadius:4,displayColors:!1},responsive:!0,maintainAspectRatio:!1}}},watch:{stats:function(t){this.setupChartData()}},computed:{isLoggedIn:function(){return this.$store.state.helpers.google.logged_in},isEmpty:function(){return Object.keys(this.stats).length<=0||!this.stats.search_engines}},methods:{setupChartData:function(){if(this.isEmpty)this.chartData={};else{var t=this,e={labels:[],datasets:[{label:"Sessions",data:[],borderWidth:2,borderColor:"#FFFFFF",backgroundColor:[],hoverBorderWidth:"#FFFFFF"}]},s=[],a=[],i=[];Object.keys(t.stats.search_engines).forEach((function(e){s.push(t.stats.search_engines[e][0]),a.push(t.stats.search_engines[e][1]),e%2?i.push("#0582B5"):i.push("#17A8E3")})),e.labels=s,e.datasets[0].data=a,e.datasets[0].backgroundColor=i,this.chartData=e}}}},K=Z,Q=Object(h["a"])(K,J,X,!1,null,null,null),U=Q.exports,tt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("sui-box",{attrs:{title:t.$i18n.label.social_networks,titleIcon:"share","aria-live":"polite",loading:t.loading},scopedSlots:t._u([{key:"body",fn:function(){return[!0===t.loading?s("p",{staticClass:"beehive-loading-text"},[s("span",{staticClass:"sui-icon-loader sui-loading",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$i18n.label.fetching_data)+" ")]):t._e(),!t.isLoggedIn||t.isEmpty?s("p",{staticClass:"sui-description"},[t._v(" "+t._s(t.$i18n.label.no_information)+" ")]):s("fragment",[s("pie-chart",{staticClass:"beehive-chart-pie",attrs:{"chart-data":t.chartData,options:t.chartOptions}}),s("ul",{staticClass:"beehive-chart-pie-legend"},t._l(t.stats.social_networks,(function(e,a){return s("li",{key:a,staticClass:"beehive-legend-item"},[s("span",{staticClass:"beehive-legend-item-color",attrs:{"aria-hidden":"true"}}),s("span",{staticClass:"beehive-legend-item-name"},[s("span",[t._v(t._s(e[0]))]),s("strong",[t._v(t._s(e[1]))])])])})),0)],1)]},proxy:!0}])})},et=[],st={name:"SocialNetworks",props:["stats","loading"],components:{SuiBox:c["a"],PieChart:v["a"]},data:function(){return{chartData:{},chartOptions:{legend:{display:!1},tooltips:{xPadding:15,yPadding:15,backgroundColor:"rgba(51,51,51,0.85)",titleSpacing:0,titleMarginBottom:0,bodyFontColor:"#FFFFFF",bodyFontSize:14,bodyFontFamily:"Roboto",bodyFontStyle:"bold",bodyAlign:"left",cornerRadius:4,displayColors:!1},responsive:!0,maintainAspectRatio:!1}}},watch:{stats:function(t){this.setupChartData()}},computed:{isLoggedIn:function(){return this.$store.state.helpers.google.logged_in},isEmpty:function(){return Object.keys(this.stats).length<=0||!this.stats.social_networks}},methods:{setupChartData:function(){if(this.isEmpty)this.chartData={};else{var t=this,e={labels:[],datasets:[{label:"Sessions",data:[],borderWidth:2,borderColor:"#FFFFFF",backgroundColor:[],hoverBorderWidth:"#FFFFFF"}]},s=[],a=[],i=[];Object.keys(t.stats.social_networks).forEach((function(e){s.push(t.stats.social_networks[e][0]),a.push(t.stats.social_networks[e][1]),e%2?i.push("#0582B5"):i.push("#17A8E3")})),e.labels=s,e.datasets[0].data=a,e.datasets[0].backgroundColor=i,this.chartData=e}}}},at=st,it=Object(h["a"])(at,tt,et,!1,null,null,null),nt=it.exports,ot=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{staticClass:"sui-checkbox",class:t.checkboxClass,attrs:{for:t.id}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],attrs:{type:"checkbox",id:t.id,"aria-labelledby":t.id+"-label"},domProps:{checked:Array.isArray(t.model)?t._i(t.model,null)>-1:t.model},on:{change:[function(e){var s=t.model,a=e.target,i=!!a.checked;if(Array.isArray(s)){var n=null,o=t._i(s,n);a.checked?o<0&&(t.model=s.concat([n])):o>-1&&(t.model=s.slice(0,o).concat(s.slice(o+1)))}else t.model=i},t.handleChange]}}),s("span",{attrs:{"aria-hidden":"true"}}),s("span",{attrs:{for:t.id,id:t.id+"-label"}},[t._v(t._s(t.label))])])},rt=[],lt=(s("c975"),{name:"SuiCheckbox",props:{id:{type:String,required:!0},label:{type:String,required:!0},type:{validator:function(t){return-1!==["small","stacked","stacked-sm"].indexOf(t)},default:null},value:Boolean},data:function(){return{model:this.value}},computed:{checkboxClass:function(){return{"sui-checkbox-sm":"small"===this.type,"sui-checkbox-stacked":"stacked"===this.type,"sui-checkbox-stacked sui-checkbox-sm":"stacked-sm"===this.type}}},methods:{handleChange:function(){this.$emit("input",this.model)}}}),ct=lt,dt=Object(h["a"])(ct,ot,rt,!1,null,null,null),ut=dt.exports,ht=s("da43"),pt=s("d5c7"),bt={name:"App",components:{Pages:b,Mediums:C,Visitors:R,Countries:G,SuiHeader:q["a"],SuiCheckbox:ut,RefreshButton:ht["a"],SearchEngines:U,SocialNetworks:nt,SuiCalendarRange:pt["a"]},data:function(){return{stats:{},dateStart:this.$vars.dates.start_date,dateEnd:this.$vars.dates.end_date,compare:!1,loading:!1,startDate:this.$vars.dates.start_date,endDate:this.$vars.dates.end_date,selectedDate:this.$vars.dates.selected_label,periods:{current:{from:"",to:""},previous:{from:"",to:""}}}},mounted:function(){this.getStats()},computed:{canGetStats:function(){return this.$moduleVars.can_get_stats>0},showComparison:function(){var t=Object.keys(this.$vars.dates.periods);return t.includes(this.selectedDate)},canCompare:function(){return this.showComparison&&this.compare}},methods:{getStats:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.canGetStats){e.next=2;break}return e.abrupt("return");case 2:return t.loading=!0,e.next=5,Object(F["a"])({path:"stats/statistics",params:{from:t.startDate,to:t.endDate,network:t.isNetwork()?1:0}}).then((function(e){if(e.success&&e.data&&e.data.stats)if(Object.keys(e.data.stats).length>0?t.stats=e.data.stats:t.stats={},e.data.periods){var s=e.data.periods;t.periods={current:{from:s.current.from,to:s.current.to},previous:{from:s.previous.from,to:s.previous.to}}}else t.periods={current:{from:t.startDate,to:t.endDate},previous:{from:t.startDate,to:t.endDate}};else t.stats={};t.loading=!1}));case 5:case"end":return e.stop()}}),e)})))()},periodChange:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return e.startDate=t.startDate,e.endDate=t.endDate,e.selectedDate=t.seelcted,s.next=5,e.getStats();case 5:case"end":return s.stop()}}),s)})))()},canView:function(t){return Object(N["a"])(t,"statistics")}}},gt=bt,ft=(s("442d"),Object(h["a"])(gt,i,n,!1,null,null,null)),vt=ft.exports,mt=s("9d51"),_t=s("3f08"),yt=s("e19f");a["a"].config.productionTip=!1,a["a"].mixin({methods:{sprintf:yt["sprintf"],getOption:N["b"],setOption:N["l"],saveOptions:N["k"],isNetwork:N["f"],isMultisite:N["e"],isSubsite:N["h"],isNetworkWide:N["g"],isSuperAdmin:N["i"],isAdmin:N["d"]}}),a["a"].prototype.$i18n=window.beehiveI18n,a["a"].prototype.$vars=window.beehiveVars,a["a"].prototype.$moduleVars=window.beehiveModuleVars,a["a"].use(_t["b"].Plugin),new a["a"]({render:function(t){return t(vt)},store:mt["a"]}).$mount("#beehive-statistics-app")},"442d":function(t,e,s){"use strict";var a=s("a76a"),i=s.n(a);i.a},9:function(t,e,s){t.exports=s("0fc6")},a76a:function(t,e,s){}});