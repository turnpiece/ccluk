(function(t){function e(e){for(var i,n,r=e[0],c=e[1],l=e[2],d=0,g=[];d<r.length;d++)n=r[d],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&g.push(o[n][0]),o[n]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);u&&u(e);while(g.length)g.shift()();return a.push.apply(a,l||[]),s()}function s(){for(var t,e=0;e<a.length;e++){for(var s=a[e],i=!0,r=1;r<s.length;r++){var c=s[r];0!==o[c]&&(i=!1)}i&&(a.splice(e--,1),t=n(n.s=s[0]))}return t}var i={},o={accounts:0},a=[];function n(e){if(i[e])return i[e].exports;var s=i[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=i,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(s,i,function(e){return t[e]}.bind(null,i));return s},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/app/assets/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;a.push([2,"chunk-vendors","chunk-common"]),s()})({"02d8":function(t,e,s){"use strict";s("a327")},2:function(t,e,s){t.exports=s("de1f")},a327:function(t,e,s){},de1f:function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var i=s("2b0e"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"sui-wrap",attrs:{id:"beehive-wrap"}},[s("black-friday-notice"),s("sui-header",{attrs:{title:t.$i18n.title.accounts}}),s("div",{staticClass:"sui-row-with-sidenav"},[s("div",{staticClass:"sui-sidenav",attrs:{role:"navigation"}},[s("div",{staticClass:"sui-sidenav-settings"},[s("ul",{staticClass:"sui-vertical-tabs sui-sidenav-hide-md"},[s("router-link",{staticClass:"sui-vertical-tab",attrs:{tag:"li",to:"/google"}},[s("a",[t._v(t._s(t.$i18n.label.google_account))])])],1),s("mobile-nav",{attrs:{selected:t.$route.path,paths:t.nav}})],1)]),s("router-view")],1),s("sui-footer")],1)},a=[],n=s("6e06"),r=s("2323"),c=s("c895"),l=s("a943"),u=s("9e78"),d={name:"App",components:{SuiHeader:n["a"],SuiFooter:r["a"],SuiSelect:c["a"],MobileNav:l["a"],BlackFridayNotice:u["a"]},data:function(){return{nav:{"/google":this.$i18n.label.google_account}}},created:function(){var t=this;this.$root.$on("googleLoginUpdate",(function(e){t.$store.dispatch("helpers/updateGoogleLogin",{reInit:!0,status:e})}))},mounted:function(){this.$store.state.helpers.google.logged_in&&this.$store.dispatch("helpers/updateGoogleApi",{})}},g=d,p=(s("02d8"),s("2877")),h=Object(p["a"])(g,o,a,!1,null,null,null),b=h.exports,m=s("8c4f"),f=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"sui-box"},[s("box-header",{attrs:{title:t.$i18n.label.google_account}}),s("div",{staticClass:"sui-box-body"},[t.isApiUp?t._e():s("sui-notice",{attrs:{type:"error"}},[s("p",[t._v(t._s(t.apiErrorMessage))])]),t.isConnected?s("sui-notice",{attrs:{type:"info"}},[s("p",[t._v(t._s(t.$i18n.notice.account_setup))])]):t._e(),s("div",{staticClass:"sui-box-settings-row"},[s("div",{staticClass:"sui-box-settings-col-1"},[s("span",{staticClass:"sui-settings-label"},[t._v(" "+t._s(t.$i18n.label.account)+" ")]),t.isNetwork()?s("span",{staticClass:"sui-description"},[t._v(" "+t._s(t.$i18n.desc.google_account_network)+" ")]):t.isSubsite()?s("span",{staticClass:"sui-description"},[t._v(" "+t._s(t.$i18n.desc.google_account_subsite)+" ")]):s("span",{staticClass:"sui-description"},[t._v(" "+t._s(t.$i18n.desc.google_account_single)+" ")])]),s("div",{staticClass:"sui-box-settings-col-2"},[t.isConnected?s("account-details"):s("auth-form")],1)])],1)],1)},v=[],_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("fragment",[t.showSetupNotice?s("sui-notice",{staticClass:"sui-notice-spacing-bottom--10",attrs:{type:"info"}},[s("p",[t._v(" "+t._s(t.sprintf(t.$i18n.notice.google_already_connected,t.$vars.urls.statistics))+" ")])]):t._e(),t.showSimpleConnect?s("simple-connect-form"):s("div",{staticClass:"sui-side-tabs sui-tabs"},[s("div",{attrs:{"data-tabs":""}},[s("div",{staticClass:"active"},[t._v(" "+t._s(t.$i18n.label.connect_google)+" ")]),s("div",[t._v(t._s(t.$i18n.label.google_api))])]),s("div",{attrs:{"data-panes":""}},[s("div",{staticClass:"sui-tab-boxed beehive-google-setup-connect active"},[s("default-connect-form",{on:{success:function(t){}}})],1),s("div",{staticClass:"sui-tab-boxed"},[s("api-project-form"),s("api-project-form-uri")],1)])])],1)},C=[],$=s("5659"),y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("fragment",[s("p",{staticClass:"sui-description",domProps:{innerHTML:t._s(t.$i18n.desc.google_setup)}}),s("div",{staticClass:"sui-form-field",class:{"sui-form-field-error":t.errors.includes("clientId")},staticStyle:{"margin-bottom":"20px"}},[s("label",{staticClass:"sui-label",attrs:{for:"google-accounts-client-id",id:"google-accounts-client-id-label"}},[t._v(" "+t._s(t.$i18n.label.client_id)+" ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.clientId,expression:"clientId"}],staticClass:"sui-form-control",attrs:{type:"text",id:"google-accounts-client-id","aria-labelledby":"google-accounts-client-id-label","aria-describedby":"google-accounts-client-id-error",placeholder:t.$i18n.placeholder.client_id},domProps:{value:t.clientId},on:{input:function(e){e.target.composing||(t.clientId=e.target.value)}}}),t.errors.includes("clientId")?s("span",{staticClass:"sui-error-message",attrs:{id:"google-accounts-client-id-error"}},[t._v(" "+t._s(t.$i18n.error.client_id)+" ")]):t._e()]),s("div",{staticClass:"sui-form-field",class:{"sui-form-field-error":t.errors.includes("clientSecret")},staticStyle:{"margin-bottom":"10px"}},[s("label",{staticClass:"sui-label",attrs:{for:"google-accounts-client-secret",id:"google-accounts-client-secret-label"}},[t._v(" "+t._s(t.$i18n.label.client_secret)+" ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.clientSecret,expression:"clientSecret"}],staticClass:"sui-form-control",attrs:{type:"text",id:"google-accounts-client-secret","aria-labelledby":"google-accounts-client-secret-label","aria-describedby":"google-accounts-client-secret-error",placeholder:t.$i18n.placeholder.client_secret},domProps:{value:t.clientSecret},on:{input:function(e){e.target.composing||(t.clientSecret=e.target.value)}}}),t.errors.includes("clientSecret")?s("span",{staticClass:"sui-error-message",attrs:{id:"google-accounts-client-secret-error"}},[t._v(" "+t._s(t.$i18n.error.client_secret)+" ")]):t._e()]),s("button",{staticClass:"sui-button sui-button-sm sui-button-blue",class:t.authButtonClass,attrs:{type:"button","aria-live":"polite"},on:{click:t.authorize}},[s("span",{staticClass:"sui-button-text-default"},[t._v(" "+t._s(t.$i18n.button.authorize)+" ")]),s("span",{staticClass:"sui-button-text-onload"},[s("span",{staticClass:"sui-icon-loader sui-loading",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$i18n.button.processing)+" ")])])])},w=[],x=s("7f2d"),S={name:"ApiProjectForm",data:function(){return{errors:[],processing:!1,clientId:this.getOption("client_id","google",""),clientSecret:this.getOption("client_secret","google","")}},computed:{hasError:function(){return this.errors.length>0},authButtonClass:function(){return{"sui-button-onload-text":this.processing}}},methods:{validateForm:function(){this.errors=[],this.clientId||this.errors.push("clientId"),this.clientSecret||this.errors.push("clientSecret")},authorize:function(){var t=this;this.validateForm(),this.hasError||(this.processing=!0,Object(x["a"])({path:"v1/auth/auth-url",params:{client_id:this.clientId,client_secret:this.clientSecret,network:this.isNetwork()?1:0,context:"settings"}}).then((function(e){e.success&&e.data.url?window.location.href=e.data.url:(t.processing=!1,t.processError())})))},processError:function(){this.$root.$emit("googleConnectProcessed",{type:"api",success:!1}),this.$root.$emit("showTopNotice",{type:"error",dismiss:!0,message:this.$i18n.notice.auth_failed})}}},O=S,N=Object(p["a"])(O,y,w,!1,null,null,null),j=N.exports,k=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"beehive-google-setup-connect"},[s("div",{staticClass:"sui-form-field"},[s("a",{staticClass:"sui-button sui-button-lg beehive-connect-google-btn",attrs:{type:"button",href:t.$moduleVars.google.login_url}},[s("i",{staticClass:"sui-icon-google-connect",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$i18n.label.connect_google)+" ")])])])},P=[],A={},E=Object(p["a"])(A,k,P,!1,null,null,null),I=E.exports,V=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("fragment",[s("div",{attrs:{role:"separator",id:"google-accounts-accordion-separator--start","aria-labelledby":"google-accounts-accordion-separator--start","aria-label":t.$i18n.label.start_auth_redirect}}),s("div",{staticClass:"beehive-accordion last-child"},[s("h4",{staticClass:"beehive-accordion-item--header"},[s("button",{class:t.openButtonClass,attrs:{id:"google-accounts-accordion-section-label--redirects","aria-controls":"google-accounts-accordion-section--redirects","aria-expanded":t.open?"true":"false"},on:{click:t.openSection}},[s("span",{staticClass:"sui-icon-copy sui-md",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$i18n.label.uri_redirects)+" "),s("span",{staticClass:"sui-sm handler",class:t.openIconClass,attrs:{"aria-hidden":"true"}})])]),s("div",{staticClass:"beehive-accordion-item--body",class:t.bodyClass,attrs:{role:"region",id:"google-accounts-accordion-section--redirects","aria-labelledby":"google-accounts-accordion-section-label--redirects",hidden:!t.open}},[s("p",{staticClass:"sui-description",staticStyle:{"margin-bottom":"18px"}},[t._v(" "+t._s(t.$i18n.desc.uri_redirects)+" ")]),s("div",{staticClass:"sui-form-field"},[s("label",{staticClass:"sui-label",attrs:{id:"google-accounts-uri-redirects--label"}},[t._v(" "+t._s(t.$i18n.label.uri_redirects)+" ")]),s("div",{staticClass:"sui-row",staticStyle:{"margin-top":"5px"}},[s("div",{staticClass:"sui-col-md-6"},[s("div",{staticClass:"sui-with-button sui-with-button-icon"},[s("input",{staticClass:"sui-form-control",attrs:{type:"url",id:"google-accounts-uri-redirects--one","aria-labelledby":"google-accounts-uri-redirects--label",readonly:""},domProps:{value:t.$moduleVars.google.redirect_uri1}}),s("button",{staticClass:"sui-button-icon beehive-copy-uri",attrs:{"data-clipboard-text":t.$moduleVars.google.redirect_uri1},on:{click:t.copiedNotice}},[s("span",{staticClass:"sui-icon-copy",attrs:{"aria-hidden":"true"}}),s("span",{staticClass:"sui-screen-reader-text"},[t._v(" "+t._s(t.$i18n.button.copy)+" ")])])])]),s("div",{staticClass:"sui-col-md-6"},[s("div",{staticClass:"sui-with-button sui-with-button-icon"},[s("input",{staticClass:"sui-form-control",attrs:{type:"url",id:"google-accounts-uri-redirects--two","aria-labelledby":"uri-redirects--label",readonly:""},domProps:{value:t.$moduleVars.google.redirect_uri2}}),s("button",{staticClass:"sui-button-icon beehive-copy-uri",attrs:{"data-clipboard-text":t.$moduleVars.google.redirect_uri2},on:{click:t.copiedNotice}},[s("span",{staticClass:"sui-icon-copy",attrs:{"aria-hidden":"true"}}),s("span",{staticClass:"sui-screen-reader-text"},[t._v(" "+t._s(t.$i18n.button.copy)+" ")])])])])])])])]),s("div",{attrs:{role:"separator",id:"google-accounts-accordion-separator--end","aria-labelledby":"google-accounts-accordion-separator--end","aria-label":t.$i18n.label.end_auth_redirect}})])},F=[],M={name:"ApiProjectFormUri",data:function(){return{open:!1}},mounted:function(){new ClipboardJS(".beehive-copy-uri")},computed:{openButtonClass:function(){return{open:this.open}},bodyClass:function(){return{open:this.open}},openIconClass:function(){return{"sui-icon-chevron-up":this.open,"sui-icon-chevron-down":!this.open}}},methods:{openSection:function(){this.open=!this.open},copiedNotice:function(){this.$root.$emit("showTopNotice",{message:this.$i18n.notice.uri_copied})}}},T=M,L=Object(p["a"])(T,V,F,!1,null,null,null),U=L.exports,B=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("default-connection-parts",{attrs:{context:t.context},on:{notify:t.showNotification}})},D=[],G=s("5e17"),z={name:"DefaultConnectForm",components:{DefaultConnectionParts:G["a"]},props:{context:{type:String,default:"settings"}},methods:{showNotification:function(t){t?this.$root.$emit("showTopNotice",{message:this.$i18n.notice.auth_success}):this.$root.$emit("showTopNotice",{dismiss:!0,type:"error",message:this.$i18n.notice.google_connect_error})}}},H=z,J=Object(p["a"])(H,B,D,!1,null,null,null),R=J.exports,q={name:"AuthForm",components:{SuiNotice:$["a"],ApiProjectForm:j,SimpleConnectForm:I,ApiProjectFormUri:U,DefaultConnectForm:R},mounted:function(){SUI.suiTabs()},computed:{showSimpleConnect:function(){if(!this.$moduleVars.google)return!1;var t=this.$moduleVars.google.network_setup,e=this.$moduleVars.google.network_logged_in,s=this.$moduleVars.google.network_login_method;return this.isSubsite()&&t&&e&&"api"===s},showSetupNotice:function(){return!!this.$moduleVars.google&&(this.isSubsite()&&this.$moduleVars.google.network_logged_in)}}},W=q,K=Object(p["a"])(W,_,C,!1,null,null,null),Q=K.exports,X=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("fragment",[s("label",{staticClass:"sui-label"},[t._v(" "+t._s(t.$i18n.tooltip.connected_account)+" ")]),s("div",{staticClass:"sui-border-frame google-account-overview"},[s("div",{staticClass:"sui-box-builder sui-flushed"},[s("div",{staticClass:"sui-builder-fields"},[s("div",{staticClass:"sui-builder-field"},[s("div",{staticClass:"sui-builder-field-label"},[t.userPhoto?s("span",{staticClass:"beehive-google-user-photo"},[s("img",{attrs:{src:t.userPhoto,alt:t.userName}})]):t._e(),s("span",[s("span",{staticClass:"beehive-google-user-name"},[t._v(" "+t._s(t.userName)+" ")]),s("span",{staticClass:"beehive-google-user-email"},[t._v(" "+t._s(t.userEmail)+" ")])])]),s("div",{staticClass:"sui-dropdown"},[s("button",{staticClass:"sui-button-icon sui-dropdown-anchor"},[s("i",{staticClass:"sui-icon-widget-settings-config",attrs:{"aria-hidden":"true"}}),s("span",{staticClass:"sui-screen-reader-text"},[t._v(" "+t._s(t.$i18n.button.open_options)+" ")])]),s("ul",[s("li",[s("button",{attrs:{type:"button",id:"google-logout-user","data-modal-open":"beehive-google-logout-confirm"}},[s("i",{staticClass:"sui-icon-logout",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$i18n.label.logout)+" ")])])])])])])])]),s("logout-modal")],1)},Y=[],Z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"sui-modal sui-modal-sm"},[s("div",{staticClass:"sui-modal-content sui-content-fade-out",attrs:{role:"dialog","aria-modal":"true","aria-labelledby":"beehive-google-logout-confirm-title","aria-describedby":"beehive-google-logout-confirm-description",id:t.modal}},[s("div",{staticClass:"sui-box"},[s("div",{staticClass:"sui-box-header sui-flatten sui-content-center sui-spacing-top--60"},[s("button",{staticClass:"sui-button-icon sui-button-float--right",attrs:{"data-modal-close":""}},[s("i",{staticClass:"sui-icon-close sui-md",attrs:{"aria-hidden":"true"}}),s("span",{staticClass:"sui-screen-reader-text"},[t._v(" "+t._s(t.$i18n.dialog.close)+" ")])]),s("h3",{staticClass:"sui-box-title sui-lg",attrs:{id:"beehive-google-logout-confirm-title"}},[t._v(" "+t._s(t.$i18n.label.logout)+" ")]),s("p",{staticClass:"sui-description",attrs:{id:"beehive-google-logout-confirm-description"}},[t._v(" "+t._s(t.$i18n.desc.logout_first)+" "),s("br"),t._v(" "+t._s(t.$i18n.desc.logout_second)+" ")])]),s("div",{staticClass:"sui-box-footer sui-flatten sui-content-center"},[s("button",{staticClass:"sui-button sui-button-ghost",attrs:{"data-modal-close":""}},[t._v(" "+t._s(t.$i18n.dialog.cancel)+" ")]),s("button",{staticClass:"sui-button sui-button-red",class:t.buttonClass,attrs:{type:"button","aria-live":"polite",id:"beehive-google-logout-confirm-button"},on:{click:t.logoutAccount}},[s("span",{staticClass:"sui-button-text-default"},[s("i",{staticClass:"sui-icon-logout",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$i18n.label.logout)+" ")]),s("span",{staticClass:"sui-button-text-onload"},[s("i",{staticClass:"sui-icon-loader sui-loading",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$i18n.button.logging_out)+" ")])])])])])])},tt=[],et=s("8f47"),st={name:"LogoutModal",mixins:[et["a"]],data:function(){return{modal:"beehive-google-logout-confirm",processing:!1}},computed:{buttonClass:function(){return{"sui-button-ghost":!this.processing,"sui-button-onload-text":this.processing}}},methods:{logoutAccount:function(){var t=this;this.processing=!0,Object(x["a"])({path:"v1/auth/logout",params:{network:this.isNetwork()?1:0}}).then((function(e){t.$root.$emit("googleLoginUpdate",!1),t.processing=!1,t.closeModal(),e.success&&t.$root.$emit("showTopNotice",{message:t.$i18n.notice.logged_out})}))}}},it=st,ot=Object(p["a"])(it,Z,tt,!1,null,null,null),at=ot.exports,nt={name:"AccountDetails",components:{LogoutModal:at},computed:{userName:function(){var t=this.getOption("name","google_login","");return t||this.$i18n.label.no_account_info},userEmail:function(){return this.getOption("email","google_login","")},userPhoto:function(){return this.getOption("photo","google_login","")}}},rt=nt,ct=Object(p["a"])(rt,X,Y,!1,null,null,null),lt=ct.exports,ut=s("b380"),dt={name:"GoogleAccount",components:{AuthForm:Q,BoxHeader:ut["a"],SuiNotice:$["a"],AccountDetails:lt},mounted:function(){this.authRedirectNotice()},computed:{isConnected:function(){return this.$store.state.helpers.google.logged_in},isApiUp:function(){return this.$store.state.helpers.googleApi.status},apiErrorMessage:function(){return this.$store.state.helpers.googleApi.error}},methods:{authRedirectNotice:function(){var t=this.getOption("google_auth_redirect_success","misc");t&&("success"===t?this.$root.$emit("showTopNotice",{message:this.$i18n.notice.auth_success}):"error"===t&&this.$root.$emit("showTopNotice",{dismiss:!0,type:"error",message:this.$i18n.notice.auth_failed}),this.setOption("google_auth_redirect_success","misc",0),this.saveOptions())}}},gt=dt,pt=Object(p["a"])(gt,f,v,!1,null,null,null),ht=pt.exports;i["default"].use(m["a"]);var bt=[{path:"/",redirect:"/google"},{path:"/google",name:"GoogleAccount",component:ht},{path:"*",redirect:"/google"}],mt=new m["a"]({linkActiveClass:"current",routes:bt}),ft=s("b8ae"),vt=s("9d51"),_t=s("3f08"),Ct=s("e19f"),$t=s("5b5e");i["default"].config.productionTip=!1,i["default"].mixin({methods:{sprintf:Ct["sprintf"],getOption:$t["b"],setOption:$t["q"],saveOptions:$t["p"],isNetwork:$t["j"],isMultisite:$t["i"],isSubsite:$t["l"],isNetworkWide:$t["k"],hideDocLinks:$t["f"]}}),i["default"].prototype.$i18n=window.beehiveI18n,i["default"].prototype.$vars=window.beehiveVars,i["default"].prototype.$moduleVars=window.beehiveModuleVars,i["default"].use(ft["VuePlugin"]),i["default"].use(_t["b"].Plugin),new i["default"]({router:mt,render:function(t){return t(b)},store:vt["a"]}).$mount("#beehive-accounts-app")}});