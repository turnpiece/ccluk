(function(t){function e(e){for(var i,a,r=e[0],l=e[1],c=e[2],d=0,g=[];d<r.length;d++)a=r[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&g.push(o[a][0]),o[a]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);u&&u(e);while(g.length)g.shift()();return n.push.apply(n,c||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],i=!0,r=1;r<s.length;r++){var l=s[r];0!==o[l]&&(i=!1)}i&&(n.splice(e--,1),t=a(a.s=s[0]))}return t}var i={},o={accounts:0},n=[];function a(e){if(i[e])return i[e].exports;var s=i[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=t,a.c=i,a.d=function(t,e,s){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(s,i,function(e){return t[e]}.bind(null,i));return s},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/app/assets/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var u=l;n.push([2,"chunk-vendors","chunk-common"]),s()})({"02d8":function(t,e,s){"use strict";var i=s("a327"),o=s.n(i);o.a},2:function(t,e,s){t.exports=s("de1f")},a327:function(t,e,s){},de1f:function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var i=s("2b0e"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"sui-wrap",attrs:{id:"beehive-wrap"}},[s("sui-header",{attrs:{title:t.$i18n.title.accounts},scopedSlots:t._u([{key:"right",fn:function(){return[s("refresh-button")]},proxy:!0}])}),s("div",{staticClass:"sui-row-with-sidenav"},[s("div",{staticClass:"sui-sidenav"},[s("ul",{staticClass:"sui-vertical-tabs sui-sidenav-hide-md"},[s("router-link",{staticClass:"sui-vertical-tab",attrs:{tag:"li",to:"/google"}},[s("a",[t._v(t._s(t.$i18n.label.google_account))])])],1),s("div",{staticClass:"sui-sidenav-hide-lg"},[s("sui-select",{staticClass:"sui-mobile-nav",staticStyle:{display:"none"},attrs:{id:"settings-nav",options:t.navigation},model:{value:t.selectedPage,callback:function(e){t.selectedPage=e},expression:"selectedPage"}})],1)]),s("router-view")],1),s("sui-footer")],1)},n=[],a=s("6e06"),r=s("2323"),l=s("c895"),c=s("da43"),u={name:"App",components:{SuiHeader:a["a"],SuiFooter:r["a"],SuiSelect:l["a"],RefreshButton:c["a"]},data:function(){return{selectedPage:"#"+this.$route.path,navigation:{"#/google":this.$i18n.label.google_account}}},created:function(){var t=this;this.$root.$on("googleLoginUpdate",(function(e){t.$store.dispatch("helpers/updateGoogleLogin",{reInit:!0,status:e})}))},mounted:function(){this.$store.state.helpers.google.logged_in&&this.$store.dispatch("helpers/updateGoogleApi",{})}},d=u,g=(s("02d8"),s("2877")),p=Object(g["a"])(d,o,n,!1,null,null,null),h=p.exports,m=s("8c4f"),f=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"sui-box"},[s("box-header",{attrs:{title:t.$i18n.label.google_account}}),s("div",{staticClass:"sui-box-body"},[t.isApiUp?t._e():s("sui-notice",{attrs:{type:"error"}},[s("p",[t._v(t._s(t.apiErrorMessage))])]),t.isConnected?s("sui-notice",{attrs:{type:"info"}},[s("p",[t._v(t._s(t.$i18n.notice.account_setup))])]):t._e(),s("div",{staticClass:"sui-box-settings-row"},[s("div",{staticClass:"sui-box-settings-col-1"},[s("span",{staticClass:"sui-settings-label"},[t._v(" "+t._s(t.$i18n.label.account)+" ")]),t.isNetwork()?s("span",{staticClass:"sui-description"},[t._v(" "+t._s(t.$i18n.desc.google_account_network)+" ")]):t.isSubsite()?s("span",{staticClass:"sui-description"},[t._v(" "+t._s(t.$i18n.desc.google_account_subsite)+" ")]):s("span",{staticClass:"sui-description"},[t._v(" "+t._s(t.$i18n.desc.google_account_single)+" ")])]),s("div",{staticClass:"sui-box-settings-col-2"},[t.isConnected?s("account-details"):s("auth-form")],1)])],1)],1)},b=[],v=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("fragment",[t.showSimpleConnect?s("simple-connect-form"):s("div",{staticClass:"sui-side-tabs sui-tabs"},[s("div",{attrs:{"data-tabs":""}},[s("div",{staticClass:"active"},[t._v(" "+t._s(t.$i18n.label.connect_google)+" ")]),s("div",[t._v(t._s(t.$i18n.label.google_api))])]),s("div",{attrs:{"data-panes":""}},[s("div",{staticClass:"sui-tab-boxed beehive-google-setup-connect active"},[s("default-connect-form",{on:{success:function(t){}}})],1),s("div",{staticClass:"sui-tab-boxed"},[s("api-project-form")],1)])])],1)},_=[],C=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("fragment",[s("div",{staticClass:"sui-form-field"},[s("span",{staticClass:"sui-description",domProps:{innerHTML:t._s(t.sprintf(t.$i18n.desc.google_setup,"https://premium.wpmudev.org/docs/wpmu-dev-plugins/beehive/#set-up-api-project"))}})]),s("div",{staticClass:"sui-form-field",class:{"sui-form-field-error":t.errors.includes("clientId")}},[s("label",{staticClass:"sui-label",attrs:{for:"google-"+t.context+"-client-id",id:"google-"+t.context+"-client-id-label"}},[t._v(" "+t._s(t.$i18n.label.client_id)+" ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.clientId,expression:"clientId"}],staticClass:"sui-form-control",attrs:{type:"text",id:"google-"+t.context+"-client-id","aria-labelledby":"google-"+t.context+"-client-id-label","aria-describedby":"google-"+t.context+"-client-id-error",placeholder:t.$i18n.placeholder.client_id},domProps:{value:t.clientId},on:{input:function(e){e.target.composing||(t.clientId=e.target.value)}}}),t.errors.includes("clientId")?s("span",{staticClass:"sui-error-message",attrs:{id:"google-"+t.context+"-client-id-error"}},[t._v(" "+t._s(t.$i18n.error.client_id)+" ")]):t._e()]),s("div",{staticClass:"sui-form-field",class:{"sui-form-field-error":t.errors.includes("clientSecret")}},[s("label",{staticClass:"sui-label",attrs:{for:"google-"+t.context+"-client-secret",id:"google-"+t.context+"-client-secret-label"}},[t._v(" "+t._s(t.$i18n.error.client_secret)+" ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.clientSecret,expression:"clientSecret"}],staticClass:"sui-form-control",attrs:{type:"text",id:"google-"+t.context+"-client-secret","aria-labelledby":"google-"+t.context+"-client-secret-label","aria-describedby":"google-"+t.context+"-client-secret-error",placeholder:t.$i18n.placeholder.client_secret},domProps:{value:t.clientSecret},on:{input:function(e){e.target.composing||(t.clientSecret=e.target.value)}}}),t.errors.includes("clientSecret")?s("span",{staticClass:"sui-error-message",attrs:{id:"google-"+t.context+"-client-secret-error"}},[t._v(" "+t._s(t.$i18n.error.client_secret)+" ")]):t._e()]),s("div",{staticClass:"sui-form-field"},[s("button",{staticClass:"sui-button sui-button-blue",class:t.authButtonClass,attrs:{type:"button","aria-live":"polite"},on:{click:t.authorize}},[s("span",{staticClass:"sui-button-text-default"},[t._v(" "+t._s(t.$i18n.button.authorize)+" ")]),s("span",{staticClass:"sui-button-text-onload"},[s("i",{staticClass:"sui-icon-loader sui-loading",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$i18n.button.processing)+" ")])])])])},$=[],x=s("7f2d"),w={name:"ApiProjectForm",props:{context:{type:String,default:"settings"}},data:function(){return{errors:[],processing:!1,clientId:this.getOption("client_id","google",""),clientSecret:this.getOption("client_secret","google","")}},computed:{hasError:function(){return this.errors.length>0},authButtonClass:function(){return{"sui-button-onload-text":this.processing}}},methods:{validateForm:function(){this.errors=[],this.clientId||this.errors.push("clientId"),this.clientSecret||this.errors.push("clientSecret")},authorize:function(){var t=this;this.validateForm(),this.hasError||(this.processing=!0,Object(x["a"])({path:"auth/auth-url",params:{client_id:this.clientId,client_secret:this.clientSecret,network:this.isNetwork()?1:0,context:this.context,modal:"onboarding"===this.context?1:0}}).then((function(e){e.success&&e.data.url?window.location.href=e.data.url:(t.processing=!1,t.processError())})))},processError:function(){this.$root.$emit("googleConnectProcessed",{type:"api",success:!1,context:this.context}),this.$root.$emit("showTopNotice",{type:"error",dismiss:!0,message:this.sprintf(this.$i18n.notice.auth_failed,"https://premium.wpmudev.org/get-support/")})}}},y=w,S=Object(g["a"])(y,C,$,!1,null,null,null),O=S.exports,j=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"beehive-google-setup-connect"},[s("div",{staticClass:"sui-form-field"},[s("sui-notice",{attrs:{type:"info"}},[s("p",[t._v(" "+t._s(t.sprintf(t.$i18n.notice.google_already_connected,t.$vars.urls.statistics))+" ")])]),s("a",{staticClass:"sui-button sui-button-lg beehive-connect-google-btn",attrs:{type:"button",href:t.$moduleVars.google.login_url}},[s("i",{staticClass:"sui-icon-google-connect",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$i18n.label.connect_google)+" ")])],1)])},k=[],N=s("5659"),P={name:"SimpleConnectForm",components:{SuiNotice:N["a"]}},A=P,E=Object(g["a"])(A,j,k,!1,null,null,null),I=E.exports,M=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("default-connection-parts",{attrs:{context:t.context},on:{notify:t.showNotification}})},F=[],T=s("5e17"),V={name:"DefaultConnectForm",components:{DefaultConnectionParts:T["a"]},props:{context:{type:String,default:"settings"}},methods:{showNotification:function(t){t?this.$root.$emit("showTopNotice",{message:this.$i18n.notice.auth_success}):this.$root.$emit("showTopNotice",{dismiss:!0,type:"error",message:this.sprintf(this.$i18n.notice.google_connect_error,"https://premium.wpmudev.org/docs/wpmu-dev-plugins/beehive/#set-up-api-project","https://premium.wpmudev.org/get-support/")})}}},L=V,D=Object(g["a"])(L,M,F,!1,null,null,null),U=D.exports,B={name:"AuthForm",components:{ApiProjectForm:O,SimpleConnectForm:I,DefaultConnectForm:U},mounted:function(){SUI.suiTabs()},computed:{showSimpleConnect:function(){if(!this.$moduleVars.google)return!1;var t=this.$moduleVars.google.network_setup,e=this.$moduleVars.google.network_logged_in,s=this.$moduleVars.google.network_login_method;return this.isSubsite()&&t&&e&&"api"===s}}},G=B,z=Object(g["a"])(G,v,_,!1,null,null,null),H=z.exports,R=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("fragment",[s("label",{staticClass:"sui-label"},[t._v(" "+t._s(t.$i18n.tooltip.connected_account)+" ")]),s("div",{staticClass:"sui-border-frame google-account-overview"},[s("div",{staticClass:"sui-box-builder sui-flushed"},[s("div",{staticClass:"sui-builder-fields"},[s("div",{staticClass:"sui-builder-field"},[s("div",{staticClass:"sui-builder-field-label"},[t.userPhoto?s("span",{staticClass:"beehive-google-user-photo"},[s("img",{attrs:{src:t.userPhoto,alt:t.userName}})]):t._e(),s("span",[s("span",{staticClass:"beehive-google-user-name"},[t._v(" "+t._s(t.userName)+" ")]),s("span",{staticClass:"beehive-google-user-email"},[t._v(" "+t._s(t.userEmail)+" ")])])]),s("div",{staticClass:"sui-dropdown"},[s("button",{staticClass:"sui-button-icon sui-dropdown-anchor"},[s("i",{staticClass:"sui-icon-widget-settings-config",attrs:{"aria-hidden":"true"}}),s("span",{staticClass:"sui-screen-reader-text"},[t._v(" "+t._s(t.$i18n.button.open_options)+" ")])]),s("ul",[s("li",[s("button",{attrs:{type:"button",id:"google-logout-user","data-modal-open":"beehive-google-logout-confirm"}},[s("i",{staticClass:"sui-icon-logout",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$i18n.label.logout)+" ")])])])])])])])]),s("logout-modal")],1)},J=[],W=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"sui-modal sui-modal-sm"},[s("div",{staticClass:"sui-modal-content sui-content-fade-out",attrs:{role:"dialog","aria-modal":"true","aria-labelledby":"beehive-google-logout-confirm-title","aria-describedby":"beehive-google-logout-confirm-description",id:t.modal}},[s("div",{staticClass:"sui-box"},[s("div",{staticClass:"sui-box-header sui-flatten sui-content-center sui-spacing-top--60"},[s("button",{staticClass:"sui-button-icon sui-button-float--right",attrs:{"data-modal-close":""}},[s("i",{staticClass:"sui-icon-close sui-md",attrs:{"aria-hidden":"true"}}),s("span",{staticClass:"sui-screen-reader-text"},[t._v(" "+t._s(t.$i18n.dialog.close)+" ")])]),s("h3",{staticClass:"sui-box-title sui-lg",attrs:{id:"beehive-google-logout-confirm-title"}},[t._v(" "+t._s(t.$i18n.label.logout)+" ")]),s("p",{staticClass:"sui-description",attrs:{id:"beehive-google-logout-confirm-description"}},[t._v(" "+t._s(t.$i18n.desc.logout_first)+" "),s("br"),t._v(" "+t._s(t.$i18n.desc.logout_second)+" ")])]),s("div",{staticClass:"sui-box-footer sui-flatten sui-content-center"},[s("button",{staticClass:"sui-button sui-button-ghost",attrs:{"data-modal-close":""}},[t._v(" "+t._s(t.$i18n.dialog.cancel)+" ")]),s("button",{staticClass:"sui-button sui-button-red",class:t.buttonClass,attrs:{type:"button","aria-live":"polite",id:"beehive-google-logout-confirm-button"},on:{click:t.logoutAccount}},[s("span",{staticClass:"sui-button-text-default"},[s("i",{staticClass:"sui-icon-logout",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$i18n.label.logout)+" ")]),s("span",{staticClass:"sui-button-text-onload"},[s("i",{staticClass:"sui-icon-loader sui-loading",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$i18n.button.logging_out)+" ")])])])])])])},q=[],K=s("8f47"),Q={name:"LogoutModal",mixins:[K["a"]],data:function(){return{modal:"beehive-google-logout-confirm",processing:!1}},computed:{buttonClass:function(){return{"sui-button-ghost":!this.processing,"sui-button-onload-text":this.processing}}},methods:{logoutAccount:function(){var t=this;this.processing=!0,Object(x["a"])({path:"auth/logout",params:{network:this.isNetwork()?1:0}}).then((function(e){t.$root.$emit("googleLoginUpdate",!1),t.processing=!1,t.closeModal(),e.success&&t.$root.$emit("showTopNotice",{message:t.$i18n.notice.logged_out})}))}}},X=Q,Y=Object(g["a"])(X,W,q,!1,null,null,null),Z=Y.exports,tt={name:"AccountDetails",components:{LogoutModal:Z},computed:{userName:function(){var t=this.getOption("name","google_login","");return t||this.$i18n.label.no_account_info},userEmail:function(){return this.getOption("email","google_login","")},userPhoto:function(){return this.getOption("photo","google_login","")}}},et=tt,st=Object(g["a"])(et,R,J,!1,null,null,null),it=st.exports,ot=s("b380"),nt={name:"GoogleAccount",components:{AuthForm:H,BoxHeader:ot["a"],SuiNotice:N["a"],AccountDetails:it},mounted:function(){this.authRedirectNotice()},computed:{isConnected:function(){return this.$store.state.helpers.google.logged_in},isApiUp:function(){return this.$store.state.helpers.googleApi.status},apiErrorMessage:function(){return this.$store.state.helpers.googleApi.error}},methods:{authRedirectNotice:function(){var t=this.getOption("google_auth_redirect_success","misc");t&&("success"===t?this.$root.$emit("showTopNotice",{message:this.$i18n.notice.auth_success}):"error"===t&&this.$root.$emit("showTopNotice",{dismiss:!0,type:"error",message:this.sprintf(this.$i18n.notice.auth_failed,"https://premium.wpmudev.org/get-support/")}),this.setOption("google_auth_redirect_success","misc",0),this.saveOptions())}}},at=nt,rt=Object(g["a"])(at,f,b,!1,null,null,null),lt=rt.exports;i["a"].use(m["a"]);var ct=[{path:"/",redirect:"/google"},{path:"/google",name:"GoogleAccount",component:lt},{path:"*",redirect:"/google"}],ut=new m["a"]({linkActiveClass:"current",routes:ct}),dt=s("9d51"),gt=s("3f08"),pt=s("e19f"),ht=s("5b5e");i["a"].config.productionTip=!1,i["a"].mixin({methods:{sprintf:pt["sprintf"],getOption:ht["b"],setOption:ht["l"],saveOptions:ht["k"],isNetwork:ht["f"],isMultisite:ht["e"],isSubsite:ht["h"],isNetworkWide:ht["g"]}}),i["a"].prototype.$i18n=window.beehiveI18n,i["a"].prototype.$vars=window.beehiveVars,i["a"].prototype.$moduleVars=window.beehiveModuleVars,i["a"].use(gt["b"].Plugin),new i["a"]({router:ut,render:function(t){return t(h)},store:dt["a"]}).$mount("#beehive-accounts-app")}});