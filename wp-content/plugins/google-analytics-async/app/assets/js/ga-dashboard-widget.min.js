(function(t){function e(e){for(var a,r,o=e[0],l=e[1],c=e[2],h=0,d=[];h<o.length;h++)r=o[h],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&d.push(i[r][0]),i[r]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);u&&u(e);while(d.length)d.shift()();return n.push.apply(n,c||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],a=!0,o=1;o<s.length;o++){var l=s[o];0!==i[l]&&(a=!1)}a&&(n.splice(e--,1),t=r(r.s=s[0]))}return t}var a={},i={"ga-dashboard-widget":0},n=[];function r(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=a,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(s,a,function(e){return t[e]}.bind(null,a));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/app/assets/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;n.push([9,"chunk-vendors","chunk-common"]),s()})({9:function(t,e,s){t.exports=s("db12")},a928:function(t,e,s){"use strict";s("bad0")},bad0:function(t,e,s){},db12:function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("2b0e"),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"beehive-widget-wrap",class:t.wrapClass},[t.loading?s("p",{staticClass:"beehive-loading-text"},[s("span",{staticClass:"sui-icon-loader sui-loading",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$i18n.label.fetching_data)+" ")]):t._e(),s("widget-header",{on:{refreshStats:t.getStats,periodChange:t.periodChange}}),s("widget-body",{attrs:{stats:t.stats}})],1)},n=[],r=(s("c96a"),s("b64b"),s("7f2d")),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"sui-tabs sui-tabs-overflow",attrs:{id:"beehive-widget-body"}},[t._m(0),s("div",{staticClass:"sui-tabs-menu",attrs:{role:"tablist"}},t._l(t.tabs,(function(e,a){return s("tab-button",{attrs:{name:a,label:e,"default-tab":t.defaultTab}})})),1),s("div",{staticClass:"sui-tabs-content"},[t.canView("general")?s("general-stats",{attrs:{stats:t.stats},on:{tabChange:t.tabChange}}):t._e(),t.canView("audience")?s("audience",{attrs:{stats:t.stats,"selected-item":t.audienceDefault,"active-tab":t.defaultTab}}):t._e(),t.canView("pages")?s("pages",{attrs:{stats:t.stats,"active-tab":t.defaultTab}}):t._e(),t.canView("traffic")?s("traffic",{attrs:{stats:t.stats,"active-tab":t.defaultTab}}):t._e()],1)])},l=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"sui-tabs-navigation",attrs:{tabindex:"-1","aria-hidden":"true"}},[s("button",{staticClass:"sui-button-icon sui-tabs-navigation--left",attrs:{type:"button"}},[s("i",{staticClass:"sui-icon-chevron-left"})]),s("button",{staticClass:"sui-button-icon sui-tabs-navigation--right",attrs:{type:"button"}},[s("i",{staticClass:"sui-icon-chevron-right"})])])}],c=(s("7db0"),s("d3b7"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"sui-tab-content",class:{active:"pages"===t.activeTab},attrs:{role:"tabpanel",tabindex:"0",id:"beehive-widget-content--pages","aria-labelledby":"beehive-widget-tab--pages",hidden:"pages"!==t.activeTab}},[t.canGetStats&&t.isEmpty?s("sui-notice",{attrs:{type:"info"}},[s("p",[t._v(t._s(t.$i18n.notice.empty_data))])]):t.canGetStats||t.isConnected?s("table",{staticClass:"beehive-table"},[s("thead",[s("tr",[s("th",{attrs:{colspan:"3"}},[t._v(" "+t._s(t.$i18n.label.top_pages_most_visited)+" ")]),s("th",{staticClass:"beehive-column-time"},[t._v(" "+t._s(t.$i18n.label.average_sessions)+" ")]),s("th",{staticClass:"beehive-column-views"},[t._v(" "+t._s(t.$i18n.label.views)+" ")])])]),s("tbody",t._l(t.stats.pages,(function(e,a){return s("tr",{key:a},[s("td",{attrs:{colspan:"3"},domProps:{innerHTML:t._s(e[0])}}),s("td",{staticClass:"beehive-column-time"},[t._v(t._s(e[1]))]),e[3]<0?s("td",{staticClass:"beehive-column-views"},[t._v(" "+t._s(e[2])+" "),s("i",{staticClass:"sui-icon-arrow-down sui-sm beehive-red",attrs:{"aria-hidden":"true"}})]):e[3]>0?s("td",{staticClass:"beehive-column-views"},[t._v(" "+t._s(e[2])+" "),s("i",{staticClass:"sui-icon-arrow-up sui-sm beehive-green",attrs:{"aria-hidden":"true"}})]):s("td",{staticClass:"beehive-column-views"},[t._v(" "+t._s(e[2])+" "),s("span",{staticClass:"empty-space"})])])})),0)]):s("sui-notice",{attrs:{type:"error"}},[s("p",{domProps:{innerHTML:t._s(t.$i18n.notice.auth_required)}})])],1)}),u=[],h=s("5659"),d={name:"Pages",props:["stats","activeTab"],components:{SuiNotice:h["a"]},computed:{isConnected:function(){return this.$store.state.helpers.google.logged_in},isEmpty:function(){return Object.keys(this.stats).length<=0||!this.stats.pages},canGetStats:function(){return this.$moduleVars.can_get_stats>0}}},b=d,p=s("2877"),v=Object(p["a"])(b,c,u,!1,null,null,null),m=v.exports,g=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"sui-tab-content",class:{active:"traffic"===t.activeTab},attrs:{role:"tabpanel",tabindex:"0",id:"beehive-widget-content--traffic","aria-labelledby":"beehive-widget-tab--traffic",hidden:"traffic"!==t.activeTab}},[t.canGetStats&&t.isEmpty?s("sui-notice",{attrs:{type:"info"}},[s("p",[t._v(t._s(t.$i18n.notice.empty_data))])]):t.canGetStats||t.isConnected?s("fragment",[s("table",{staticClass:"beehive-table"},[s("thead",[s("tr",[s("th",{staticClass:"beehive-column-country",attrs:{colspan:"3"}},[t._v(" "+t._s(t.$i18n.label.top_countries)+" ")]),s("th",{staticClass:"beehive-column-views"},[t._v(" "+t._s(t.$i18n.label.views)+" ")])])]),s("tbody",t._l(t.stats.countries,(function(e,a){return s("table-row",{key:a,attrs:{stats:e,total:t.getTotalValue}})})),1)]),s("div",{staticClass:"beehive-row"},t._l(t.summary,(function(e,a){return s("pie-box",{key:a,attrs:{name:a,stats:t.stats,item:e}})})),1)]):s("sui-notice",{attrs:{type:"error"}},[s("p",{domProps:{innerHTML:t._s(t.$i18n.notice.auth_required)}})])],1)},f=[],_=(s("159b"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("fragment",[s("div",{staticClass:"beehive-col"},[s("div",{staticClass:"beehive-box"},[s("h3",{staticClass:"beehive-box-title",domProps:{innerHTML:t._s(t.getBoxTitle)}}),s("div",{staticClass:"beehive-box-content"},[s("p",{staticClass:"beehive-box-stat-value"},[t._v(" "+t._s(t.getStatValue+"%")+" ")]),s("p",{staticClass:"beehive-box-stat-name"},[t._v(" "+t._s(t.getStatName)+" ")]),s("sui-score",{attrs:{value:parseInt(t.getStatValue)}})],1)])]),"social_networks"!==t.name?s("span",{staticClass:"beehive-separator",attrs:{"aria-hidden":"true"}}):t._e()])}),C=[],y=(s("b0c0"),s("b680"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"score",staticClass:"sui-circle-score",attrs:{"data-score":t.value}})}),w=[],S=(s("a9e3"),{name:"SuiScore",props:{value:{type:Number,required:!0}},mounted:function(){jQuery(this.$refs.score).each((function(){SUI.loadCircleScore(this)}))}}),$=S,T=Object(p["a"])($,y,w,!1,null,null,null),O=T.exports,E={name:"PieBox",props:{stats:Array|Object,item:Object,name:String},components:{SuiScore:O},computed:{getBoxTitle:function(){var t="",e=this.item,s=this.item.title;return s&&""!==s?(e.icon&&""!==e.icon&&(t='<i class="sui-icon-'+e.icon+' sui-md" aria-hidden="true"></i>'),t+s):""},getStatValue:function(){var t=this,e=this.name,s=0,a=0,i=s>=0?1:-1,n=0;return null===typeof e&&""===e||!this.stats[e]||(Object.keys(t.stats[e]).forEach((function(s){a+=parseInt(t.stats[e][s][1])})),s=100*parseInt(t.stats[e][0][1])/a,s>=0&&(s=(Math.round(s*Math.pow(10,n)+1e-4*i)/Math.pow(10,n)).toFixed(n))),s},getStatName:function(){var t=this.name,e=this.$i18n.label.none;return null===typeof t&&""===t||!this.stats[t]||(e=this.stats[t][0][0]),e}}},j=E,V=Object(p["a"])(j,_,C,!1,null,null,null),k=V.exports,x=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("td",{staticClass:"beehive-column-country",attrs:{colspan:"3"}},[s("div",{staticClass:"beehive-country-content"},[s("span",{class:t.flagClass,attrs:{"aria-hidden":"true"}}),s("p",{staticClass:"beehive-country-name"},[t._v(" "+t._s(t.stats[0])+" ")]),s("div",{staticClass:"beehive-country-percent",attrs:{"aria-hidden":"true"}},[s("span",{style:t.percentageStyle})])])]),s("td",{staticClass:"beehive-column-views"},[t._v(t._s(t.stats[2]))])])},F=[],B=s("ade3"),M={name:"TableRow",props:{stats:Array|Object,total:Number},computed:{flagClass:function(){var t="beehive-flag-"+this.stats[1];return Object(B["a"])({"beehive-flag":!0,"beehive-country-flag":!0},t,!0)},percentageStyle:function(){var t=100*parseInt(this.stats[2])/this.total;return{width:t+"%"}}}},A=M,D=Object(p["a"])(A,x,F,!1,null,null,null),P=D.exports,G={name:"Traffic",props:{stats:Object|Array,activeTab:String},components:{PieBox:k,TableRow:P,SuiScore:O,SuiNotice:h["a"]},data:function(){return{summary:{search_engines:{title:this.$i18n.label.top_search_engine,icon:"magnifying-glass-search"},mediums:{title:this.$i18n.label.top_medium,icon:"update"},social_networks:{title:this.$i18n.label.top_social_network,icon:"community-people"}}}},computed:{isConnected:function(){return this.$store.state.helpers.google.logged_in},isEmpty:function(){return Object.keys(this.stats).length<=0},canGetStats:function(){return this.$moduleVars.can_get_stats>0},getTotalValue:function(){var t=this,e=0;return Object.keys(this.stats.countries).forEach((function(s){e+=parseInt(t.stats.countries[s][2])})),e}}},I=G,L=Object(p["a"])(I,g,f,!1,null,null,null),H=L.exports,N=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"sui-tab-content",class:{active:"audience"===t.activeTab},attrs:{role:"tabpanel",tabindex:"0",id:"beehive-widget-content--audience","aria-labelledby":"beehive-widget-tab--audience",hidden:"audience"!==t.activeTab}},[s("div",{staticClass:"beehive-tabs"},[s("div",{staticClass:"beehive-tabs-menu"},[s("div",{staticClass:"beehive-tabs-menu-wrapper",attrs:{role:"tablist"}},t._l(t.sections,(function(e,a){return s("chart-button",{key:a,attrs:{title:e.title,name:a,stats:t.stats,"selected-item":t.selectedTab},on:{tabChange:t.changeTab}})})),1)]),s("div",{staticClass:"beehive-tab-panel",attrs:{id:"beehive-audience-chart"}},[s("line-chart",{staticClass:"beehive-chart",attrs:{role:"img","aria-hidden":"true",id:"beehive-audience-line-chart","chart-data":t.chartData,options:t.getOptions}}),t.isEmpty?t._e():s("users-donut",{attrs:{stats:t.stats}}),t.canGetStats&&t.isEmpty?s("sui-notice",{staticClass:"beehive-margin-top-bottom--30",attrs:{type:"info"}},[s("p",[t._v(t._s(t.$i18n.notice.empty_data))])]):t.canGetStats||t.isConnected?t._e():s("sui-notice",{attrs:{type:"error"}},[s("p",{domProps:{innerHTML:t._s(t.$i18n.notice.auth_required)}})])],1)])])},R=[],z=s("c1df"),W=s.n(z),q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"beehive-users-resume"},[s("pie-chart",{staticClass:"beehive-charts beehive-charts-pie",attrs:{id:t.chart,"chart-data":t.chartData,options:t.chartOptions,width:t.width,height:t.height}}),s("div",{staticClass:"beehive-users-stats"},[s("p",{staticClass:"beehive-visitors-empty"},[t._v(" "+t._s(t.$i18n.desc.no_donut_data)+" ")]),s("p",{staticClass:"beehive-visitors-old"},[s("span",[t._v(t._s(t.newVisitors)+"%")]),t._v(" "+t._s(t.$i18n.desc.new_visitors)+" ")]),s("p",{staticClass:"beehive-visitors-new"},[s("span",[t._v(t._s(t.returnVisitors)+"%")]),t._v(" "+t._s(t.$i18n.desc.returning_visitors)+" ")])])],1)},Q=[],U=s("655a"),J={name:"UsersDonut",props:["stats"],components:{PieChart:U["a"]},data:function(){return{chart:"beehive-audience-pie-chart",chartData:{},width:40,height:40,chartOptions:{legend:{display:!1},tooltips:{enabled:!1},responsive:!1,maintainAspectRatio:!1,cutoutPercentage:50}}},mounted:function(){this.setupChartData()},watch:{stats:function(t){this.setupChartData()}},computed:{isLoggedIn:function(){return this.$store.state.helpers.google.logged_in},isEmpty:function(){return Object.keys(this.stats).length<=0||!this.stats.summary},newVisitors:function(){return this.isEmpty?0:Math.round(this.stats.summary.user_sessions.new)},returnVisitors:function(){return this.isEmpty?0:Math.round(this.stats.summary.user_sessions.returning)}},methods:{setupChartData:function(){this.isEmpty?this.chartData={}:this.chartData={datasets:[{label:this.$i18n.label.sessions,data:[this.newVisitors,this.returnVisitors],borderWidth:0,backgroundColor:["#17A8E3","#0073AA"]}],labels:[this.$i18n.label.new_visitors,this.$i18n.label.returning_visitors]}}}},K=J,X=Object(p["a"])(K,q,Q,!1,null,null,null),Y=X.exports,Z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"beehive-tab",class:t.buttonClass,attrs:{role:"tab","aria-controls":"beehive-audience-chart","aria-selected":t.ariaSelected,tabindex:t.tabIndex},on:{click:t.changeTab}},[s("span",{staticClass:"beehive-item-wrapper"},[s("span",{staticClass:"beehive-item-title"},[t._v(" "+t._s(t.title)+" ")]),!t.isConnected||t.isEmpty?s("span",{staticClass:"beehive-item-value"},[t._v(" 0 ")]):s("span",{staticClass:"beehive-item-stats"},[s("span",{staticClass:"beehive-item-value"},[t._v(" "+t._s(t.getValue)+" ")]),t.getTrendValue>0&&"bounce_rates"===t.name?s("span",{staticClass:"beehive-item-trend beehive-red"},[s("i",{staticClass:"sui-icon-arrow-up sui-sm",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(Math.abs(t.getTrendValue))+"% ")]):t.getTrendValue>0?s("span",{staticClass:"beehive-item-trend beehive-green"},[s("i",{staticClass:"sui-icon-arrow-up sui-sm",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(Math.abs(t.getTrendValue))+"% ")]):t.getTrendValue<0&&"bounce_rates"===t.name?s("span",{staticClass:"beehive-item-trend beehive-green"},[s("i",{staticClass:"sui-icon-arrow-down sui-sm",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(Math.abs(t.getTrendValue))+"% ")]):t.getTrendValue<0?s("span",{staticClass:"beehive-item-trend beehive-red"},[s("i",{staticClass:"sui-icon-arrow-down sui-sm",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(Math.abs(t.getTrendValue))+"% ")]):s("span",{staticClass:"beehive-item-trend"},[t._v(" 0% ")])])])])},tt=[],et={name:"ChartButton",props:{stats:Object|Array,name:String,title:String,selectedItem:String},data:function(){return{selectedTab:this.selectedItem,sections:{sessions:{color:"#17A8E3",title:this.$i18n.label.sessions},users:{color:"#2D8CE2",title:this.$i18n.label.users},pageviews:{color:"#8D00B1",title:this.$i18n.label.pageviews},page_sessions:{color:"#3DB8C2",title:this.$i18n.label.page_sessions},average_sessions:{color:"#2B7BA1",title:this.$i18n.label.average_sessions},bounce_rates:{color:"#FFB17C",title:this.$i18n.label.bounce_rates}}}},watch:{selectedItem:function(t){this.selectedTab=t}},computed:{isEmpty:function(){return Object.keys(this.stats).length<=0},isConnected:function(){return this.$store.state.helpers.google.logged_in},buttonClass:function(){return{"beehive-active":this.selectedTab===this.name,"beehive-empty-tab":this.isEmpty}},ariaSelected:function(){return this.name===this.selectedTab?"true":"false"},tabIndex:function(){return this.name===this.selectedTab&&-1},getValue:function(){var t=0;return this.stats.summary&&this.stats.summary[this.name]&&this.stats.summary[this.name].value&&(t=this.stats.summary[this.name].value),"bounce_rates"===this.name&&(t+="%"),t},getTrendValue:function(){var t=0;return this.stats.summary&&this.stats.summary[this.name]&&this.stats.summary[this.name].trend&&(t=this.stats.summary[this.name].trend),t}},methods:{changeTab:function(){this.selectedTab=this.name,this.$emit("tabChange",this.name)}}},st=et,at=Object(p["a"])(st,Z,tt,!1,null,null,null),it=at.exports,nt=s("f7cd"),rt={name:"Audience",props:{stats:Object|Array,selectedItem:String,activeTab:String},components:{LineChart:nt["a"],SuiNotice:h["a"],UsersDonut:Y,ChartButton:it},data:function(){return{selectedTab:this.selectedItem,sections:{sessions:{color:"#17A8E3",title:this.$i18n.label.sessions},users:{color:"#2D8CE2",title:this.$i18n.label.users},pageviews:{color:"#8D00B1",title:this.$i18n.label.pageviews},page_sessions:{color:"#3DB8C2",title:this.$i18n.label.page_sessions},average_sessions:{color:"#2B7BA1",title:this.$i18n.label.average_sessions},bounce_rates:{color:"#FFB17C",title:this.$i18n.label.bounce_rates}},chartData:{labels:[],datasets:[]},chartOptions:{}}},watch:{stats:function(t){this.changeStatsChart()},selectedTab:function(t){this.changeStatsChart()},selectedItem:function(t){this.selectedTab=t}},computed:{isEmpty:function(){return Object.keys(this.stats).length<=0},isConnected:function(){return this.$store.state.helpers.google.logged_in},getOptions:function(){return this.isEmpty?{responsive:!0,maintainAspectRatio:!1}:this.chartOptions},canGetStats:function(){return this.$moduleVars.can_get_stats},defaultChartOptions:function(){return{legend:{display:!1},scales:{yAxes:[{gridLines:{display:!0,color:"#E6E6E6",zeroLineColor:"#E6E6E6",drawBorder:!1},ticks:{fontColor:"#676767",fontSize:11}}],xAxes:[{gridLines:{display:!0,zeroLineColor:"rgba(0,0,0,0)",drawBorder:!1},ticks:{fontColor:"#676767",fontSize:11}}]},tooltips:{xPadding:15,yPadding:15,backgroundColor:"rgba(51,51,51,0.85)",titleFontColor:"#FFFFFF",titleFontSize:14,titleFontFamily:"Roboto",titleFontStyle:"bold",titleAlign:"left",titleSpacing:0,titleMarginBottom:10,bodyFontColor:"#FFFFFF",bodyFontSize:14,bodyFontFamily:"Roboto",bodyFontStyle:"normal",bodyAlign:"left",cornerRadius:4,displayColors:!1},responsive:!0,maintainAspectRatio:!1}}},methods:{getTitle:function(t){return this.sections[t]?this.sections[t].title:""},changeTab:function(t){this.selectedTab=t},changeStatsChart:function(){if(this.isEmpty)this.chartData={labels:[],datasets:[]};else if(this.sections[this.selectedTab]&&this.stats[this.selectedTab]){var t=[],e=[],s=[],a=this.defaultChartOptions,i=this.getTitle(this.selectedTab),n=this.sections[this.selectedTab].color,r={labels:[],datasets:[{label:i,data:[],borderWidth:2,borderColor:n,backgroundColor:"rgba(0,0,0,0)",pointRadius:4,pointBorderColor:n,pointBackgroundColor:"#FFFFFF",pointHoverBackgroundColor:n}]},o=this.stats[this.selectedTab];a.tooltips.callbacks={},"average_sessions"===this.selectedTab?a.tooltips.callbacks.label=function(t){var e=W.a.utc(1e3*t.value).format("HH:mm:ss");return i+" : "+e}:"bounce_rates"===this.selectedTab&&(a.tooltips.callbacks.label=function(t){return i+" : "+t.value+"%"}),Object.keys(o).forEach((function(a,i,n){t.push(o[a][0]),e.push(o[a][1]),i===n.length-1?s.push("rgba(0,0,0,0)"):s.push("#E6E6E6")})),r.labels=t,r.datasets[0].data=e,this.chartData=r,this.chartOptions=a}}}},ot=rt,lt=Object(p["a"])(ot,N,R,!1,null,null,null),ct=lt.exports,ut=s("5b5e"),ht=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"sui-tab-content active",attrs:{role:"tabpanel",tabindex:"0",id:"beehive-widget-content--general","aria-labelledby":"beehive-widget-tab--general"}},[t.canGetStats&&t.isEmpty?s("sui-notice",{attrs:{type:"info"}},[s("p",[t._v(t._s(t.$i18n.notice.empty_data))])]):t.canGetStats||t.isConnected?t._e():s("sui-notice",{attrs:{type:"error"}},[s("p",{domProps:{innerHTML:t._s(t.$i18n.notice.auth_required)}})]),s("div",{staticClass:"beehive-buttons-wrapper"},[t._l(t.summarySections,(function(e,a){return s("top-button",{key:a,attrs:{name:a,title:e.title,tab:e.tab,stats:t.stats},on:{tabChange:t.tabChange}})})),t._l(t.topSections,(function(e,a){return s("bottom-button",{key:a,attrs:{name:a,title:e.title,tab:e.tab,stats:t.stats},on:{tabChange:t.tabChange}})}))],2)],1)},dt=[],bt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"beehive-button-holder"},[!t.canGetStats&&!t.isConnected||t.isEmpty||""===t.getValue?s("button",{staticClass:"beehive-button",on:{click:t.openTab}},[s("span",{staticClass:"beehive-button-name"},[t._v(" "+t._s(t.title)+" ")]),s("span",{staticClass:"beehive-button-value"},[t._v("-")]),s("i",{staticClass:"beehive-button-icon sui-icon-chevron-right sui-lg",attrs:{"aria-hidden":"true"}})]):s("button",{staticClass:"beehive-button",on:{click:t.openTab}},[s("span",{staticClass:"beehive-button-name"},[t._v(" "+t._s(t.title)+" ")]),s("span",{staticClass:"beehive-button-stats"},[s("span",{staticClass:"beehive-button-value beehive-blue beehive-lg"},[t._v(" "+t._s(t.getValue)+" ")]),s("span",{staticClass:"beehive-button-trend",class:t.getTrendClass,domProps:{innerHTML:t._s(t.getTrendHtml)}})]),s("i",{staticClass:"beehive-button-icon sui-icon-chevron-right sui-lg",attrs:{"aria-hidden":"true"}})])])},pt=[],vt={name:"TopButton",props:{stats:Object,tab:String,title:String,name:String},computed:{canGetStats:function(){return this.$moduleVars.can_get_stats},isConnected:function(){return this.$store.state.helpers.google.logged_in},isEmpty:function(){return Object.keys(this.stats).length<=0},getTrendClass:function(){return{"beehive-red":this.getTrendValue<0,"beehive-green":this.getTrendValue>=0}},getValue:function(){var t="";return this.stats.summary&&this.stats.summary[this.name]&&this.stats.summary[this.name].value&&(t=this.stats.summary[this.name].value),t},getTrendValue:function(){var t=0;return this.stats.summary&&this.stats.summary[this.name]&&this.stats.summary[this.name].trend&&(t=this.stats.summary[this.name].trend),t},getTrendHtml:function(){var t=this.getTrendValue,e=Math.abs(t);return t<0?e+'% <i class="sui-icon-arrow-down sui-sm" aria-hidden="true"></i>':t>0?'<i class="sui-icon-arrow-up sui-sm" aria-hidden="true"></i>'+e+"%":"0%"}},methods:{openTab:function(){this.$emit("tabChange",this.name);var t=jQuery("#beehive-widget-tab--"+this.tab);t.click()}}},mt=vt,gt=Object(p["a"])(mt,bt,pt,!1,null,null,null),ft=gt.exports,_t=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"beehive-button-holder"},[!t.canGetStats&&!t.isConnected||t.isEmpty||""===t.getValue?s("button",{staticClass:"beehive-button",on:{click:t.openTab}},[s("span",{staticClass:"beehive-button-name"},[t._v(" "+t._s(t.title)+" ")]),s("span",{staticClass:"beehive-button-value"},[t._v("-")]),s("i",{staticClass:"beehive-button-icon sui-icon-chevron-right sui-lg",attrs:{"aria-hidden":"true"}})]):s("button",{staticClass:"beehive-button",on:{click:t.openTab}},[s("span",{staticClass:"beehive-button-name"},[t._v(" "+t._s(t.title)+" ")]),s("span",{staticClass:"beehive-button-value beehive-blue"},[t._v(" "+t._s(t.getValue)+" ")]),s("i",{staticClass:"beehive-button-icon sui-icon-chevron-right sui-lg",attrs:{"aria-hidden":"true"}})])])},Ct=[],yt={name:"BottomButton",props:{stats:Object,tab:String,title:String,name:String},computed:{canGetStats:function(){return this.$moduleVars.can_get_stats},isConnected:function(){return this.$store.state.helpers.google.logged_in},isEmpty:function(){return Object.keys(this.stats).length<=0},getValue:function(){var t="";return this.stats.summary&&this.stats.summary[this.name]&&this.stats.summary[this.name].value&&(t=this.stats.summary[this.name].value),t}},methods:{openTab:function(){this.$emit("tabChange",this.name);var t=jQuery("#beehive-widget-tab--"+this.tab);t.click()}}},wt=yt,St=Object(p["a"])(wt,_t,Ct,!1,null,null,null),$t=St.exports,Tt={name:"GeneralStats",props:{stats:Object|Array},components:{SuiNotice:h["a"],TopButton:ft,BottomButton:$t},data:function(){return{summarySections:{users:{title:this.$i18n.label.users,tab:"audience"},pageviews:{title:this.$i18n.label.pageviews,tab:"audience"}},topSections:{page:{title:this.$i18n.label.top_page,tab:"pages"},country:{title:this.$i18n.label.top_country,tab:"traffic"},medium:{title:this.$i18n.label.top_referral,tab:"traffic"},search_engine:{title:this.$i18n.label.top_search_engine,tab:"traffic"}}}},computed:{canGetStats:function(){return this.$moduleVars.can_get_stats},isConnected:function(){return this.$store.state.helpers.google.logged_in},isEmpty:function(){return Object.keys(this.stats).length<=0}},methods:{tabChange:function(t){this.$emit("tabChange",t)}}},Ot=Tt,Et=Object(p["a"])(Ot,ht,dt,!1,null,null,null),jt=Et.exports,Vt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.canView?s("button",{staticClass:"sui-tab-item",class:{active:t.isSelected},attrs:{type:"button",role:"tab",id:"beehive-widget-tab--"+t.name,"aria-controls":"beehive-widget-content--"+t.name,tabindex:!t.isSelected&&"-1","aria-selected":t.isSelected?"true":"false"}},[t._v(" "+t._s(t.label)+" ")]):t._e()},kt=[],xt={name:"TabButton",props:{name:String,label:String,defaultTab:String},computed:{isSelected:function(){return this.name===this.defaultTab},canView:function(){return Object(ut["a"])(this.name,"dashboard")}}},Ft=xt,Bt=Object(p["a"])(Ft,Vt,kt,!1,null,null,null),Mt=Bt.exports,At={name:"WidgetBody",props:["stats"],components:{TabButton:Mt,GeneralStats:jt,Audience:ct,Pages:m,Traffic:H},data:function(){return{audienceDefault:"sessions",tabs:{general:this.$i18n.label.general_stats,audience:this.$i18n.label.audience,pages:this.$i18n.label.top_pages,traffic:this.$i18n.label.traffic}}},mounted:function(){var t=jQuery("#beehive-widget-body"),e=t.find(".sui-tabs-navigation");SUI.tabs(),e.each((function(){SUI.tabsOverflow(jQuery(this))}))},computed:{defaultTab:function(){return this.canView("general")?"general":this.canView("audience")?"audience":this.canView("pages")?"pages":"traffic"}},methods:{canView:function(t){return Object(ut["a"])(t,"dashboard")},tabChange:function(t){this.audienceDefault=t}}},Dt=At,Pt=Object(p["a"])(Dt,o,l,!1,null,null,null),Gt=Pt.exports,It=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"beehive-widget-header"}},[s("div",{staticClass:"beehive-left-actions"},[t.canShowStatisticsMenu?s("a",{attrs:{href:t.$vars.urls.statistics}},[s("i",{staticClass:"sui-icon-graph-bar",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$i18n.label.all_stats)+" ")]):t._e(),t.canShowStatisticsMenu?s("span",{staticClass:"beehive-separator",attrs:{"aria-hidden":"true"}}):t._e(),s("button",{on:{click:function(e){return e.preventDefault(),t.refreshStats.apply(null,arguments)}}},[s("i",{staticClass:"sui-icon-refresh",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$i18n.label.refresh_data)+" ")])]),s("div",{staticClass:"beehive-right-actions"},[s("sui-calendar-range",{attrs:{id:"beehive-stats-datepicker",periods:t.$vars.dates.periods,"start-date":t.$vars.dates.start_date,"end-date":t.$vars.dates.end_date,"selected-label":t.$vars.dates.selected_label},on:{periodChange:t.periodChange}})],1)])},Lt=[],Ht=s("d5c7"),Nt={name:"WidgetHeader",components:{SuiCalendarRange:Ht["a"]},computed:{canShowStatisticsMenu:function(){return Object(ut["e"])()}},methods:{refreshStats:function(){this.$emit("refreshStats")},periodChange:function(t){this.$emit("periodChange",t)}}},Rt=Nt,zt=Object(p["a"])(Rt,It,Lt,!1,null,null,null),Wt=zt.exports,qt={name:"App",components:{WidgetHeader:Wt,WidgetBody:Gt},data:function(){return{stats:{},dateStart:this.$vars.dates.start_date,dateEnd:this.$vars.dates.end_date,loading:!1,small:!1}},created:function(){window.addEventListener("resize",this.smallClass)},mounted:function(){this.getStats(),this.smallClass()},destroyed:function(){window.removeEventListener("resize",this.smallClass)},computed:{wrapClass:function(){return{"beehive-widget-small":this.small,"beehive-loading":this.loading}},canGetStats:function(){return this.$moduleVars.can_get_stats}},methods:{getStats:function(){var t=this;this.canGetStats&&(this.loading=!0,Object(r["b"])({path:"stats/dashboard",params:{from:this.dateStart,to:this.dateEnd,network:this.isNetwork()?1:0}}).then((function(e){e.success&&e.data&&e.data.stats&&Object.keys(e.data.stats).length>0?t.stats=e.data.stats:t.stats={},t.loading=!1})))},periodChange:function(t){this.dateStart=t.startDate,this.dateEnd=t.endDate,this.getStats()},smallClass:function(){var t=jQuery("#beehive-widget-body"),e=t.closest(".postbox");t.length&&(this.small=e.outerWidth(!0)<500)}}},Qt=qt,Ut=(s("a928"),Object(p["a"])(Qt,i,n,!1,null,null,null)),Jt=Ut.exports,Kt=s("9d51"),Xt=s("3f08"),Yt=s("e19f");a["default"].config.productionTip=!1,a["default"].mixin({methods:{sprintf:Yt["sprintf"],getOption:ut["b"],setOption:ut["q"],saveOptions:ut["p"],isNetwork:ut["j"],isMultisite:ut["i"],isSubsite:ut["l"],isNetworkWide:ut["k"],isSuperAdmin:ut["m"],isAdmin:ut["h"]}}),a["default"].prototype.$i18n=window.beehiveI18n,a["default"].prototype.$vars=window.beehiveVars,a["default"].prototype.$moduleVars=window.beehiveModuleVars,a["default"].use(Xt["b"].Plugin),new a["default"]({render:function(t){return t(Jt)},store:Kt["a"]}).$mount("#beehive-dashboard-statistics-app")}});