(function(t){function e(e){for(var a,r,o=e[0],l=e[1],c=e[2],d=0,h=[];d<o.length;d++)r=o[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&h.push(i[r][0]),i[r]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);u&&u(e);while(h.length)h.shift()();return n.push.apply(n,c||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],a=!0,o=1;o<s.length;o++){var l=s[o];0!==i[l]&&(a=!1)}a&&(n.splice(e--,1),t=r(r.s=s[0]))}return t}var a={},i={"ga-dashboard-widget":0},n=[];function r(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=a,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(s,a,function(e){return t[e]}.bind(null,a));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/app/assets/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;n.push([6,"chunk-vendors","chunk-common"]),s()})({6:function(t,e,s){t.exports=s("db12")},a928:function(t,e,s){"use strict";var a=s("bad0"),i=s.n(a);i.a},bad0:function(t,e,s){},db12:function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("2b0e"),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"beehive-widget-wrap",class:t.wrapClass},[t.loading?s("p",{staticClass:"beehive-loading-text"},[s("span",{staticClass:"sui-icon-loader sui-loading",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$i18n.label.fetching_data)+" ")]):t._e(),s("widget-header",{on:{refreshStats:t.getStats,periodChange:t.periodChange}}),s("widget-body",{attrs:{stats:t.stats}})],1)},n=[],r=(s("b64b"),s("c96a"),s("7f2d")),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"sui-tabs sui-tabs-overflow",attrs:{id:"beehive-widget-body"}},[t._m(0),s("div",{staticClass:"sui-tabs-menu",attrs:{role:"tablist"}},[t.canView("general")?s("button",{staticClass:"sui-tab-item active",attrs:{type:"button",role:"tab",id:"beehive-widget-tab--general_stats","aria-controls":"beehive-widget-content--general_stats","aria-selected":"true"}},[t._v(" "+t._s(t.$i18n.label.general_stats)+" ")]):t._e(),t.canView("audience")?s("button",{staticClass:"sui-tab-item",attrs:{type:"button",role:"tab",id:"beehive-widget-tab--audience","aria-controls":"beehive-widget-content--audience","aria-selected":"false",tabindex:"-1"}},[t._v(" "+t._s(t.$i18n.label.audience)+" ")]):t._e(),t.canView("pages")?s("button",{staticClass:"sui-tab-item",attrs:{type:"button",role:"tab",id:"beehive-widget-tab--top_pages","aria-controls":"beehive-widget-content--top_pages","aria-selected":"false",tabindex:"-1"}},[t._v(" "+t._s(t.$i18n.label.top_pages)+" ")]):t._e(),t.canView("traffic")?s("button",{staticClass:"sui-tab-item",attrs:{type:"button",role:"tab",id:"beehive-widget-tab--traffic","aria-controls":"beehive-widget-content--traffic","aria-selected":"false",tabindex:"-1"}},[t._v(" "+t._s(t.$i18n.label.traffic)+" ")]):t._e()]),s("div",{staticClass:"sui-tabs-content"},[t.canView("general")?s("general-stats",{attrs:{stats:t.stats},on:{tabChange:t.tabChange}}):t._e(),t.canView("audience")?s("audience",{attrs:{stats:t.stats,"selected-item":t.audienceDefault}}):t._e(),t.canView("pages")?s("pages",{attrs:{stats:t.stats}}):t._e(),t.canView("traffic")?s("traffic",{attrs:{stats:t.stats}}):t._e()],1)])},l=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"sui-tabs-navigation",attrs:{tabindex:"-1","aria-hidden":"true"}},[s("button",{staticClass:"sui-button-icon sui-tabs-navigation--left",attrs:{type:"button"}},[s("i",{staticClass:"sui-icon-chevron-left"})]),s("button",{staticClass:"sui-button-icon sui-tabs-navigation--right",attrs:{type:"button"}},[s("i",{staticClass:"sui-icon-chevron-right"})])])}],c=(s("7db0"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"sui-tab-content",attrs:{role:"tabpanel",tabindex:"0",id:"beehive-widget-content--top_pages","aria-labelledby":"beehive-widget-tab--top_pages",hidden:""}},[t.canGetStats&&t.isEmpty?s("sui-notice",{attrs:{type:"info"}},[s("p",[t._v(t._s(t.$i18n.notice.empty_data))])]):t.canGetStats||t.isLoggedIn?s("table",{staticClass:"beehive-table"},[s("thead",[s("tr",[s("th",{attrs:{colspan:"3"}},[t._v(" "+t._s(t.$i18n.label.top_pages_most_visited)+" ")]),s("th",{staticClass:"beehive-column-time"},[t._v(" "+t._s(t.$i18n.label.average_sessions)+" ")]),s("th",{staticClass:"beehive-column-views"},[t._v(" "+t._s(t.$i18n.label.views)+" ")])])]),s("tbody",t._l(t.stats.pages,(function(e,a){return s("tr",{key:a},[s("td",{attrs:{colspan:"3"},domProps:{innerHTML:t._s(e[0])}}),s("td",{staticClass:"beehive-column-time"},[t._v(t._s(e[1]))]),e[3]<0?s("td",{staticClass:"beehive-column-views"},[t._v(" "+t._s(e[2])+" "),s("i",{staticClass:"sui-icon-arrow-down sui-sm beehive-red",attrs:{"aria-hidden":"true"}})]):e[3]>0?s("td",{staticClass:"beehive-column-views"},[t._v(" "+t._s(e[2])+" "),s("i",{staticClass:"sui-icon-arrow-up sui-sm beehive-green",attrs:{"aria-hidden":"true"}})]):s("td",{staticClass:"beehive-column-views"},[t._v(" "+t._s(e[2])+" "),s("span",{staticClass:"empty-space"})])])})),0)]):s("sui-notice",{attrs:{type:"error"}},[s("p",{domProps:{innerHTML:t._s(t.sprintf(t.$i18n.notice.auth_required,t.$vars.urls.accounts))}})])],1)}),u=[],d=s("5659"),h={name:"Pages",props:["stats"],components:{SuiNotice:d["a"]},computed:{isEmpty:function(){return Object.keys(this.stats).length<=0},isLoggedIn:function(){return this.$store.state.helpers.google.logged_in},canGetStats:function(){return this.$moduleVars.can_get_stats}}},b=h,p=s("2877"),v=Object(p["a"])(b,c,u,!1,null,null,null),g=v.exports,f=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"sui-tab-content",attrs:{role:"tabpanel",tabindex:"0",id:"beehive-widget-content--traffic","aria-labelledby":"beehive-widget-tab--traffic",hidden:""}},[t.canGetStats&&t.isEmpty?s("sui-notice",{attrs:{type:"info"}},[s("p",[t._v(t._s(t.$i18n.notice.empty_data))])]):t.canGetStats||t.isLoggedIn?s("fragment",[s("table",{staticClass:"beehive-table"},[s("thead",[s("tr",[s("th",{staticClass:"beehive-column-country",attrs:{colspan:"3"}},[t._v(" "+t._s(t.$i18n.label.top_countries)+" ")]),s("th",{staticClass:"beehive-column-views"},[t._v(" "+t._s(t.$i18n.label.views)+" ")])])]),s("tbody",t._l(t.stats.countries,(function(e,a){return s("tr",{key:a},[s("td",{staticClass:"beehive-column-country",attrs:{colspan:"3"}},[s("div",{staticClass:"beehive-country-content"},[s("span",{class:t.flagClass(e[1]),attrs:{"aria-hidden":"true"}}),s("p",{staticClass:"beehive-country-name"},[t._v(" "+t._s(e[0])+" ")]),s("div",{staticClass:"beehive-country-percent",attrs:{"aria-hidden":"true"}},[s("span",{style:t.percentageStyle(e[2])})])])]),s("td",{staticClass:"beehive-column-views"},[t._v(t._s(e[2]))])])})),0)]),s("div",{staticClass:"beehive-row"},t._l(t.summary,(function(e,a){return s("fragment",{key:a},[s("div",{staticClass:"beehive-col"},[s("div",{staticClass:"beehive-box"},[s("h3",{staticClass:"beehive-box-title",domProps:{innerHTML:t._s(t.getBoxTitle(e))}}),s("div",{staticClass:"beehive-box-content"},[s("p",{staticClass:"beehive-box-stat-value"},[t._v(" "+t._s(t.getStatValue(a,"%"))+" ")]),s("p",{staticClass:"beehive-box-stat-name"},[t._v(" "+t._s(t.getStatName(a))+" ")]),s("sui-score",{attrs:{value:parseInt(t.getStatValue(a,""))}})],1)])]),"social_networks"!==a?s("span",{staticClass:"beehive-separator",attrs:{"aria-hidden":"true"}}):t._e()])})),1)]):s("sui-notice",{attrs:{type:"error"}},[s("p",{domProps:{innerHTML:t._s(t.sprintf(t.$i18n.notice.auth_required,t.$vars.urls.accounts))}})])],1)},m=[],_=(s("4160"),s("b680"),s("159b"),s("ade3")),C=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"score",staticClass:"sui-circle-score",attrs:{"data-score":t.value}})},y=[],w=(s("a9e3"),{name:"SuiScore",props:{value:{type:Number,required:!0}},mounted:function(){jQuery(this.$refs.score).each((function(){SUI.loadCircleScore(this)}))}}),$=w,S=Object(p["a"])($,C,y,!1,null,null,null),T=S.exports,E={name:"Traffic",props:["stats"],components:{SuiScore:T,SuiNotice:d["a"]},data:function(){return{summary:{search_engines:{title:this.$i18n.label.top_search_engine,icon:"magnifying-glass-search"},mediums:{title:this.$i18n.label.top_medium,icon:"update"},social_networks:{title:this.$i18n.label.top_social_network,icon:"community-people"}}}},computed:{isEmpty:function(){return Object.keys(this.stats).length<=0},canGetStats:function(){return this.$moduleVars.can_get_stats},isLoggedIn:function(){return this.$store.state.helpers.google.logged_in},flagClass:function(){return function(t){var e="beehive-flag-"+t;return Object(_["a"])({"beehive-flag":!0,"beehive-country-flag":!0},e,!0)}},percentageStyle:function(){return function(t){return{width:this.visitsPercent(t)+"%"}}}},methods:{visitsPercent:function(t){var e=this,s=0;return Object.keys(this.stats.countries).forEach((function(t){s+=parseInt(e.stats.countries[t][2])})),100*parseInt(t)/s},showBox:function(t){var e=!1;return null===typeof t&&""===t||!this.stats[t]||(e=!0),e},getBoxTitle:function(t){var e="",s="",a="";if(t.title&&""!==t.title)return s=t.title,t.icon&&""!==t.icon&&(a='<i class="sui-icon-'+t.icon+' sui-md" aria-hidden="true"></i>'),e=a+s,e},getStatName:function(t){var e=this.$i18n.label.none;return null===typeof t&&""===t||!this.stats[t]||(e=this.stats[t][0][0]),e},getStatValue:function(t,e){var s=this,a=0,i=0,n=a>=0?1:-1,r=0;return null===typeof t&&""===t||!this.stats[t]||(Object.keys(s.stats[t]).forEach((function(e){i+=parseInt(s.stats[t][e][1])})),a=100*parseInt(s.stats[t][0][1])/i,a>=0&&(a=(Math.round(a*Math.pow(10,r)+1e-4*n)/Math.pow(10,r)).toFixed(r))),null!==typeof e&&""!==e||(e=""),a+=e,a}}},k=E,O=Object(p["a"])(k,f,m,!1,null,null,null),V=O.exports,x=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"sui-tab-content",attrs:{role:"tabpanel",tabindex:"0",id:"beehive-widget-content--audience","aria-labelledby":"beehive-widget-tab--audience",hidden:""}},[s("div",{staticClass:"beehive-tabs"},[s("div",{staticClass:"beehive-tabs-menu"},[s("div",{staticClass:"beehive-tabs-menu-wrapper",attrs:{role:"tablist"}},t._l(t.sections,(function(e,a){return s("button",{key:a,staticClass:"beehive-tab",class:t.buttonClass(a),attrs:{role:"tab","aria-controls":"beehive-audience-chart","aria-selected":t.ariaSelected(a),tabindex:t.tabIndex(a)},on:{click:function(e){return t.changeTab(a)}}},[s("span",{staticClass:"beehive-item-wrapper"},[s("span",{staticClass:"beehive-item-title"},[t._v(" "+t._s(e.title)+" ")]),!t.isLoggedIn||t.isEmpty?s("span",{staticClass:"beehive-item-value"},[t._v(" 0 ")]):s("span",{staticClass:"beehive-item-stats"},[s("span",{staticClass:"beehive-item-value"},[t._v(" "+t._s(t.getValue(a))+" ")]),t.getTrendValue(a)>0&&"bounce_rates"===a?s("span",{staticClass:"beehive-item-trend beehive-red"},[s("i",{staticClass:"sui-icon-arrow-up sui-sm",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(Math.abs(t.getTrendValue(a)))+"% ")]):t.getTrendValue(a)>0?s("span",{staticClass:"beehive-item-trend beehive-green"},[s("i",{staticClass:"sui-icon-arrow-up sui-sm",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(Math.abs(t.getTrendValue(a)))+"% ")]):t.getTrendValue(a)<0&&"bounce_rates"===a?s("span",{staticClass:"beehive-item-trend beehive-green"},[s("i",{staticClass:"sui-icon-arrow-down sui-sm",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(Math.abs(t.getTrendValue(a)))+"% ")]):t.getTrendValue(a)<0?s("span",{staticClass:"beehive-item-trend beehive-red"},[s("i",{staticClass:"sui-icon-arrow-down sui-sm",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(Math.abs(t.getTrendValue(a)))+"% ")]):s("span",{staticClass:"beehive-item-trend"},[t._v(" 0% ")])])])])})),0)]),s("div",{staticClass:"beehive-tab-panel",attrs:{id:"beehive-audience-chart"}},[s("line-chart",{staticClass:"beehive-chart",attrs:{role:"img","aria-hidden":"true",id:t.lineChartId,"chart-data":t.chartData,options:t.getOptions}}),t.isEmpty?t._e():s("users-donut",{attrs:{stats:t.stats}}),t.canGetStats&&t.isEmpty?s("sui-notice",{staticClass:"beehive-margin-top-bottom--30",attrs:{type:"info"}},[s("p",[t._v(t._s(t.$i18n.notice.empty_data))])]):t.canGetStats||t.isLoggedIn?t._e():s("sui-notice",{attrs:{type:"error"}},[s("p",{domProps:{innerHTML:t._s(t.sprintf(t.$i18n.notice.auth_required,t.$vars.urls.accounts))}})])],1)])])},j=[],F=s("c1df"),I=s.n(F),L=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"beehive-users-resume"},[s("pie-chart",{staticClass:"beehive-charts beehive-charts-pie",attrs:{id:t.chart,"chart-data":t.chartData,options:t.chartOptions,width:t.width,height:t.height}}),s("div",{staticClass:"beehive-users-stats"},[s("p",{staticClass:"beehive-visitors-empty"},[t._v(" "+t._s(t.$i18n.desc.no_donut_data)+" ")]),s("p",{staticClass:"beehive-visitors-old"},[s("span",[t._v(t._s(t.newVisitors)+"%")]),t._v(" "+t._s(t.$i18n.desc.new_visitors)+" ")]),s("p",{staticClass:"beehive-visitors-new"},[s("span",[t._v(t._s(t.returnVisitors)+"%")]),t._v(" "+t._s(t.$i18n.desc.returning_visitors)+" ")])])],1)},M=[],P=s("655a"),D={name:"UsersDonut",props:["stats"],components:{PieChart:P["a"]},data:function(){return{chart:"beehive-audience-pie-chart",chartData:{},width:40,height:40,chartOptions:{legend:{display:!1},tooltips:{enabled:!1},responsive:!1,maintainAspectRatio:!1,cutoutPercentage:50}}},mounted:function(){this.setupChartData()},watch:{stats:function(t){this.setupChartData()}},computed:{isLoggedIn:function(){return this.$store.state.helpers.google.logged_in},isEmpty:function(){return Object.keys(this.stats).length<=0||!this.stats.summary},newVisitors:function(){return this.isEmpty?0:Math.round(this.stats.summary.user_sessions.new)},returnVisitors:function(){return this.isEmpty?0:Math.round(this.stats.summary.user_sessions.returning)}},methods:{setupChartData:function(){this.isEmpty?this.chartData={}:this.chartData={datasets:[{label:this.$i18n.label.sessions,data:[this.newVisitors,this.returnVisitors],borderWidth:0,backgroundColor:["#17A8E3","#0073AA"]}],labels:[this.$i18n.label.new_visitors,this.$i18n.label.returning_visitors]}}}},A=D,B=Object(p["a"])(A,L,M,!1,null,null,null),G=B.exports,H=s("f7cd"),N={name:"Audience",props:["stats","compare","selectedItem"],components:{UsersDonut:G,LineChart:H["a"],SuiNotice:d["a"]},data:function(){return{pieChartId:"beehive-audience-pie-chart",lineChartId:"beehive-audience-line-chart",selectedTab:this.selectedItem,sections:{sessions:{color:"#17A8E3",title:this.$i18n.label.sessions},users:{color:"#2D8CE2",title:this.$i18n.label.users},pageviews:{color:"#8D00B1",title:this.$i18n.label.pageviews},page_sessions:{color:"#3DB8C2",title:this.$i18n.label.page_sessions},average_sessions:{color:"#2B7BA1",title:this.$i18n.label.average_sessions},bounce_rates:{color:"#FFB17C",title:this.$i18n.label.bounce_rates}},chartData:{labels:[],datasets:[]},chartOptions:{},defaultChartOptions:{legend:{display:!1},scales:{yAxes:[{gridLines:{display:!0,color:"#E6E6E6",zeroLineColor:"#E6E6E6",drawBorder:!1},ticks:{fontColor:"#676767",fontSize:11}}],xAxes:[{gridLines:{display:!0,zeroLineColor:"rgba(0,0,0,0)",drawBorder:!1},ticks:{fontColor:"#676767",fontSize:11}}]},tooltips:{xPadding:15,yPadding:15,backgroundColor:"rgba(51,51,51,0.85)",titleFontColor:"#FFFFFF",titleFontSize:14,titleFontFamily:"Roboto",titleFontStyle:"bold",titleAlign:"left",titleSpacing:0,titleMarginBottom:10,bodyFontColor:"#FFFFFF",bodyFontSize:14,bodyFontFamily:"Roboto",bodyFontStyle:"normal",bodyAlign:"left",cornerRadius:4,displayColors:!1},responsive:!0,maintainAspectRatio:!1}}},watch:{stats:function(t){this.changeStatsChart()},selectedTab:function(t){this.changeStatsChart()},selectedItem:function(t){this.selectedTab=t}},computed:{isEmpty:function(){return Object.keys(this.stats).length<=0},isLoggedIn:function(){return this.$store.state.helpers.google.logged_in},buttonClass:function(){return function(t){return{"beehive-active":this.selectedTab===t,"beehive-empty-tab":this.isEmpty}}},ariaSelected:function(){return function(t){return t===this.selectedTab?"true":"false"}},tabIndex:function(){return function(t){return t===this.selectedTab&&-1}},getOptions:function(){return this.isEmpty?{responsive:!0,maintainAspectRatio:!1}:this.chartOptions},canGetStats:function(){return this.$moduleVars.can_get_stats}},methods:{getTitle:function(t){return this.sections[t].title},changeTab:function(t){this.selectedTab=t},getValue:function(t){var e=0;return this.stats.summary&&this.stats.summary[t]&&this.stats.summary[t].value&&(e=this.stats.summary[t].value),"bounce_rates"===t&&(e+="%"),e},getTrendValue:function(t){var e=0;return this.stats.summary&&this.stats.summary[t]&&this.stats.summary[t].trend&&(e=this.stats.summary[t].trend),e},changeStatsChart:function(){if(this.isEmpty)this.chartData={labels:[],datasets:[]};else{var t=[],e=[],s=[],a=this.defaultChartOptions,i=this.getTitle(this.selectedTab),n=this.sections[this.selectedTab].color,r={labels:[],datasets:[{label:i,data:[],borderWidth:2,borderColor:n,backgroundColor:"rgba(0,0,0,0)",pointRadius:4,pointBorderColor:n,pointBackgroundColor:"#FFFFFF",pointHoverBackgroundColor:n}]},o=this.stats[this.selectedTab];a.tooltips.callbacks={},"average_sessions"===this.selectedTab?a.tooltips.callbacks.label=function(t){var e=I.a.utc(1e3*t.value).format("HH:mm:ss");return i+" : "+e}:"bounce_rates"===this.selectedTab&&(a.tooltips.callbacks.label=function(t){return i+" : "+t.value+"%"}),Object.keys(o).forEach((function(a,i,n){t.push(o[a][0]),e.push(o[a][1]),i===n.length-1?s.push("rgba(0,0,0,0)"):s.push("#E6E6E6")})),r.labels=t,r.datasets[0].data=e,this.chartData=r,this.chartOptions=a}}}},z=N,R=Object(p["a"])(z,x,j,!1,null,null,null),W=R.exports,q=s("5b5e"),Q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"sui-tab-content active",attrs:{role:"tabpanel",tabindex:"0",id:"beehive-widget-content--general_stats","aria-labelledby":"beehive-widget-tab--general_stats"}},[t.canGetStats&&t.isEmpty?s("sui-notice",{attrs:{type:"info"}},[s("p",[t._v(t._s(t.$i18n.notice.empty_data))])]):t.canGetStats||t.isLoggedIn?t._e():s("sui-notice",{attrs:{type:"error"}},[s("p",{domProps:{innerHTML:t._s(t.sprintf(t.$i18n.notice.auth_required,t.$vars.urls.accounts))}})]),s("div",{staticClass:"beehive-buttons-wrapper"},[t._l(t.summarySections,(function(e,a){return s("fragment",{key:a},[s("div",{staticClass:"beehive-button-holder"},[!t.isLoggedIn||t.isEmpty||""===t.getValue(a)?s("button",{staticClass:"beehive-button",on:{click:function(s){return t.openTab(e.tab,a)}}},[s("span",{staticClass:"beehive-button-name"},[t._v(" "+t._s(e.title)+" ")]),s("span",{staticClass:"beehive-button-value"},[t._v("-")]),s("i",{staticClass:"beehive-button-icon sui-icon-chevron-right sui-lg",attrs:{"aria-hidden":"true"}})]):s("button",{staticClass:"beehive-button",on:{click:function(s){return t.openTab(e.tab,a)}}},[s("span",{staticClass:"beehive-button-name"},[t._v(" "+t._s(e.title)+" ")]),s("span",{staticClass:"beehive-button-stats"},[s("span",{staticClass:"beehive-button-value beehive-blue beehive-lg"},[t._v(" "+t._s(t.getValue(a))+" ")]),s("span",{staticClass:"beehive-button-trend",class:t.getTrendClass(a),domProps:{innerHTML:t._s(t.getTrendHtml(a))}})]),s("i",{staticClass:"beehive-button-icon sui-icon-chevron-right sui-lg",attrs:{"aria-hidden":"true"}})])])])})),t._l(t.topSections,(function(e,a){return s("fragment",{key:a},[s("div",{staticClass:"beehive-button-holder"},[!t.isLoggedIn||t.isEmpty||""===t.getValue(a)?s("button",{staticClass:"beehive-button",on:{click:function(s){return t.openTab(e.tab)}}},[s("span",{staticClass:"beehive-button-name"},[t._v(" "+t._s(e.title)+" ")]),s("span",{staticClass:"beehive-button-value"},[t._v("-")]),s("i",{staticClass:"beehive-button-icon sui-icon-chevron-right sui-lg",attrs:{"aria-hidden":"true"}})]):s("button",{staticClass:"beehive-button",on:{click:function(s){return t.openTab(e.tab)}}},[s("span",{staticClass:"beehive-button-name"},[t._v(" "+t._s(e.title)+" ")]),s("span",{staticClass:"beehive-button-value beehive-blue"},[t._v(" "+t._s(t.getValue(a))+" ")]),s("i",{staticClass:"beehive-button-icon sui-icon-chevron-right sui-lg",attrs:{"aria-hidden":"true"}})])])])}))],2)],1)},U=[],J={name:"GeneralStats",props:["stats"],components:{SuiNotice:d["a"]},data:function(){return{summarySections:{users:{title:this.$i18n.label.users,tab:"audience"},pageviews:{title:this.$i18n.label.pageviews,tab:"audience"}},topSections:{page:{title:this.$i18n.label.top_page,tab:"top_pages"},country:{title:this.$i18n.label.top_country,tab:"traffic"},medium:{title:this.$i18n.label.top_referral,tab:"traffic"},search_engine:{title:this.$i18n.label.top_search_engine,tab:"traffic"}}}},computed:{isEmpty:function(){return Object.keys(this.stats).length<=0},isLoggedIn:function(){return this.$store.state.helpers.google.logged_in},canGetStats:function(){return this.$moduleVars.can_get_stats},getTrendClass:function(){return function(t){var e=this.getTrendValue(t);return{"beehive-red":e<0,"beehive-green":e>=0}}}},methods:{getValue:function(t){var e="";return this.stats.summary&&this.stats.summary[t]&&this.stats.summary[t].value&&(e=this.stats.summary[t].value),e},getTrendValue:function(t){var e=0;return this.stats.summary&&this.stats.summary[t]&&this.stats.summary[t].trend&&(e=this.stats.summary[t].trend),e},getTrendHtml:function(t){var e=this.getTrendValue(t),s=Math.abs(e);return e<0?s+'% <i class="sui-icon-arrow-down sui-sm" aria-hidden="true"></i>':e>0?'<i class="sui-icon-arrow-up sui-sm" aria-hidden="true"></i>'+s+"%":"0%"},openTab:function(t,e){this.$emit("tabChange",e),t=jQuery("#beehive-widget-tab--"+t),t.click()}}},K=J,X=Object(p["a"])(K,Q,U,!1,null,null,null),Y=X.exports,Z={name:"WidgetBody",props:["stats"],components:{GeneralStats:Y,Audience:W,Pages:g,Traffic:V},data:function(){return{audienceDefault:"sessions"}},mounted:function(){var t=jQuery("#beehive-widget-body"),e=t.find(".sui-tabs-navigation");SUI.tabs(),e.each((function(){SUI.tabsOverflow(jQuery(this))}))},methods:{canView:function(t){return Object(q["a"])(t,"dashboard")},tabChange:function(t){this.audienceDefault=t}}},tt=Z,et=Object(p["a"])(tt,o,l,!1,null,null,null),st=et.exports,at=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"beehive-widget-header"}},[s("div",{staticClass:"beehive-left-actions"},[s("a",{attrs:{href:t.$vars.urls.statistics}},[s("i",{staticClass:"sui-icon-graph-bar",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$i18n.label.all_stats)+" ")]),s("span",{staticClass:"beehive-separator",attrs:{"aria-hidden":"true"}}),s("button",{on:{click:function(e){return e.preventDefault(),t.refreshStats(e)}}},[s("i",{staticClass:"sui-icon-refresh",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$i18n.label.refresh_data)+" ")])]),s("div",{staticClass:"beehive-right-actions"},[s("sui-calendar-range",{attrs:{id:"beehive-stats-datepicker",periods:t.$vars.dates.periods,"start-date":t.$vars.dates.start_date,"end-date":t.$vars.dates.end_date,"selected-label":t.$vars.dates.selected_label},on:{periodChange:t.periodChange}})],1)])},it=[],nt=s("d5c7"),rt={name:"WidgetHeader",components:{SuiCalendarRange:nt["a"]},methods:{refreshStats:function(){this.$emit("refreshStats")},periodChange:function(t){this.$emit("periodChange",t)}}},ot=rt,lt=Object(p["a"])(ot,at,it,!1,null,null,null),ct=lt.exports,ut={name:"App",components:{WidgetHeader:ct,WidgetBody:st},data:function(){return{stats:{},dateStart:this.$vars.dates.start_date,dateEnd:this.$vars.dates.end_date,loading:!1,small:!1}},created:function(){window.addEventListener("resize",this.smallClass)},mounted:function(){this.getStats(),this.smallClass()},destroyed:function(){window.removeEventListener("resize",this.smallClass)},computed:{wrapClass:function(){return{"beehive-widget-small":this.small,"beehive-loading":this.loading}},canGetStats:function(){return this.$moduleVars.can_get_stats}},methods:{getStats:function(){var t=this;this.canGetStats&&(this.loading=!0,Object(r["a"])({path:"stats/dashboard",params:{from:this.dateStart,to:this.dateEnd,network:this.isNetwork()?1:0}}).then((function(e){e.success&&e.data&&e.data.stats&&Object.keys(e.data.stats).length>0?t.stats=e.data.stats:t.stats={},t.loading=!1})))},periodChange:function(t){this.dateStart=t.startDate,this.dateEnd=t.endDate,this.getStats()},smallClass:function(){var t=jQuery("#beehive-widget-body"),e=t.closest(".postbox");t.length&&(this.small=e.outerWidth(!0)<500)}}},dt=ut,ht=(s("a928"),Object(p["a"])(dt,i,n,!1,null,null,null)),bt=ht.exports,pt=s("9d51"),vt=s("3f08"),gt=s("e19f");a["a"].config.productionTip=!1,a["a"].mixin({methods:{sprintf:gt["sprintf"],getOption:q["b"],setOption:q["l"],saveOptions:q["k"],isNetwork:q["f"],isMultisite:q["e"],isSubsite:q["h"],isNetworkWide:q["g"],isSuperAdmin:q["i"],isAdmin:q["d"]}}),a["a"].prototype.$i18n=window.beehiveI18n,a["a"].prototype.$vars=window.beehiveVars,a["a"].prototype.$moduleVars=window.beehiveModuleVars,a["a"].use(vt["b"].Plugin),new a["a"]({render:function(t){return t(bt)},store:pt["a"]}).$mount("#beehive-dashboard-statistics-app")}});