!function(r){function n(r){function n(r,n,e){var i=null;if(t(n)&&(l(n),a(r),o(r),s(n),p>=2)){var u=d(n),v=0,W=f();"undefined"==typeof D[n.bars.order]&&(h(u)?D[n.bars.order]=-1*b(g,u-1,Math.floor(p/2)-1)-W:D[n.bars.order]=b(g,Math.ceil(p/2),u-2)+W+2*y),v=D[n.bars.order],i=c(e,n,v),e.points=i}return i}function t(r){return null!=r.bars&&r.bars.show&&null!=r.bars.order}function a(r){var n=w?r.getPlaceholder().innerHeight():r.getPlaceholder().innerWidth(),t=w?e(r.getData(),1):e(r.getData(),0),a=t[1]-t[0];W=a/n}function e(r,n){for(var t=new Array,a=0;a<r.length;a++)t[0]=r[a].data[0]?r[a].data[0][n]:null,t[1]=r[a].data[r[a].data.length-1]?r[a].data[r[a].data.length-1][n]:null;return t}function o(r){g=i(r.getData()),p=g.length}function i(r){for(var n=new Array,t=[],a=0;a<r.length;a++)null!=r[a].bars.order&&r[a].bars.show&&t.indexOf(r[a].bars.order)<0&&(t.push(r[a].bars.order),n.push(r[a]));return n.sort(u)}function u(r,n){var t=r.bars.order,a=n.bars.order;return t<a?-1:t>a?1:0}function s(r){v="undefined"!=typeof r.bars.lineWidth?r.bars.lineWidth:2,y=v*W}function l(r){r.bars.horizontal&&(w=!0)}function d(r){for(var n=0,t=0;t<g.length;++t)if(r==g[t]){n=t;break}return n+1}function f(){var r=0;return p%2!=0&&(r=g[Math.ceil(p/2)].bars.barWidth/2),r}function h(r){return r<=Math.ceil(p/2)}function b(r,n,t){for(var a=0,e=n;e<=t;e++)a+=r[e].bars.barWidth+2*y;return a}function c(r,n,t){for(var a=r.pointsize,e=r.points,o=0,i=w?1:0;i<e.length;i+=a)e[i]+=t,n.data[o][3]=e[i],o++;return e}var g,p,v,y,W=1,w=!1,D={};r.hooks.processDatapoints.push(n)}var t={series:{bars:{order:null}}};r.plot.plugins.push({init:n,options:t,name:"orderBars",version:"0.2"})}(jQuery);