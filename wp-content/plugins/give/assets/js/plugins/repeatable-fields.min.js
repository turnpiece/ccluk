!function(e){e.fn.repeatable_fields=function(o){function r(o){e(a.wrapper,o).each(function(o,n){var i=this,f=e(i).children(a.container);e(f).children(a.template).hide().find(":input").each(function(){e(this).prop("disabled",!0)});var c=e(f).children(a.row).filter(function(){return!e(this).hasClass(a.template.replace(".",""))}).length;if(e(f).attr("data-rf-row-count",c),e(i).on("click",a.add,function(o){o.stopImmediatePropagation();var n=e(e(f).children(a.template).clone().removeClass(a.template.replace(".",""))[0].outerHTML);e(n).find(":input").each(function(){e(this).prop("disabled",!1)}),"function"==typeof a.before_add&&a.before_add(f);var i=e(n).show().appendTo(f);"function"==typeof a.after_add&&a.after_add(f,i,t),r(i)}),e(i).on("click",a.remove,function(o){if(o.stopImmediatePropagation(),a.confirm_before_remove_row&&a.confirm_before_remove_row_text&&!confirm(a.confirm_before_remove_row_text))return!1;var r=e(this).parents(a.row).first();"function"==typeof a.before_remove&&a.before_remove(f,r),r.remove(),"function"==typeof a.after_remove&&a.after_remove(f)}),a.is_sortable===!0&&"undefined"!=typeof e.ui&&"undefined"!=typeof e.ui.sortable){var l=null!==a.sortable_options?a.sortable_options:{};l.handle=a.move,e(i).find(a.container).sortable(l)}})}function t(o,r){var t=e(o).attr("data-rf-row-count");t++,e("*",r).each(function(){e.each(this.attributes,function(e,o){this.value=this.value.replace(a.row_count_placeholder,t-1)})}),e(o).attr("data-rf-row-count",t)}var n={wrapper:".wrapper",container:".container",row:".row",add:".add",remove:".remove",confirm_before_remove_row:!1,confirm_before_remove_row_text:"",move:".move",template:".template",is_sortable:!0,before_add:null,after_add:t,before_remove:null,after_remove:null,sortable_options:null,row_count_placeholder:"{{row-count-placeholder}}"},a=e.extend({},n,o);r(this)}}(jQuery);