!function(e){"use strict";e.extend({giveAjaxifyFields:function(t){var a,s,i={type:"",parentWrapper:"form",countryFieldName:"country",stateFieldName:"state",stateFieldWrapper:".give-field-wrap",chosenState:!0},n=e.extend({},i,t||{});switch(n.type){case"country_state":if(a=e('select[name="'+n.countryFieldName+'"]'),s=a.closest(n.parentWrapper),!a.length||"Country_state"===a.data("give-ajaxify-field"))return;a.data("give-ajaxify-field","country_state"),a.change(function(){var t=e(this),a=t.closest(n.parentWrapper).find('[name="'+n.stateFieldName+'"]'),i=a.closest(n.stateFieldWrapper),r=e("label",i);n.stateFieldWrapper||(r=e('label[for="'+n.stateFieldName+'"]',s),i=a.parent());var d={action:"give_get_states",country:t.val(),field_name:n.stateFieldName};e.post(ajaxurl,d,function(t){return t.show_field?(r.length&&r.text(t.states_label),n.chosenState&&a.chosen("destroy"),n.stateFieldWrapper?i.removeClass("give-hidden"):a.removeClass("give-hidden"),void(void 0!==typeof t.states_found&&!0===t.states_found?(a.replaceWith(t.data),a=e('[name="'+n.stateFieldName+'"]',i),n.chosenState&&a.chosen()):(a.replaceWith('<input type="text" name="'+n.stateFieldName+'" value="'+t.default_state+'" class="medium-text"/>'),a=e('[name="'+n.stateFieldName+'"]',i)))):void(n.stateFieldWrapper?i.addClass("give-hidden"):a.addClass("give-hidden"))})})}return this}})}(jQuery);