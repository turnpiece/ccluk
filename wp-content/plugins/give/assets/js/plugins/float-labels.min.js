(function(){var e,t,a,l,n;e=window.jQuery||window.Zepto||window.$,e.fn.floatlabels=function(a){if(n=e.extend({regex:/text|password|email|number|search|url|tel/,exclude:[],priority:"",customLabel:function(){},customEvent:function(){}},a),l=e(this),l.length){if("FORM"!==l.get(0).tagName){var i=l.find("form");if(0===i.length&&(i=l.closest("form")),0===i.length)return;l=i}l.addClass("floated-labels"),n.exclude.push(".no-label"),n.exclude=n.exclude.join(","),l.find("input:not("+n.exclude+")").each(function(){n.regex.test(e(this).attr("type"))&&t(this)}),l.find("textarea:not("+n.exclude+")").each(function(){t(this)}),l.find("select:not("+n.exclude+")").each(function(){t(this,"select"),e(this).parent().addClass("styled select")})}},t=function(t,l){var i,r,s,o,c,d,f="floatlabel";if(t=e(t),i=t.attr("id"),c=t.attr("placeholder"),s='label[for="'+i+'"]',void 0!==i&&(r=e(s),r.length>1&&(r=t.parent().find(s)),1===r.length&&(o=r.text().replace(/[*:]/g,"").trim(),d=r.find("[data-tooltip]").data("tooltip")),(!o||o&&c&&"placeholder"===n.priority)&&(o=c)),o){if("select"===l){var u=t.children().first();""===u.val()&&""===u.text()&&u.text(o)}else c&&"label"!==n.priority||t.attr("placeholder",o);if(!t.parent().hasClass(f)){t.addClass(f+"-input").wrap(_pf('<div class="{0} {0}-{1}"/>',f,i)),n.customEvent.call(this,t);var p=n.customLabel.call(this,t,o);void 0!==p&&(o=p),o=e(_pf('<label for="{0}" class="{1}-label">{2}</label>',i,f,o)),d&&o.attr("data-tooltip",d),r.remove(),t.after(o)}t.val().length&&t.parent().addClass("is-active"),t.on("focus",function(){t.parent().addClass("is-focused")}),t.on("blur",function(){t.parent().removeClass("is-focused")}),t.on("keyup blur change",function(e){a(t,e)})}},a=function(e,t){if(t){var a=t.keyCode||t.which;if(9===a)return}e.val().length?e.parent().addClass("is-active"):e.parent().removeClass("is-active")},_pf=function(e){var t=[].slice.call(arguments,1,arguments.length);return e.replace(/{(\d+)}/g,function(e,a){return void 0!==typeof t[a]?t[a]:e})}}).call(this);