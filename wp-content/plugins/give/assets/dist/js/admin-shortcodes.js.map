{"version":3,"sources":["webpack:///js/admin-shortcodes.js","webpack:///webpack/bootstrap c1a7015314ae57afff6e","webpack:///./includes/admin/shortcodes/admin-shortcodes.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","364","scShortcode","scButton","jQuery","$","doc","this","window","render_continue_button_title_field","selected_display_style","text","expected_display_styles","inArray","closest","hide","show","scForm","open","editor_id","editor","tinymce","data","field","required","valid","win","action","shortcode","post","ajaxurl","response","body","console","error","length","send_to_editor","destroy","each","index","item","onselect","popup","title","classes","minWidth","buttons","ok","onclick","windowManager","getWindows","scShortcodes","id","find","state","value","Give","modal","GiveErrorAlert","modalContent","desc","cancelBtnTitle","fn","getGlobalVar","render","submit","close","onsubmit","e","attributes","key","onclose","onopen","constructor","Array","tmp","remove","scOpen","addClass","parent","scClose","removeClass","on","target","preventDefault","hasClass","attr","wpActiveEditor","execCommand","append","init","mode","elements","plugins","setTimeout","warn"],"mappings":"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","file":"js/admin-shortcodes.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 364);\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ 364:\n/***/ (function(module, exports) {\n\n/*!\n * Give Admin Shortcodes JS\n *\n * @description: The Give Admin Shortcode scripts. Only enqueued on the admin widgets screen; used to show shortcode dialogs, show/hide, and other functions\n * @package:     Give\n * @subpackage:  Assets/JS\n * @author:      Paul Ryley\n * @copyright:   Copyright (c) 2016, WordImpress\n * @license:     http://opensource.org/licenses/gpl-2.0.php GNU Public License\n * @since:       1.3.0\n */\n\n/* global Give, ajaxurl, jQuery, scShortcodes, tinymce */\n\nvar scShortcode, scButton;\n\njQuery(function ($) {\n\n\tvar doc = $(this);\n\n\t/**\n  * Show continue button title setting field only if display style is not All Fields.\n  */\n\twindow.render_continue_button_title_field = function () {\n\t\tvar selected_display_style = $('.mce-txt', '.mce-give-display-style').text(),\n\t\t    expected_display_styles = ['- Select -', 'All Fields'];\n\n\t\tif (-1 !== $.inArray(selected_display_style, expected_display_styles)) {\n\t\t\t$('.mce-give-continue-button-title').closest('.mce-container').hide();\n\t\t} else {\n\t\t\t$('.mce-give-continue-button-title').closest('.mce-container').show();\n\t\t}\n\t};\n\n\twindow.scForm = {\n\n\t\topen: function open(editor_id) {\n\t\t\tvar editor = tinymce.get(editor_id);\n\n\t\t\tif (!editor) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar data, field, required, valid, win;\n\n\t\t\tdata = {\n\t\t\t\taction: 'give_shortcode',\n\t\t\t\tshortcode: scShortcode\n\t\t\t};\n\n\t\t\t$.post(ajaxurl, data, function (response) {\n\n\t\t\t\t// what happens if response === false?\n\t\t\t\tif (!response.body) {\n\t\t\t\t\tconsole.error('Bad AJAX response!');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (response.body.length === 0) {\n\t\t\t\t\twindow.send_to_editor('[' + response.shortcode + ']');\n\n\t\t\t\t\tscForm.destroy();\n\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t/**\n     * Render continue button title setting field on basis of display style value.\n     */\n\t\t\t\t$.each(response.body, function (index, item) {\n\n\t\t\t\t\tif ('display_style' === item.name) {\n\t\t\t\t\t\tresponse.body[index].onselect = function () {\n\t\t\t\t\t\t\trender_continue_button_title_field();\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tvar popup = {\n\t\t\t\t\ttitle: response.title,\n\t\t\t\t\tbody: response.body,\n\t\t\t\t\tclasses: 'sc-popup',\n\t\t\t\t\tminWidth: 320,\n\t\t\t\t\tbuttons: [{\n\t\t\t\t\t\ttext: response.ok,\n\t\t\t\t\t\tclasses: 'primary sc-primary',\n\t\t\t\t\t\tonclick: function onclick() {\n\t\t\t\t\t\t\t// Get the top most window object\n\t\t\t\t\t\t\twin = editor.windowManager.getWindows()[0];\n\n\t\t\t\t\t\t\t// Get the shortcode required attributes\n\t\t\t\t\t\t\trequired = scShortcodes[scShortcode];\n\n\t\t\t\t\t\t\tvalid = true;\n\n\t\t\t\t\t\t\t// Do some validation voodoo\n\t\t\t\t\t\t\tfor (var id in required) {\n\t\t\t\t\t\t\t\tif (required.hasOwnProperty(id)) {\n\n\t\t\t\t\t\t\t\t\tfield = win.find('#' + id)[0];\n\n\t\t\t\t\t\t\t\t\tif (typeof field !== 'undefined' && field.state.data.value === '') {\n\n\t\t\t\t\t\t\t\t\t\tvalid = false;\n\n\t\t\t\t\t\t\t\t\t\tnew Give.modal.GiveErrorAlert({\n\t\t\t\t\t\t\t\t\t\t\tmodalContent: {\n\t\t\t\t\t\t\t\t\t\t\t\tdesc: required[id],\n\t\t\t\t\t\t\t\t\t\t\t\tcancelBtnTitle: Give.fn.getGlobalVar('ok')\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}).render();\n\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (valid) {\n\t\t\t\t\t\t\t\twin.submit();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}, {\n\t\t\t\t\t\ttext: response.close,\n\t\t\t\t\t\tonclick: 'close'\n\t\t\t\t\t}],\n\t\t\t\t\tonsubmit: function onsubmit(e) {\n\t\t\t\t\t\tvar attributes = '';\n\n\t\t\t\t\t\tfor (var key in e.data) {\n\t\t\t\t\t\t\tif (e.data.hasOwnProperty(key) && e.data[key] !== '') {\n\t\t\t\t\t\t\t\tattributes += ' ' + key + '=\"' + e.data[key] + '\"';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Insert shortcode into the WP_Editor\n\t\t\t\t\t\twindow.send_to_editor('[' + response.shortcode + attributes + ']');\n\t\t\t\t\t},\n\t\t\t\t\tonclose: function onclose() {\n\t\t\t\t\t\tscForm.destroy();\n\t\t\t\t\t},\n\t\t\t\t\tonopen: function onopen() {\n\t\t\t\t\t\t// Conditional fields.\n\t\t\t\t\t\trender_continue_button_title_field();\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\t// Change the buttons if server-side validation failed\n\t\t\t\tif (response.ok.constructor === Array) {\n\t\t\t\t\tpopup.buttons[0].text = response.ok[0];\n\t\t\t\t\tpopup.buttons[0].onclick = 'close';\n\t\t\t\t\tdelete popup.buttons[1];\n\t\t\t\t}\n\n\t\t\t\teditor.windowManager.open(popup);\n\t\t\t});\n\t\t},\n\n\t\tdestroy: function destroy() {\n\t\t\tvar tmp = $('#scTemp');\n\n\t\t\tif (tmp.length) {\n\t\t\t\ttinymce.get('scTemp').remove();\n\t\t\t\ttmp.remove();\n\t\t\t}\n\t\t}\n\t};\n\n\tvar scOpen = function scOpen() {\n\t\tscButton.addClass('active').parent().find('.sc-menu').show();\n\t};\n\n\tvar scClose = function scClose() {\n\t\tif (typeof scButton !== 'undefined') {\n\t\t\tscButton.removeClass('active').parent().find('.sc-menu').hide();\n\t\t}\n\t};\n\n\tdoc.on('click', function (e) {\n\t\tif (!$(e.target).closest('.sc-wrap').length) {\n\t\t\tscClose();\n\t\t}\n\t});\n\n\tdoc.on('click', '.sc-button', function (e) {\n\t\te.preventDefault();\n\n\t\tscButton = $(this);\n\n\t\tif (scButton.hasClass('active')) {\n\t\t\tscClose();\n\t\t} else {\n\t\t\tscOpen();\n\t\t}\n\t});\n\n\tdoc.on('click', '.sc-shortcode', function (e) {\n\t\te.preventDefault();\n\n\t\t// scShortcode is used by scForm to trigger the correct popup\n\t\tscShortcode = $(this).attr('data-shortcode');\n\n\t\tif (scShortcode) {\n\t\t\tif (!tinymce.get(window.wpActiveEditor)) {\n\n\t\t\t\tif (!$('#scTemp').length) {\n\n\t\t\t\t\t$('body').append('<textarea id=\"scTemp\" style=\"display: none;\" />');\n\n\t\t\t\t\ttinymce.init({\n\t\t\t\t\t\tmode: \"exact\",\n\t\t\t\t\t\telements: \"scTemp\",\n\t\t\t\t\t\tplugins: ['give_shortcode', 'wplink']\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\ttinymce.execCommand('Give_Shortcode');\n\t\t\t\t}, 200);\n\t\t\t} else {\n\t\t\t\ttinymce.execCommand('Give_Shortcode');\n\t\t\t}\n\n\t\t\tsetTimeout(function () {\n\t\t\t\tscClose();\n\t\t\t}, 100);\n\t\t} else {\n\t\t\tconsole.warn('That is not a valid shortcode link.');\n\t\t}\n\t});\n});\n\n/***/ })\n\n/******/ });\n\n\n// WEBPACK FOOTER //\n// js/admin-shortcodes.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 364);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap c1a7015314ae57afff6e","/*!\n * Give Admin Shortcodes JS\n *\n * @description: The Give Admin Shortcode scripts. Only enqueued on the admin widgets screen; used to show shortcode dialogs, show/hide, and other functions\n * @package:     Give\n * @subpackage:  Assets/JS\n * @author:      Paul Ryley\n * @copyright:   Copyright (c) 2016, WordImpress\n * @license:     http://opensource.org/licenses/gpl-2.0.php GNU Public License\n * @since:       1.3.0\n */\n\n/* global Give, ajaxurl, jQuery, scShortcodes, tinymce */\n\nvar scShortcode, scButton;\n\n\njQuery( function( $ ) {\n\n\tlet doc = $( this );\n\n\t/**\n\t * Show continue button title setting field only if display style is not All Fields.\n\t */\n\twindow.render_continue_button_title_field = function() {\n\t\tvar selected_display_style = $('.mce-txt', '.mce-give-display-style').text(),\n\t\t\texpected_display_styles = [ '- Select -', 'All Fields' ];\n\n\t\tif( -1 !== $.inArray( selected_display_style, expected_display_styles ) ) {\n\t\t\t$('.mce-give-continue-button-title').closest('.mce-container' ).hide()\n\t\t} else {\n\t\t\t$('.mce-give-continue-button-title').closest('.mce-container' ).show()\n\t\t}\n\t};\n\n\twindow.scForm = {\n\n\t\topen: function( editor_id ) {\n\t\t\tvar editor = tinymce.get( editor_id );\n\n\t\t\tif ( ! editor ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar data, field, required, valid, win;\n\n\t\t\tdata = {\n\t\t\t\taction    : 'give_shortcode',\n\t\t\t\tshortcode : scShortcode\n\t\t\t};\n\n\t\t\t$.post( ajaxurl, data, function( response ) {\n\n\t\t\t\t// what happens if response === false?\n\t\t\t\tif ( ! response.body ) {\n\t\t\t\t\tconsole.error( 'Bad AJAX response!' );\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif ( response.body.length === 0 ) {\n\t\t\t\t\twindow.send_to_editor( '[' + response.shortcode + ']' );\n\n\t\t\t\t\tscForm.destroy();\n\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t/**\n\t\t\t\t * Render continue button title setting field on basis of display style value.\n\t\t\t\t */\n\t\t\t\t$.each( response.body, function( index, item ){\n\n\t\t\t\t\tif( 'display_style' === item.name ) {\n\t\t\t\t\t\tresponse.body[index].onselect = function(){\n\t\t\t\t\t\t\trender_continue_button_title_field();\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tvar popup = {\n\t\t\t\t\ttitle   : response.title,\n\t\t\t\t\tbody    : response.body,\n\t\t\t\t\tclasses: 'sc-popup',\n\t\t\t\t\tminWidth: 320,\n\t\t\t\t\tbuttons : [ {\n\t\t\t\t\t\ttext    : response.ok,\n\t\t\t\t\t\tclasses : 'primary sc-primary',\n\t\t\t\t\t\tonclick : function() {\n\t\t\t\t\t\t\t// Get the top most window object\n\t\t\t\t\t\t\twin = editor.windowManager.getWindows()[0];\n\n\t\t\t\t\t\t\t// Get the shortcode required attributes\n\t\t\t\t\t\t\trequired = scShortcodes[ scShortcode ];\n\n\t\t\t\t\t\t\tvalid = true;\n\n\t\t\t\t\t\t\t// Do some validation voodoo\n\t\t\t\t\t\t\tfor ( var id in required ) {\n\t\t\t\t\t\t\t\tif ( required.hasOwnProperty( id ) ) {\n\n\t\t\t\t\t\t\t\t\tfield = win.find( '#' + id )[0];\n\n\t\t\t\t\t\t\t\t\tif ( typeof field !== 'undefined' && field.state.data.value === '' ) {\n\n\t\t\t\t\t\t\t\t\t\tvalid = false;\n\n\t\t\t\t\t\t\t\t\t\tnew Give.modal.GiveErrorAlert({\n\t\t\t\t\t\t\t\t\t\t\tmodalContent:{\n\t\t\t\t\t\t\t\t\t\t\t\tdesc: required[ id ],\n\t\t\t\t\t\t\t\t\t\t\t\tcancelBtnTitle: Give.fn.getGlobalVar('ok'),\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}).render();\n\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( valid ) {\n\t\t\t\t\t\t\t\twin.submit();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttext    : response.close,\n\t\t\t\t\t\t\tonclick : 'close'\n\t\t\t\t\t}, ],\n\t\t\t\t\tonsubmit: function( e ) {\n\t\t\t\t\t\tvar attributes = '';\n\n\t\t\t\t\t\tfor ( var key in e.data ) {\n\t\t\t\t\t\t\tif ( e.data.hasOwnProperty( key ) && e.data[ key ] !== '' ) {\n\t\t\t\t\t\t\t\tattributes += ' ' + key + '=\"' + e.data[ key ] + '\"';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Insert shortcode into the WP_Editor\n\t\t\t\t\t\twindow.send_to_editor( '[' + response.shortcode + attributes + ']' );\n\t\t\t\t\t},\n\t\t\t\t\tonclose: function() {\n\t\t\t\t\t\tscForm.destroy();\n\t\t\t\t\t},\n\t\t\t\t\tonopen: function() {\n\t\t\t\t\t\t// Conditional fields.\n\t\t\t\t\t\trender_continue_button_title_field();\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\t// Change the buttons if server-side validation failed\n\t\t\t\tif ( response.ok.constructor === Array ) {\n\t\t\t\t\tpopup.buttons[0].text    = response.ok[0];\n\t\t\t\t\tpopup.buttons[0].onclick = 'close';\n\t\t\t\t\tdelete popup.buttons[1];\n\t\t\t\t}\n\n\t\t\t\teditor.windowManager.open( popup );\n\t\t\t});\n\t\t},\n\n\t\tdestroy: function() {\n\t\t\tvar tmp = $( '#scTemp' );\n\n\t\t\tif ( tmp.length ) {\n\t\t\t\ttinymce.get( 'scTemp' ).remove();\n\t\t\t\ttmp.remove();\n\t\t\t}\n\t\t}\n\t};\n\n\tvar scOpen = function() {\n\t\tscButton.addClass( 'active' ).parent().find( '.sc-menu' ).show();\n\t};\n\n\tvar scClose = function() {\n\t\tif ( typeof scButton !== 'undefined' ) {\n\t\t\tscButton.removeClass( 'active' ).parent().find( '.sc-menu' ).hide();\n\t\t}\n\t};\n\n\tdoc.on( 'click', function( e ) {\n\t\tif ( ! $( e.target ).closest( '.sc-wrap' ).length ) {\n\t\t\tscClose();\n\t\t}\n\t});\n\n\tdoc.on( 'click', '.sc-button', function( e ) {\n\t\te.preventDefault();\n\n\t\tscButton = $( this );\n\n\t\tif ( scButton.hasClass( 'active' ) ) {\n\t\t\tscClose();\n\t\t} else {\n\t\t\tscOpen();\n\t\t}\n\t});\n\n\tdoc.on( 'click', '.sc-shortcode', function( e ) {\n\t\te.preventDefault();\n\n\t\t// scShortcode is used by scForm to trigger the correct popup\n\t\tscShortcode = $( this ).attr( 'data-shortcode' );\n\n\t\tif ( scShortcode ) {\n\t\t\tif ( ! tinymce.get( window.wpActiveEditor ) ) {\n\n\t\t\t\tif ( ! $( '#scTemp' ).length ) {\n\n\t\t\t\t\t$( 'body' ).append( '<textarea id=\"scTemp\" style=\"display: none;\" />' );\n\n\t\t\t\t\ttinymce.init({\n\t\t\t\t\t\tmode     : \"exact\",\n\t\t\t\t\t\telements : \"scTemp\",\n\t\t\t\t\t\tplugins  : ['give_shortcode', 'wplink']\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tsetTimeout( function() { tinymce.execCommand( 'Give_Shortcode' ); }, 200 );\n\t\t\t} else {\n\t\t\t\ttinymce.execCommand( 'Give_Shortcode' );\n\t\t\t}\n\n\t\t\tsetTimeout( function() { scClose(); }, 100 );\n\t\t} else {\n\t\t\tconsole.warn( 'That is not a valid shortcode link.' );\n\t\t}\n\t});\n});\n\n\n\n// WEBPACK FOOTER //\n// ./includes/admin/shortcodes/admin-shortcodes.js"],"sourceRoot":""}