!function(e){function t(n){if(i[n])return i[n].exports;var o=i[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var i={};t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=19)}([function(e,t){e.exports=jQuery},function(e,t){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(i=window)}e.exports=i},function(e,t,i){"use strict";function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}i.d(t,"b",function(){return d}),i.d(t,"d",function(){return u}),i.d(t,"c",function(){return h}),i.d(t,"a",function(){return p});var s=i(3),r=(i.n(s),i(8)),l=(i.n(r),function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}()),c=function(){function e(t){if(a(this,e),e===this.constructor)throw new Error("Abstract classes can't be instantiated.");this.config=Object.assign({type:"",triggerSelector:"",externalPlugin:"magnificPopup",classes:{modalWrapper:""},modalContent:{}},t),this.config.mainClass=((this.config.mainClass?this.config.mainClass:"")+" modal-fade-slide").trim()}return l(e,[{key:"init",value:function(){this.setupTemplate(),this.popupConfig(),this.__setupClickEvent()}},{key:"get_template",value:function(){var e='<div class="give-hidden"></div>';return this.config.type.length&&(e='<div class="give-modal give-modal--zoom '+(this.config.classes.modalWrapper?(""+this.config.classes.modalWrapper).trim():"")+'">\n\n\t\t\t\t<div class="give-modal__body">\n\t\t\t\t\t'+(this.config.modalContent.title?'<h2 class="give-modal__title">'+this.config.modalContent.title+"</h2>":"")+"\n\t\t\t\t\t"+(this.config.modalContent.desc?'<p class="give-modal__description">'+this.config.modalContent.desc+"</p>":"")+'\n\t\t\t\t</div>\n\t\n\t\t\t\t<div class="give-modal__controls">\n\t\t\t\t\t<button class="give-button give-button--secondary give-popup-close-button">\n\t\t\t\t\t\t'+(this.config.modalContent.cancelBtnTitle?this.config.modalContent.cancelBtnTitle:"confirm"===this.config.type?give_vars.cancel:give_vars.close)+"\n\t\t\t\t\t</button>\n\t\t\t\t\t"+("confirm"!==this.config.type?"":'<button class="give-button give-button--primary give-popup-confirm-button">\n\t\t\t\t\t\t'+(this.config.modalContent.confirmBtnTitle?this.config.modalContent.confirmBtnTitle:give_vars.confirm)+"\n\t\t\t\t\t</button>")+"\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t</div>"),e}},{key:"setupTemplate",value:function(){this.config.template=this.get_template()}},{key:"__setupClickEvent",value:function(){this.config.triggerSelector.length&&jQuery(this.config.triggerSelector).magnificPopup(this.config)}},{key:"popupConfig",value:function(){"magnificPopup"===this.config.externalPlugin&&(this.config.items=this.config.items||{src:this.config.template,type:"inline"},this.config.removalDelay=300,this.config.fixedContentPos=!0,this.config.fixedBgPos=!0,this.config.alignTop=!0,this.config.showCloseBtn=!1,this.config.closeOnBgClick=!1,this.config.enableEscapeKey=!0,this.config.focus=".give-popup-close-button")}},{key:"render",value:function(){switch(this.config.externalPlugin){case"magnificPopup":this.config.triggerSelector||jQuery.magnificPopup.open(this.config)}return this}}],[{key:"__closePopup",value:function(e){e.preventDefault(),jQuery.magnificPopup.instance.close()}}]),e}(),d=function(e){function t(e){a(this,t),e.type="alert";var i=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.config.classes.modalWrapper="give-modal--error",i.init(),i}return o(t,e),t}(c),u=function(e){function t(e){a(this,t),e.type="alert";var i=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.config.classes.modalWrapper="give-modal--warning",i.init(),i}return o(t,e),t}(c),h=(function(e){function t(e){a(this,t),e.type="alert";var i=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.config.classes.modalWrapper="give-modal--notice",i.init(),i}o(t,e)}(c),function(e){function t(e){a(this,t),e.type="alert";var i=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.config.classes.modalWrapper="give-modal--success",i.init(),i}return o(t,e),t}(c)),p=function(e){function t(e){a(this,t),e.type="confirm";var i=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return void 0!==e.modalWrapper&&""!==e.modalWrapper&&(i.config.classes.modalWrapper=e.modalWrapper),i.init(),i}return o(t,e),l(t,null,[{key:"__confirmPopup",value:function(){"function"==typeof jQuery.magnificPopup.instance.st.successConfirm&&(jQuery.magnificPopup.instance.st.successConfirm({el:jQuery.magnificPopup.instance.st.el}),jQuery.magnificPopup.close())}}]),t}(c);window.addDynamicEventListener(document,"click",".give-popup-close-button",c.__closePopup),window.addDynamicEventListener(document,"click",".give-popup-confirm-button",p.__confirmPopup)},function(e,t,i){var n,o,a;!function(s){o=[i(0)],n=s,void 0!==(a="function"==typeof n?n.apply(t,o):n)&&(e.exports=a)}(function(e){var t,i,n,o,a,s,r=function(){},l=!!window.jQuery,c=e(window),d=function(e,i){t.ev.on("mfp"+e+".mfp",i)},u=function(t,i,n,o){var a=document.createElement("div");return a.className="mfp-"+t,n&&(a.innerHTML=n),o?i&&i.appendChild(a):(a=e(a),i&&a.appendTo(i)),a},h=function(i,n){t.ev.triggerHandler("mfp"+i,n),t.st.callbacks&&(i=i.charAt(0).toLowerCase()+i.slice(1),t.st.callbacks[i]&&t.st.callbacks[i].apply(t,e.isArray(n)?n:[n]))},p=function(i){return i===s&&t.currTemplate.closeBtn||(t.currTemplate.closeBtn=e(t.st.closeMarkup.replace("%title%",t.st.tClose)),s=i),t.currTemplate.closeBtn},f=function(){e.magnificPopup.instance||(t=new r,t.init(),e.magnificPopup.instance=t)},_=function(){var e=document.createElement("p").style,t=["ms","O","Moz","Webkit"];if(void 0!==e.transition)return!0;for(;t.length;)if(t.pop()+"Transition"in e)return!0;return!1};r.prototype={constructor:r,init:function(){var i=navigator.appVersion;t.isLowIE=t.isIE8=document.all&&!document.addEventListener,t.isAndroid=/android/gi.test(i),t.isIOS=/iphone|ipad|ipod/gi.test(i),t.supportsTransition=_(),t.probablyMobile=t.isAndroid||t.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),n=e(document),t.popupsCache={}},open:function(i){var o;if(!1===i.isObj){t.items=i.items.toArray(),t.index=0;var s,r=i.items;for(o=0;o<r.length;o++)if(s=r[o],s.parsed&&(s=s.el[0]),s===i.el[0]){t.index=o;break}}else t.items=e.isArray(i.items)?i.items:[i.items],t.index=i.index||0;if(t.isOpen)return void t.updateItemHTML();t.types=[],a="",i.mainEl&&i.mainEl.length?t.ev=i.mainEl.eq(0):t.ev=n,i.key?(t.popupsCache[i.key]||(t.popupsCache[i.key]={}),t.currTemplate=t.popupsCache[i.key]):t.currTemplate={},t.st=e.extend(!0,{},e.magnificPopup.defaults,i),t.fixedContentPos="auto"===t.st.fixedContentPos?!t.probablyMobile:t.st.fixedContentPos,t.st.modal&&(t.st.closeOnContentClick=!1,t.st.closeOnBgClick=!1,t.st.showCloseBtn=!1,t.st.enableEscapeKey=!1),t.bgOverlay||(t.bgOverlay=u("bg").on("click.mfp",function(){t.close()}),t.wrap=u("wrap").attr("tabindex",-1).on("click.mfp",function(e){t._checkIfClose(e.target)&&t.close()}),t.container=u("container",t.wrap)),t.contentContainer=u("content"),t.st.preloader&&(t.preloader=u("preloader",t.container,t.st.tLoading));var l=e.magnificPopup.modules;for(o=0;o<l.length;o++){var f=l[o];f=f.charAt(0).toUpperCase()+f.slice(1),t["init"+f].call(t)}h("BeforeOpen"),t.st.showCloseBtn&&(t.st.closeBtnInside?(d("MarkupParse",function(e,t,i,n){i.close_replaceWith=p(n.type)}),a+=" mfp-close-btn-in"):t.wrap.append(p())),t.st.alignTop&&(a+=" mfp-align-top"),t.fixedContentPos?t.wrap.css({overflow:t.st.overflowY,overflowX:"hidden",overflowY:t.st.overflowY}):t.wrap.css({top:c.scrollTop(),position:"absolute"}),(!1===t.st.fixedBgPos||"auto"===t.st.fixedBgPos&&!t.fixedContentPos)&&t.bgOverlay.css({height:n.height(),position:"absolute"}),t.st.enableEscapeKey&&n.on("keyup.mfp",function(e){27===e.keyCode&&t.close()}),c.on("resize.mfp",function(){t.updateSize()}),t.st.closeOnContentClick||(a+=" mfp-auto-cursor"),a&&t.wrap.addClass(a);var _=t.wH=c.height(),g={};if(t.fixedContentPos&&t._hasScrollBar(_)){var v=t._getScrollbarSize();v&&(g.marginRight=v)}t.fixedContentPos&&(t.isIE7?e("body, html").css("overflow","hidden"):g.overflow="hidden");var m=t.st.mainClass;return t.isIE7&&(m+=" mfp-ie7"),m&&t._addClassToMFP(m),t.updateItemHTML(),h("BuildControls"),e("html").css(g),t.bgOverlay.add(t.wrap).prependTo(t.st.prependTo||e(document.body)),t._lastFocusedEl=document.activeElement,setTimeout(function(){t.content?(t._addClassToMFP("mfp-ready"),t._setFocus()):t.bgOverlay.addClass("mfp-ready"),n.on("focusin.mfp",t._onFocusIn)},16),t.isOpen=!0,t.updateSize(_),h("Open"),i},close:function(){t.isOpen&&(h("BeforeClose"),t.isOpen=!1,t.st.removalDelay&&!t.isLowIE&&t.supportsTransition?(t._addClassToMFP("mfp-removing"),setTimeout(function(){t._close()},t.st.removalDelay)):t._close())},_close:function(){h("Close");var i="mfp-removing mfp-ready ";if(t.bgOverlay.detach(),t.wrap.detach(),t.container.empty(),t.st.mainClass&&(i+=t.st.mainClass+" "),t._removeClassFromMFP(i),t.fixedContentPos){var o={marginRight:""};t.isIE7?e("body, html").css("overflow",""):o.overflow="",e("html").css(o)}n.off("keyup.mfp focusin.mfp"),t.ev.off(".mfp"),t.wrap.attr("class","mfp-wrap").removeAttr("style"),t.bgOverlay.attr("class","mfp-bg"),t.container.attr("class","mfp-container"),!t.st.showCloseBtn||t.st.closeBtnInside&&!0!==t.currTemplate[t.currItem.type]||t.currTemplate.closeBtn&&t.currTemplate.closeBtn.detach(),t.st.autoFocusLast&&t._lastFocusedEl&&e(t._lastFocusedEl).focus(),t.currItem=null,t.content=null,t.currTemplate=null,t.prevHeight=0,h("AfterClose")},updateSize:function(e){if(t.isIOS){var i=document.documentElement.clientWidth/window.innerWidth,n=window.innerHeight*i;t.wrap.css("height",n),t.wH=n}else t.wH=e||c.height();t.fixedContentPos||t.wrap.css("height",t.wH),h("Resize")},updateItemHTML:function(){var i=t.items[t.index];t.contentContainer.detach(),t.content&&t.content.detach(),i.parsed||(i=t.parseEl(t.index));var n=i.type;if(h("BeforeChange",[t.currItem?t.currItem.type:"",n]),t.currItem=i,!t.currTemplate[n]){var a=!!t.st[n]&&t.st[n].markup;h("FirstMarkupParse",a),t.currTemplate[n]=!a||e(a)}o&&o!==i.type&&t.container.removeClass("mfp-"+o+"-holder");var s=t["get"+n.charAt(0).toUpperCase()+n.slice(1)](i,t.currTemplate[n]);t.appendContent(s,n),i.preloaded=!0,h("Change",i),o=i.type,t.container.prepend(t.contentContainer),h("AfterChange")},appendContent:function(e,i){t.content=e,e?t.st.showCloseBtn&&t.st.closeBtnInside&&!0===t.currTemplate[i]?t.content.find(".mfp-close").length||t.content.append(p()):t.content=e:t.content="",h("BeforeAppend"),t.container.addClass("mfp-"+i+"-holder"),t.contentContainer.append(t.content)},parseEl:function(i){var n,o=t.items[i];if(o.tagName?o={el:e(o)}:(n=o.type,o={data:o,src:o.src}),o.el){for(var a=t.types,s=0;s<a.length;s++)if(o.el.hasClass("mfp-"+a[s])){n=a[s];break}o.src=o.el.attr("data-mfp-src"),o.src||(o.src=o.el.attr("href"))}return o.type=n||t.st.type||"inline",o.index=i,o.parsed=!0,t.items[i]=o,h("ElementParse",o),t.items[i]},addGroup:function(e,i){var n=function(n){n.mfpEl=this,t._openClick(n,e,i)};i||(i={});var o="click.magnificPopup";i.mainEl=e,i.items?(i.isObj=!0,e.off(o).on(o,n)):(i.isObj=!1,i.delegate?e.off(o).on(o,i.delegate,n):(i.items=e,e.off(o).on(o,n)))},_openClick:function(i,n,o){if((void 0!==o.midClick?o.midClick:e.magnificPopup.defaults.midClick)||!(2===i.which||i.ctrlKey||i.metaKey||i.altKey||i.shiftKey)){var a=void 0!==o.disableOn?o.disableOn:e.magnificPopup.defaults.disableOn;if(a)if(e.isFunction(a)){if(!a.call(t))return!0}else if(c.width()<a)return!0;i.type&&(i.preventDefault(),t.isOpen&&i.stopPropagation()),o.el=e(i.mfpEl),o.delegate&&(o.items=n.find(o.delegate)),t.open(o)}},updateStatus:function(e,n){if(t.preloader){i!==e&&t.container.removeClass("mfp-s-"+i),n||"loading"!==e||(n=t.st.tLoading);var o={status:e,text:n};h("UpdateStatus",o),e=o.status,n=o.text,t.preloader.html(n),t.preloader.find("a").on("click",function(e){e.stopImmediatePropagation()}),t.container.addClass("mfp-s-"+e),i=e}},_checkIfClose:function(i){if(!e(i).hasClass("mfp-prevent-close")){var n=t.st.closeOnContentClick,o=t.st.closeOnBgClick;if(n&&o)return!0;if(!t.content||e(i).hasClass("mfp-close")||t.preloader&&i===t.preloader[0])return!0;if(i===t.content[0]||e.contains(t.content[0],i)){if(n)return!0}else if(o&&e.contains(document,i))return!0;return!1}},_addClassToMFP:function(e){t.bgOverlay.addClass(e),t.wrap.addClass(e)},_removeClassFromMFP:function(e){this.bgOverlay.removeClass(e),t.wrap.removeClass(e)},_hasScrollBar:function(e){return(t.isIE7?n.height():document.body.scrollHeight)>(e||c.height())},_setFocus:function(){(t.st.focus?t.content.find(t.st.focus).eq(0):t.wrap).focus()},_onFocusIn:function(i){if(i.target!==t.wrap[0]&&!e.contains(t.wrap[0],i.target))return t._setFocus(),!1},_parseMarkup:function(t,i,n){var o;n.data&&(i=e.extend(n.data,i)),h("MarkupParse",[t,i,n]),e.each(i,function(i,n){if(void 0===n||!1===n)return!0;if(o=i.split("_"),o.length>1){var a=t.find(".mfp-"+o[0]);if(a.length>0){var s=o[1];"replaceWith"===s?a[0]!==n[0]&&a.replaceWith(n):"img"===s?a.is("img")?a.attr("src",n):a.replaceWith(e("<img>").attr("src",n).attr("class",a.attr("class"))):a.attr(o[1],n)}}else t.find(".mfp-"+i).html(n)})},_getScrollbarSize:function(){if(void 0===t.scrollbarSize){var e=document.createElement("div");e.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e),t.scrollbarSize=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return t.scrollbarSize}},e.magnificPopup={instance:null,proto:r.prototype,modules:[],open:function(t,i){return f(),t=t?e.extend(!0,{},t):{},t.isObj=!0,t.index=i||0,this.instance.open(t)},close:function(){return e.magnificPopup.instance&&e.magnificPopup.instance.close()},registerModule:function(t,i){i.options&&(e.magnificPopup.defaults[t]=i.options),e.extend(this.proto,i.proto),this.modules.push(t)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&#215;</button>',tClose:"Close (Esc)",tLoading:"Loading...",autoFocusLast:!0}},e.fn.magnificPopup=function(i){f();var n=e(this);if("string"==typeof i)if("open"===i){var o,a=l?n.data("magnificPopup"):n[0].magnificPopup,s=parseInt(arguments[1],10)||0;a.items?o=a.items[s]:(o=n,a.delegate&&(o=o.find(a.delegate)),o=o.eq(s)),t._openClick({mfpEl:o},n,a)}else t.isOpen&&t[i].apply(t,Array.prototype.slice.call(arguments,1));else i=e.extend(!0,{},i),l?n.data("magnificPopup",i):n[0].magnificPopup=i,t.addGroup(n,i);return n};var g,v,m,b=function(){m&&(v.after(m.addClass(g)).detach(),m=null)};e.magnificPopup.registerModule("inline",{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){t.types.push("inline"),d("Close.inline",function(){b()})},getInline:function(i,n){if(b(),i.src){var o=t.st.inline,a=e(i.src);if(a.length){var s=a[0].parentNode;s&&s.tagName&&(v||(g=o.hiddenClass,v=u(g),g="mfp-"+g),m=a.after(v).detach().removeClass(g)),t.updateStatus("ready")}else t.updateStatus("error",o.tNotFound),a=e("<div>");return i.inlineElement=a,a}return t.updateStatus("ready"),t._parseMarkup(n,{},i),n}}});var y,x=function(){y&&e(document.body).removeClass(y)},w=function(){x(),t.req&&t.req.abort()};e.magnificPopup.registerModule("ajax",{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){t.types.push("ajax"),y=t.st.ajax.cursor,d("Close.ajax",w),d("BeforeChange.ajax",w)},getAjax:function(i){y&&e(document.body).addClass(y),t.updateStatus("loading");var n=e.extend({url:i.src,success:function(n,o,a){var s={data:n,xhr:a};h("ParseAjax",s),t.appendContent(e(s.data),"ajax"),i.finished=!0,x(),t._setFocus(),setTimeout(function(){t.wrap.addClass("mfp-ready")},16),t.updateStatus("ready"),h("AjaxContentAdded")},error:function(){x(),i.finished=i.loadError=!0,t.updateStatus("error",t.st.ajax.tError.replace("%url%",i.src))}},t.st.ajax.settings);return t.req=e.ajax(n),""}}});var k,C=function(i){if(i.data&&void 0!==i.data.title)return i.data.title;var n=t.st.image.titleSrc;if(n){if(e.isFunction(n))return n.call(t,i);if(i.el)return i.el.attr(n)||""}return""};e.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var i=t.st.image,n=".image";t.types.push("image"),d("Open"+n,function(){"image"===t.currItem.type&&i.cursor&&e(document.body).addClass(i.cursor)}),d("Close"+n,function(){i.cursor&&e(document.body).removeClass(i.cursor),c.off("resize.mfp")}),d("Resize"+n,t.resizeImage),t.isLowIE&&d("AfterChange",t.resizeImage)},resizeImage:function(){var e=t.currItem;if(e&&e.img&&t.st.image.verticalFit){var i=0;t.isLowIE&&(i=parseInt(e.img.css("padding-top"),10)+parseInt(e.img.css("padding-bottom"),10)),e.img.css("max-height",t.wH-i)}},_onImageHasSize:function(e){e.img&&(e.hasSize=!0,k&&clearInterval(k),e.isCheckingImgSize=!1,h("ImageHasSize",e),e.imgHidden&&(t.content&&t.content.removeClass("mfp-loading"),e.imgHidden=!1))},findImageSize:function(e){var i=0,n=e.img[0],o=function(a){k&&clearInterval(k),k=setInterval(function(){if(n.naturalWidth>0)return void t._onImageHasSize(e);i>200&&clearInterval(k),i++,3===i?o(10):40===i?o(50):100===i&&o(500)},a)};o(1)},getImage:function(i,n){var o=0,a=function(){i&&(i.img[0].complete?(i.img.off(".mfploader"),i===t.currItem&&(t._onImageHasSize(i),t.updateStatus("ready")),i.hasSize=!0,i.loaded=!0,h("ImageLoadComplete")):(o++,o<200?setTimeout(a,100):s()))},s=function(){i&&(i.img.off(".mfploader"),i===t.currItem&&(t._onImageHasSize(i),t.updateStatus("error",r.tError.replace("%url%",i.src))),i.hasSize=!0,i.loaded=!0,i.loadError=!0)},r=t.st.image,l=n.find(".mfp-img");if(l.length){var c=document.createElement("img");c.className="mfp-img",i.el&&i.el.find("img").length&&(c.alt=i.el.find("img").attr("alt")),i.img=e(c).on("load.mfploader",a).on("error.mfploader",s),c.src=i.src,l.is("img")&&(i.img=i.img.clone()),c=i.img[0],c.naturalWidth>0?i.hasSize=!0:c.width||(i.hasSize=!1)}return t._parseMarkup(n,{title:C(i),img_replaceWith:i.img},i),t.resizeImage(),i.hasSize?(k&&clearInterval(k),i.loadError?(n.addClass("mfp-loading"),t.updateStatus("error",r.tError.replace("%url%",i.src))):(n.removeClass("mfp-loading"),t.updateStatus("ready")),n):(t.updateStatus("loading"),i.loading=!0,i.hasSize||(i.imgHidden=!0,n.addClass("mfp-loading"),t.findImageSize(i)),n)}}});var j,T=function(){return void 0===j&&(j=void 0!==document.createElement("p").style.MozTransform),j};e.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(e){return e.is("img")?e:e.find("img")}},proto:{initZoom:function(){var e,i=t.st.zoom,n=".zoom";if(i.enabled&&t.supportsTransition){var o,a,s=i.duration,r=function(e){var t=e.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),n="all "+i.duration/1e3+"s "+i.easing,o={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},a="transition";return o["-webkit-"+a]=o["-moz-"+a]=o["-o-"+a]=o[a]=n,t.css(o),t},l=function(){t.content.css("visibility","visible")};d("BuildControls"+n,function(){if(t._allowZoom()){if(clearTimeout(o),t.content.css("visibility","hidden"),!(e=t._getItemToZoom()))return void l();a=r(e),a.css(t._getOffset()),t.wrap.append(a),o=setTimeout(function(){a.css(t._getOffset(!0)),o=setTimeout(function(){l(),setTimeout(function(){a.remove(),e=a=null,h("ZoomAnimationEnded")},16)},s)},16)}}),d("BeforeClose"+n,function(){if(t._allowZoom()){if(clearTimeout(o),t.st.removalDelay=s,!e){if(!(e=t._getItemToZoom()))return;a=r(e)}a.css(t._getOffset(!0)),t.wrap.append(a),t.content.css("visibility","hidden"),setTimeout(function(){a.css(t._getOffset())},16)}}),d("Close"+n,function(){t._allowZoom()&&(l(),a&&a.remove(),e=null)})}},_allowZoom:function(){return"image"===t.currItem.type},_getItemToZoom:function(){return!!t.currItem.hasSize&&t.currItem.img},_getOffset:function(i){var n;n=i?t.currItem.img:t.st.zoom.opener(t.currItem.el||t.currItem);var o=n.offset(),a=parseInt(n.css("padding-top"),10),s=parseInt(n.css("padding-bottom"),10);o.top-=e(window).scrollTop()-a;var r={width:n.width(),height:(l?n.innerHeight():n[0].offsetHeight)-s-a};return T()?r["-moz-transform"]=r.transform="translate("+o.left+"px,"+o.top+"px)":(r.left=o.left,r.top=o.top),r}}});var S=function(e){if(t.currTemplate.iframe){var i=t.currTemplate.iframe.find("iframe");i.length&&(e||(i[0].src="//about:blank"),t.isIE8&&i.css("display",e?"block":"none"))}};e.magnificPopup.registerModule("iframe",{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){t.types.push("iframe"),d("BeforeChange",function(e,t,i){t!==i&&("iframe"===t?S():"iframe"===i&&S(!0))}),d("Close.iframe",function(){S()})},getIframe:function(i,n){var o=i.src,a=t.st.iframe;e.each(a.patterns,function(){if(o.indexOf(this.index)>-1)return this.id&&(o="string"==typeof this.id?o.substr(o.lastIndexOf(this.id)+this.id.length,o.length):this.id.call(this,o)),o=this.src.replace("%id%",o),!1});var s={};return a.srcAction&&(s[a.srcAction]=o),t._parseMarkup(n,s,i),t.updateStatus("ready"),n}}});var M=function(e){var i=t.items.length;return e>i-1?e-i:e<0?i+e:e},I=function(e,t,i){return e.replace(/%curr%/gi,t+1).replace(/%total%/gi,i)};e.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var i=t.st.gallery,o=".mfp-gallery";if(t.direction=!0,!i||!i.enabled)return!1;a+=" mfp-gallery",d("Open"+o,function(){i.navigateByImgClick&&t.wrap.on("click"+o,".mfp-img",function(){if(t.items.length>1)return t.next(),!1}),n.on("keydown"+o,function(e){37===e.keyCode?t.prev():39===e.keyCode&&t.next()})}),d("UpdateStatus"+o,function(e,i){i.text&&(i.text=I(i.text,t.currItem.index,t.items.length))}),d("MarkupParse"+o,function(e,n,o,a){var s=t.items.length;o.counter=s>1?I(i.tCounter,a.index,s):""}),d("BuildControls"+o,function(){if(t.items.length>1&&i.arrows&&!t.arrowLeft){var n=i.arrowMarkup,o=t.arrowLeft=e(n.replace(/%title%/gi,i.tPrev).replace(/%dir%/gi,"left")).addClass("mfp-prevent-close"),a=t.arrowRight=e(n.replace(/%title%/gi,i.tNext).replace(/%dir%/gi,"right")).addClass("mfp-prevent-close");o.click(function(){t.prev()}),a.click(function(){t.next()}),t.container.append(o.add(a))}}),d("Change"+o,function(){t._preloadTimeout&&clearTimeout(t._preloadTimeout),t._preloadTimeout=setTimeout(function(){t.preloadNearbyImages(),t._preloadTimeout=null},16)}),d("Close"+o,function(){n.off(o),t.wrap.off("click"+o),t.arrowRight=t.arrowLeft=null})},next:function(){t.direction=!0,t.index=M(t.index+1),t.updateItemHTML()},prev:function(){t.direction=!1,t.index=M(t.index-1),t.updateItemHTML()},goTo:function(e){t.direction=e>=t.index,t.index=e,t.updateItemHTML()},preloadNearbyImages:function(){var e,i=t.st.gallery.preload,n=Math.min(i[0],t.items.length),o=Math.min(i[1],t.items.length);for(e=1;e<=(t.direction?o:n);e++)t._preloadItem(t.index+e);for(e=1;e<=(t.direction?n:o);e++)t._preloadItem(t.index-e)},_preloadItem:function(i){if(i=M(i),!t.items[i].preloaded){var n=t.items[i];n.parsed||(n=t.parseEl(i)),h("LazyLoad",n),"image"===n.type&&(n.img=e('<img class="mfp-img" />').on("load.mfploader",function(){n.hasSize=!0}).on("error.mfploader",function(){n.hasSize=!0,n.loadError=!0,h("LazyLoadError",n)}).attr("src",n.src)),n.preloaded=!0}}}});e.magnificPopup.registerModule("retina",{options:{replaceSrc:function(e){return e.src.replace(/\.\w+$/,function(e){return"@2x"+e})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var e=t.st.retina,i=e.ratio;i=isNaN(i)?i():i,i>1&&(d("ImageHasSize.retina",function(e,t){t.img.css({"max-width":t.img[0].naturalWidth/i,width:"100%"})}),d("ElementParse.retina",function(t,n){n.src=e.replaceSrc(n,i)}))}}}}),f()})},,function(e,t,i){(function(t){e.exports=t.accounting=i(6)}).call(t,i(1))},function(e,t,i){/*!
 * accounting.js v0.4.1
 * Copyright 2014 Open Exchange Rates
 *
 * Freely distributable under the MIT license.
 * Portions of accounting.js are inspired or borrowed from underscore.js
 *
 * Full details and documentation:
 * http://openexchangerates.github.io/accounting.js/
 */
!function(i,n){function o(e){return!!(""===e||e&&e.charCodeAt&&e.substr)}function a(e){return p?p(e):"[object Array]"===f.call(e)}function s(e){return e&&"[object Object]"===f.call(e)}function r(e,t){var i;e=e||{},t=t||{};for(i in t)t.hasOwnProperty(i)&&null==e[i]&&(e[i]=t[i]);return e}function l(e,t,i){var n,o,a=[];if(!e)return a;if(h&&e.map===h)return e.map(t,i);for(n=0,o=e.length;n<o;n++)a[n]=t.call(i,e[n],n,e);return a}function c(e,t){return e=Math.round(Math.abs(e)),isNaN(e)?t:e}function d(e){var t=u.settings.currency.format;return"function"==typeof e&&(e=e()),o(e)&&e.match("%v")?{pos:e,neg:e.replace("-","").replace("%v","-%v"),zero:e}:e&&e.pos&&e.pos.match("%v")?e:o(t)?u.settings.currency.format={pos:t,neg:t.replace("%v","-%v"),zero:t}:t}var u={};u.version="0.4.1",u.settings={currency:{symbol:"$",format:"%s%v",decimal:".",thousand:",",precision:2,grouping:3},number:{precision:0,grouping:3,thousand:",",decimal:"."}};var h=Array.prototype.map,p=Array.isArray,f=Object.prototype.toString,_=u.unformat=u.parse=function(e,t){if(a(e))return l(e,function(e){return _(e,t)});if("number"==typeof(e=e||0))return e;t=t||u.settings.number.decimal;var i=new RegExp("[^0-9-"+t+"]",["g"]),n=parseFloat((""+e).replace(/\((.*)\)/,"-$1").replace(i,"").replace(t,"."));return isNaN(n)?0:n},g=u.toFixed=function(e,t){t=c(t,u.settings.number.precision);var i=Math.pow(10,t);return(Math.round(u.unformat(e)*i)/i).toFixed(t)},v=u.formatNumber=u.format=function(e,t,i,n){if(a(e))return l(e,function(e){return v(e,t,i,n)});e=_(e);var o=r(s(t)?t:{precision:t,thousand:i,decimal:n},u.settings.number),d=c(o.precision),h=e<0?"-":"",p=parseInt(g(Math.abs(e||0),d),10)+"",f=p.length>3?p.length%3:0;return h+(f?p.substr(0,f)+o.thousand:"")+p.substr(f).replace(/(\d{3})(?=\d)/g,"$1"+o.thousand)+(d?o.decimal+g(Math.abs(e),d).split(".")[1]:"")},m=u.formatMoney=function(e,t,i,n,o,h){if(a(e))return l(e,function(e){return m(e,t,i,n,o,h)});e=_(e);var p=r(s(t)?t:{symbol:t,precision:i,thousand:n,decimal:o,format:h},u.settings.currency),f=d(p.format);return(e>0?f.pos:e<0?f.neg:f.zero).replace("%s",p.symbol).replace("%v",v(Math.abs(e),c(p.precision),p.thousand,p.decimal))};u.formatColumn=function(e,t,i,n,h,p){if(!e)return[];var f=r(s(t)?t:{symbol:t,precision:i,thousand:n,decimal:h,format:p},u.settings.currency),g=d(f.format),m=g.pos.indexOf("%s")<g.pos.indexOf("%v"),b=0;return l(l(e,function(e,t){if(a(e))return u.formatColumn(e,f);e=_(e);var i=e>0?g.pos:e<0?g.neg:g.zero,n=i.replace("%s",f.symbol).replace("%v",v(Math.abs(e),c(f.precision),f.thousand,f.decimal));return n.length>b&&(b=n.length),n}),function(e,t){return o(e)&&e.length<b?m?e.replace(f.symbol,f.symbol+new Array(b-e.length+1).join(" ")):new Array(b-e.length+1).join(" ")+e:e})},void 0!==e&&e.exports&&(t=e.exports=u),t.accounting=u}()},function(e,t){jQuery.fn.giveHintCss=function(e,t){return this.each(function(){var i=jQuery(this);t=jQuery.extend({label:""},t);var n=i.next("span.give-hint-tooltip-js");if(!n.length){var o=t.label.length?t.label:i.data("hint-aria-label");if(!o.length)return;i.after('<span class="give-hint-tooltip-js hint--top hint--medium" aria-label="'+o+'"></span>'),n=i.next(),n.css({top:-i.outerHeight(),left:-i.outerWidth()/2})}"show"===e?n.addClass("hint--always"):"hide"===e&&n.removeClass("hint--always")})},jQuery(document).ready(function(e){function t(t){if(!t.is('[class*="hint"]')){var i=t.attr("class"),n=[],o=t.data("tooltip").split(" ").length;i&&(i=i.split(" "),n=e.grep(i,function(e){return-1!==e.indexOf("give-icon")}),n.length&&(n=n.join(" "),t.removeClass(n),t.append('<i class="'+n+'"></i>'))),t.addClass("hint--top"),15<o?t.addClass("hint--large"):7<o&&t.addClass("hint--medium"),t.attr("aria-label",t.data("tooltip"))}}var i=e("[data-tooltip]");i.length&&i.each(function(i,n){n=n instanceof jQuery?n:e(n),t(n)}),e("body").on("hover","[data-tooltip]",function(){t(e(this))})})},function(e,t){!function(e){"use strict";function t(e,t){return function(i){i.target&&i.target.matches(e)&&t.apply(this,arguments)}}Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),i=t.length;--i>=0&&t.item(i)!==this;);return i>-1}),e.addDynamicEventListener=function(e,i,n,o,a){e.addEventListener(i,t(n,o),a)}}(window)},,,,,,,,,,,function(e,t,i){i(20),e.exports=i(34)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(21),o=(i.n(n),i(5)),a=(i.n(o),i(22)),s=(i.n(a),i(23)),r=(i.n(s),i(24)),l=(i.n(r),i(25)),c=(i.n(l),i(26)),d=(i.n(c),i(27)),u=(i.n(d),i(7)),h=(i.n(u),i(28)),p=(i.n(h),i(29),i(30)),f=(i.n(p),i(31));i.n(f),i(32),i(33)},function(e,t){(function(){var e,t,i,n,o=function(e,t){return function(){return e.apply(t,arguments)}},a=function(e,t){function i(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},s={}.hasOwnProperty;n=function(){function e(){this.options_index=0,this.parsed=[]}return e.prototype.add_node=function(e){return"OPTGROUP"===e.nodeName.toUpperCase()?this.add_group(e):this.add_option(e)},e.prototype.add_group=function(e){var t,i,n,o,a,s;for(t=this.parsed.length,this.parsed.push({array_index:t,group:!0,label:e.label,title:e.title?e.title:void 0,children:0,disabled:e.disabled,classes:e.className}),a=e.childNodes,s=[],i=0,n=a.length;i<n;i++)o=a[i],s.push(this.add_option(o,t,e.disabled));return s},e.prototype.add_option=function(e,t,i){if("OPTION"===e.nodeName.toUpperCase())return""!==e.text?(null!=t&&(this.parsed[t].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:e.value,text:e.text,html:e.innerHTML,title:e.title?e.title:void 0,selected:e.selected,disabled:!0===i?i:e.disabled,group_array_index:t,group_label:null!=t?this.parsed[t].label:null,classes:e.className,style:e.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1},e}(),n.select_to_array=function(e){var t,i,o,a,s;for(a=new n,s=e.childNodes,i=0,o=s.length;i<o;i++)t=s[i],a.add_node(t);return a.parsed},t=function(){function e(t,i){this.form_field=t,this.options=null!=i?i:{},this.label_click_handler=o(this.label_click_handler,this),e.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.on_ready())}return e.prototype.set_default_values=function(){return this.click_test_action=function(e){return function(t){return e.test_active_click(t)}}(this),this.activate_action=function(e){return function(t){return e.activate_field(t)}}(this),this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.is_rtl=this.options.rtl||/\bchosen-rtl\b/.test(this.form_field.className),this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text&&this.options.allow_single_deselect,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null==this.options.enable_split_word_search||this.options.enable_split_word_search,this.group_search=null==this.options.group_search||this.options.group_search,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null==this.options.single_backstroke_delete||this.options.single_backstroke_delete,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null==this.options.display_selected_options||this.options.display_selected_options,this.display_disabled_options=null==this.options.display_disabled_options||this.options.display_disabled_options,this.include_group_label_in_selected=this.options.include_group_label_in_selected||!1,this.max_shown_results=this.options.max_shown_results||Number.POSITIVE_INFINITY,this.case_sensitive_search=this.options.case_sensitive_search||!1,this.hide_results_on_select=null==this.options.hide_results_on_select||this.options.hide_results_on_select},e.prototype.set_default_text=function(){return this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||e.default_multiple_text:this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||e.default_single_text,this.default_text=this.escape_html(this.default_text),this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||e.default_no_result_text},e.prototype.choice_label=function(e){return this.include_group_label_in_selected&&null!=e.group_label?"<b class='group-name'>"+e.group_label+"</b>"+e.html:e.html},e.prototype.mouse_enter=function(){return this.mouse_on_container=!0},e.prototype.mouse_leave=function(){return this.mouse_on_container=!1},e.prototype.input_focus=function(e){if(this.is_multiple){if(!this.active_field)return setTimeout(function(e){return function(){return e.container_mousedown()}}(this),50)}else if(!this.active_field)return this.activate_field()},e.prototype.input_blur=function(e){if(!this.mouse_on_container)return this.active_field=!1,setTimeout(function(e){return function(){return e.blur_test()}}(this),100)},e.prototype.label_click_handler=function(e){return this.is_multiple?this.container_mousedown(e):this.activate_field()},e.prototype.results_option_build=function(e){var t,i,n,o,a,s,r;for(t="",r=0,s=this.results_data,o=0,a=s.length;o<a&&(i=s[o],n="",n=i.group?this.result_add_group(i):this.result_add_option(i),""!==n&&(r++,t+=n),(null!=e?e.first:void 0)&&(i.selected&&this.is_multiple?this.choice_build(i):i.selected&&!this.is_multiple&&this.single_set_selected_text(this.choice_label(i))),!(r>=this.max_shown_results));o++);return t},e.prototype.result_add_option=function(e){var t,i;return e.search_match&&this.include_option_in_results(e)?(t=[],e.disabled||e.selected&&this.is_multiple||t.push("active-result"),!e.disabled||e.selected&&this.is_multiple||t.push("disabled-result"),e.selected&&t.push("result-selected"),null!=e.group_array_index&&t.push("group-option"),""!==e.classes&&t.push(e.classes),i=document.createElement("li"),i.className=t.join(" "),e.style&&(i.style.cssText=e.style),i.setAttribute("data-option-array-index",e.array_index),i.innerHTML=e.highlighted_html||e.html,e.title&&(i.title=e.title),this.outerHTML(i)):""},e.prototype.result_add_group=function(e){var t,i;return(e.search_match||e.group_match)&&e.active_options>0?(t=[],t.push("group-result"),e.classes&&t.push(e.classes),i=document.createElement("li"),i.className=t.join(" "),i.innerHTML=e.highlighted_html||this.escape_html(e.label),e.title&&(i.title=e.title),this.outerHTML(i)):""},e.prototype.results_update_field=function(){if(this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing)return this.winnow_results()},e.prototype.reset_single_select_options=function(){var e,t,i,n,o;for(i=this.results_data,o=[],e=0,t=i.length;e<t;e++)n=i[e],n.selected?o.push(n.selected=!1):o.push(void 0);return o},e.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},e.prototype.results_search=function(e){return this.results_showing?this.winnow_results():this.results_show()},e.prototype.winnow_results=function(e){var t,i,n,o,a,s,r,l,c,d,u,h,p,f,_;for(this.no_results_clear(),d=0,r=this.get_search_text(),t=r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),c=this.get_search_regex(t),l=this.results_data,n=0,o=l.length;n<o;n++)a=l[n],a.search_match=!1,u=null,h=null,a.highlighted_html="",this.include_option_in_results(a)&&(a.group&&(a.group_match=!1,a.active_options=0),null!=a.group_array_index&&this.results_data[a.group_array_index]&&(u=this.results_data[a.group_array_index],0===u.active_options&&u.search_match&&(d+=1),u.active_options+=1),_=a.group?a.label:a.text,a.group&&!this.group_search||(h=this.search_string_match(_,c),a.search_match=null!=h,a.search_match&&!a.group&&(d+=1),a.search_match?(r.length&&(p=h.index,s=_.slice(0,p),i=_.slice(p,p+r.length),f=_.slice(p+r.length),a.highlighted_html=this.escape_html(s)+"<em>"+this.escape_html(i)+"</em>"+this.escape_html(f)),null!=u&&(u.group_match=!0)):null!=a.group_array_index&&this.results_data[a.group_array_index].search_match&&(a.search_match=!0)));return this.result_clear_highlight(),d<1&&r.length?(this.update_results_content(""),this.no_results(r)):(this.update_results_content(this.results_option_build()),(null!=e?e.skip_highlight:void 0)?void 0:this.winnow_results_set_highlight())},e.prototype.get_search_regex=function(e){var t,i;return i=this.search_contains?e:"(^|\\s|\\b)"+e+"[^\\s]*",this.enable_split_word_search||this.search_contains||(i="^"+i),t=this.case_sensitive_search?"":"i",new RegExp(i,t)},e.prototype.search_string_match=function(e,t){var i;return i=t.exec(e),!this.search_contains&&(null!=i?i[1]:void 0)&&(i.index+=1),i},e.prototype.choices_count=function(){var e,t,i,n;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,n=this.form_field.options,e=0,t=n.length;e<t;e++)i=n[e],i.selected&&(this.selected_option_count+=1);return this.selected_option_count},e.prototype.choices_click=function(e){if(e.preventDefault(),this.activate_field(),!this.results_showing&&!this.is_disabled)return this.results_show()},e.prototype.keydown_checker=function(e){var t,i;switch(i=null!=(t=e.which)?t:e.keyCode,this.search_field_scale(),8!==i&&this.pending_backstroke&&this.clear_backstroke(),i){case 8:this.backstroke_length=this.get_search_field_value().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(e),this.mouse_on_container=!1;break;case 13:case 27:this.results_showing&&e.preventDefault();break;case 32:this.disable_search&&e.preventDefault();break;case 38:e.preventDefault(),this.keyup_arrow();break;case 40:e.preventDefault(),this.keydown_arrow()}},e.prototype.keyup_checker=function(e){var t,i;switch(i=null!=(t=e.which)?t:e.keyCode,this.search_field_scale(),i){case 8:this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0?this.keydown_backstroke():this.pending_backstroke||(this.result_clear_highlight(),this.results_search());break;case 13:e.preventDefault(),this.results_showing&&this.result_select(e);break;case 27:this.results_showing&&this.results_hide();break;case 9:case 16:case 17:case 18:case 38:case 40:case 91:break;default:this.results_search()}},e.prototype.clipboard_event_checker=function(e){if(!this.is_disabled)return setTimeout(function(e){return function(){return e.results_search()}}(this),50)},e.prototype.container_width=function(){return null!=this.options.width?this.options.width:this.form_field.offsetWidth+"px"},e.prototype.include_option_in_results=function(e){return!(this.is_multiple&&!this.display_selected_options&&e.selected)&&(!(!this.display_disabled_options&&e.disabled)&&!e.empty)},e.prototype.search_results_touchstart=function(e){return this.touch_started=!0,this.search_results_mouseover(e)},e.prototype.search_results_touchmove=function(e){return this.touch_started=!1,this.search_results_mouseout(e)},e.prototype.search_results_touchend=function(e){if(this.touch_started)return this.search_results_mouseup(e)},e.prototype.outerHTML=function(e){var t;return e.outerHTML?e.outerHTML:(t=document.createElement("div"),t.appendChild(e),t.innerHTML)},e.prototype.get_single_html=function(){return'<a class="chosen-single chosen-default">\n  <input class="chosen-focus-input" type="text" autocomplete="off" />\n  <span>'+this.default_text+'</span>\n  <div><b></b></div>\n</a>\n<div class="chosen-drop">\n  <div class="chosen-search">\n    <input class="chosen-search-input" type="text" autocomplete="off" />\n  </div>\n  <ul class="chosen-results"></ul>\n</div>'},e.prototype.get_multi_html=function(){return'<ul class="chosen-choices">\n  <li class="search-field">\n    <input class="chosen-search-input" type="text" autocomplete="off" value="'+this.default_text+'" />\n  </li>\n</ul>\n<div class="chosen-drop">\n  <ul class="chosen-results"></ul>\n</div>'},e.prototype.get_no_results_html=function(e){return'<li class="no-results">\n  '+this.results_none_found+" <span>"+this.escape_html(e)+"</span>\n</li>"},e.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?document.documentMode>=8:!(/iP(od|hone)/i.test(window.navigator.userAgent)||/IEMobile/i.test(window.navigator.userAgent)||/Windows Phone/i.test(window.navigator.userAgent)||/BlackBerry/i.test(window.navigator.userAgent)||/BB10/i.test(window.navigator.userAgent)||/Android.*Mobile/i.test(window.navigator.userAgent))},e.default_multiple_text="Select Some Options",e.default_single_text="Select an Option",e.default_no_result_text="No results match",e}(),e=jQuery,e.fn.extend({chosen:function(n){return t.browser_is_supported()?this.each(function(t){var o,a;if(o=e(this),a=o.data("chosen"),"destroy"===n)return void(a instanceof i&&a.destroy());a instanceof i||o.data("chosen",new i(this,n))}):this}}),i=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return a(i,t),i.prototype.setup=function(){return this.form_field_jq=e(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex},i.prototype.set_up_html=function(){var t,i;return t=["chosen-container"],t.push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&t.push(this.form_field.className),this.is_rtl&&t.push("chosen-rtl"),i={class:t.join(" "),title:this.form_field.title},this.form_field.id.length&&(i.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=e("<div />",i),this.container.width(this.container_width()),this.is_multiple?this.container.html(this.get_multi_html()):this.container.html(this.get_single_html()),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input.chosen-search-input"),this.focus_field=this.container.find("input.chosen-focus-input"),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior()},i.prototype.on_ready=function(){return this.form_field_jq.trigger("chosen:ready",{chosen:this})},i.prototype.register_observers=function(){var e;return this.container.on("touchstart.chosen",function(e){return function(t){e.container_mousedown(t)}}(this)),this.container.on("touchend.chosen",function(e){return function(t){e.container_mouseup(t)}}(this)),this.container.on("mousedown.chosen",function(e){return function(t){e.container_mousedown(t)}}(this)),this.container.on("mouseup.chosen",function(e){return function(t){e.container_mouseup(t)}}(this)),this.container.on("mouseenter.chosen",function(e){return function(t){e.mouse_enter(t)}}(this)),this.container.on("mouseleave.chosen",function(e){return function(t){e.mouse_leave(t)}}(this)),this.search_results.on("mouseup.chosen",function(e){return function(t){e.search_results_mouseup(t)}}(this)),this.search_results.on("mouseover.chosen",function(e){return function(t){e.search_results_mouseover(t)}}(this)),this.search_results.on("mouseout.chosen",function(e){return function(t){e.search_results_mouseout(t)}}(this)),this.search_results.on("mousewheel.chosen DOMMouseScroll.chosen",function(e){return function(t){e.search_results_mousewheel(t)}}(this)),this.search_results.on("touchstart.chosen",function(e){return function(t){e.search_results_touchstart(t)}}(this)),this.search_results.on("touchmove.chosen",function(e){return function(t){e.search_results_touchmove(t)}}(this)),this.search_results.on("touchend.chosen",function(e){return function(t){e.search_results_touchend(t)}}(this)),this.form_field_jq.on("chosen:updated.chosen",function(e){return function(t){e.results_update_field(t)}}(this)),this.form_field_jq.on("chosen:activate.chosen",function(e){return function(t){e.activate_field(t)}}(this)),this.form_field_jq.on("chosen:open.chosen",function(e){return function(t){e.container_mousedown(t)}}(this)),this.form_field_jq.on("chosen:close.chosen",function(e){return function(t){e.close_field(t)}}(this)),this.search_field.on("blur.chosen",function(e){return function(t){e.input_blur(t)}}(this)),this.search_field.on("keyup.chosen",function(e){return function(t){e.keyup_checker(t)}}(this)),this.search_field.on("keydown.chosen",function(e){return function(t){e.keydown_checker(t)}}(this)),this.search_field.on("focus.chosen",function(e){return function(t){e.input_focus(t)}}(this)),this.search_field.on("cut.chosen",function(e){return function(t){e.clipboard_event_checker(t)}}(this)),this.search_field.on("paste.chosen",function(e){return function(t){e.clipboard_event_checker(t)}}(this)),this.is_multiple?this.search_choices.on("click.chosen",function(e){return function(t){e.choices_click(t)}}(this)):(this.container.on("click.chosen",function(e){e.preventDefault()}),this.focus_field.on("blur.chosen",function(e){return function(t){e.input_blur(t)}}(this)),this.focus_field.on("focus.chosen",function(e){return function(t){e.input_focus(t)}}(this)),e=function(e){return function(){return e.search_field.val(e.focus_field.val()),e.focus_field.val("")}}(this),this.focus_field.on("keyup.chosen",function(t){return function(i){e(),t.keyup_checker(i)}}(this)),this.focus_field.on("keydown.chosen",function(t){return function(i){e(),t.keydown_checker(i)}}(this)),this.focus_field.on("cut.chosen",function(t){return function(i){setTimeout(e,0),t.clipboard_event_checker(i)}}(this)),this.focus_field.on("paste.chosen",function(t){return function(i){setTimeout(e,0),t.clipboard_event_checker(i)}}(this)))},i.prototype.destroy=function(){return e(this.container[0].ownerDocument).off("click.chosen",this.click_test_action),this.form_field_label.length>0&&this.form_field_label.off("click.chosen"),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},i.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field.disabled||this.form_field_jq.parents("fieldset").is(":disabled"),this.container.toggleClass("chosen-disabled",this.is_disabled),this.search_field[0].disabled=this.is_disabled,this.is_multiple||this.selected_item.off("focus.chosen",this.activate_field),this.is_disabled?this.close_field():this.is_multiple?void 0:this.selected_item.on("focus.chosen",this.activate_field)},i.prototype.container_mousedown=function(t){var i;if(!this.is_disabled)return!t||"mousedown"!==(i=t.type)&&"touchstart"!==i||this.results_showing||t.preventDefault(),null!=t&&e(t.target).hasClass("search-choice-close")?void 0:(this.active_field?this.is_multiple||!t||e(t.target)[0]!==this.selected_item[0]&&!e(t.target).parents("a.chosen-single").length||(t.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),e(this.container[0].ownerDocument).on("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},i.prototype.container_mouseup=function(e){if("ABBR"===e.target.nodeName&&!this.is_disabled)return this.results_reset(e)},i.prototype.search_results_mousewheel=function(e){var t;if(e.originalEvent&&(t=e.originalEvent.deltaY||-e.originalEvent.wheelDelta||e.originalEvent.detail),null!=t)return e.preventDefault(),"DOMMouseScroll"===e.type&&(t*=40),this.search_results.scrollTop(t+this.search_results.scrollTop())},i.prototype.blur_test=function(e){if(!this.active_field&&this.container.hasClass("chosen-container-active"))return this.close_field()},i.prototype.close_field=function(){return e(this.container[0].ownerDocument).off("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale(),this.search_field.blur()},i.prototype.activate_field=function(){if(!this.is_disabled)return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.focus()},i.prototype.test_active_click=function(t){var i;return i=e(t.target).closest(".chosen-container"),i.length&&this.container[0]===i[0]?this.active_field=!0:this.close_field()},i.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=n.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.focus_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.focus_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},i.prototype.result_do_highlight=function(e){var t,i,n,o,a;if(e.length){if(this.result_clear_highlight(),this.result_highlight=e,this.result_highlight.addClass("highlighted"),n=parseInt(this.search_results.css("maxHeight"),10),a=this.search_results.scrollTop(),o=n+a,i=this.result_highlight.position().top+this.search_results.scrollTop(),(t=i+this.result_highlight.outerHeight())>=o)return this.search_results.scrollTop(t-n>0?t-n:0);if(i<a)return this.search_results.scrollTop(i)}},i.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},i.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.get_search_field_value()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},i.prototype.update_results_content=function(e){return this.search_results.html(e)},i.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),setTimeout(function(e){return function(){return e.focus_field.focus()}}(this),0),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},i.prototype.set_tab_index=function(e){var t,i;if(this.form_field.tabIndex)return i=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=i,null!=(t=this.focus_field[0])?t.tabIndex=i:void 0},i.prototype.set_label_behavior=function(){if(this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=e("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0)return this.form_field_label.on("click.chosen",this.label_click_handler)},i.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},i.prototype.search_results_mouseup=function(t){var i;if(i=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first(),i.length)return this.result_highlight=i,this.result_select(t),this.search_field.focus()},i.prototype.search_results_mouseover=function(t){var i;if(i=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first())return this.result_do_highlight(i)},i.prototype.search_results_mouseout=function(t){if(e(t.target).hasClass("active-result")||e(t.target).parents(".active-result").first())return this.result_clear_highlight()},i.prototype.choice_build=function(t){var i,n;return i=e("<li />",{class:"search-choice"}).html("<span>"+this.choice_label(t)+"</span>"),t.disabled?i.addClass("search-choice-disabled"):(n=e("<a />",{class:"search-choice-close","data-option-array-index":t.array_index}),n.on("click.chosen",function(e){return function(t){return e.choice_destroy_link_click(t)}}(this)),i.append(n)),this.search_container.before(i)},i.prototype.choice_destroy_link_click=function(t){if(t.preventDefault(),t.stopPropagation(),!this.is_disabled)return this.choice_destroy(e(t.target))},i.prototype.choice_destroy=function(e){if(this.result_deselect(e[0].getAttribute("data-option-array-index")))return this.active_field?this.search_field.focus():this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.get_search_field_value().length<1&&this.results_hide(),e.parents("li").first().remove(),this.search_field_scale()},i.prototype.results_reset=function(){if(this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.trigger_form_field_change(),this.active_field)return this.results_hide()},i.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},i.prototype.result_select=function(e){var t,i;if(this.result_highlight)return t=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?t.removeClass("active-result"):this.reset_single_select_options(),t.addClass("result-selected"),i=this.results_data[t[0].getAttribute("data-option-array-index")],i.selected=!0,this.form_field.options[i.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(i):this.single_set_selected_text(this.choice_label(i)),this.is_multiple&&(!this.hide_results_on_select||e.metaKey||e.ctrlKey)?e.metaKey||e.ctrlKey?this.winnow_results({skip_highlight:!0}):(this.search_field.val(""),this.winnow_results()):(this.results_hide(),this.show_search_field_default()),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.trigger_form_field_change({selected:this.form_field.options[i.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,e.preventDefault(),this.search_field_scale())},i.prototype.single_set_selected_text=function(e){return null==e&&(e=this.default_text),e===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").html(e)},i.prototype.result_deselect=function(e){var t;return t=this.results_data[e],!this.form_field.options[t.options_index].disabled&&(t.selected=!1,this.form_field.options[t.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.trigger_form_field_change({deselected:this.form_field.options[t.options_index].value}),this.search_field_scale(),!0)},i.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect)return this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")},i.prototype.get_search_field_value=function(){return this.search_field.val()},i.prototype.get_search_text=function(){return e.trim(this.get_search_field_value())},i.prototype.escape_html=function(t){return e("<div/>").text(t).html()},i.prototype.winnow_results_set_highlight=function(){var e,t;if(t=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),null!=(e=t.length?t.first():this.search_results.find(".active-result").first()))return this.result_do_highlight(e)},i.prototype.no_results=function(e){var t;return t=this.get_no_results_html(e),this.search_results.append(t),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},i.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},i.prototype.keydown_arrow=function(){var e;return this.results_showing&&this.result_highlight?(e=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(e):void 0:this.results_show()},i.prototype.keyup_arrow=function(){var e;return this.results_showing||this.is_multiple?this.result_highlight?(e=this.result_highlight.prevAll("li.active-result"),e.length?this.result_do_highlight(e.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},i.prototype.keydown_backstroke=function(){var e;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(e=this.search_container.siblings("li.search-choice").last(),e.length&&!e.hasClass("search-choice-disabled")?(this.pending_backstroke=e,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},i.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},i.prototype.search_field_scale=function(){var t,i,n,o,a,s,r;if(this.is_multiple){for(a={position:"absolute",left:"-1000px",top:"-1000px",display:"none",whiteSpace:"pre"},s=["fontSize","fontStyle","fontWeight","fontFamily","lineHeight","textTransform","letterSpacing"],i=0,n=s.length;i<n;i++)o=s[i],a[o]=this.search_field.css(o);return t=e("<div />").css(a),t.text(this.get_search_field_value()),e("body").append(t),r=t.width()+25,t.remove(),this.container.is(":visible")&&(r=Math.min(this.container.outerWidth()-10,r)),this.search_field.width(r)}},i.prototype.trigger_form_field_change=function(e){return this.form_field_jq.trigger("input",e),this.form_field_jq.trigger("change",e)},i}(t)}).call(this)},function(e,t){!function(e){e.color={},e.color.make=function(t,i,n,o){var a={};return a.r=t||0,a.g=i||0,a.b=n||0,a.a=null!=o?o:1,a.add=function(e,t){for(var i=0;i<e.length;++i)a[e.charAt(i)]+=t;return a.normalize()},a.scale=function(e,t){for(var i=0;i<e.length;++i)a[e.charAt(i)]*=t;return a.normalize()},a.toString=function(){return a.a>=1?"rgb("+[a.r,a.g,a.b].join(",")+")":"rgba("+[a.r,a.g,a.b,a.a].join(",")+")"},a.normalize=function(){function e(e,t,i){return t<e?e:t>i?i:t}return a.r=e(0,parseInt(a.r),255),a.g=e(0,parseInt(a.g),255),a.b=e(0,parseInt(a.b),255),a.a=e(0,a.a,1),a},a.clone=function(){return e.color.make(a.r,a.b,a.g,a.a)},a.normalize()},e.color.extract=function(t,i){var n;do{if(""!=(n=t.css(i).toLowerCase())&&"transparent"!=n)break;t=t.parent()}while(!e.nodeName(t.get(0),"body"));return"rgba(0, 0, 0, 0)"==n&&(n="transparent"),e.color.parse(n)},e.color.parse=function(i){var n,o=e.color.make;if(n=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(i))return o(parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10));if(n=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(i))return o(parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10),parseFloat(n[4]));if(n=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(i))return o(2.55*parseFloat(n[1]),2.55*parseFloat(n[2]),2.55*parseFloat(n[3]));if(n=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(i))return o(2.55*parseFloat(n[1]),2.55*parseFloat(n[2]),2.55*parseFloat(n[3]),parseFloat(n[4]));if(n=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(i))return o(parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16));if(n=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(i))return o(parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16),parseInt(n[3]+n[3],16));var a=e.trim(i).toLowerCase();return"transparent"==a?o(255,255,255,0):(n=t[a]||[0,0,0],o(n[0],n[1],n[2]))};var t={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}}(jQuery),function(e){function t(t,n,o,a){function s(e,t){t=[ve].concat(t);for(var i=0;i<e.length;++i)e[i].apply(this,t)}function r(e){ie=l(e),f(),_()}function l(t){for(var i=[],n=0;n<t.length;++n){var o=e.extend(!0,{},ne.series);null!=t[n].data?(o.data=t[n].data,delete t[n].data,e.extend(!0,o,t[n]),t[n].data=o.data):o.data=t[n],i.push(o)}return i}function c(e,t){var i=e[t+"axis"];return"object"==typeof i&&(i=i.n),"number"!=typeof i&&(i=1),i}function d(){return e.grep(ce.concat(de),function(e){return e})}function u(e){var t,i,n={};for(t=0;t<ce.length;++t)(i=ce[t])&&i.used&&(n["x"+i.n]=i.c2p(e.left));for(t=0;t<de.length;++t)(i=de[t])&&i.used&&(n["y"+i.n]=i.c2p(e.top));return void 0!==n.x1&&(n.x=n.x1),void 0!==n.y1&&(n.y=n.y1),n}function h(e){var t,i,n,o={};for(t=0;t<ce.length;++t)if((i=ce[t])&&i.used&&(n="x"+i.n,null==e[n]&&1==i.n&&(n="x"),null!=e[n])){o.left=i.p2c(e[n]);break}for(t=0;t<de.length;++t)if((i=de[t])&&i.used&&(n="y"+i.n,null==e[n]&&1==i.n&&(n="y"),null!=e[n])){o.top=i.p2c(e[n]);break}return o}function p(t,i){return t[i-1]||(t[i-1]={n:i,direction:t==ce?"x":"y",options:e.extend(!0,{},t==ce?ne.xaxis:ne.yaxis)}),t[i-1]}function f(){var t,i=ie.length,n=-1;for(t=0;t<ie.length;++t){var o=ie[t].color;null!=o&&(i--,"number"==typeof o&&o>n&&(n=o))}i<=n&&(i=n+1);var a,s=[],r=ne.colors,l=r.length,d=0;for(t=0;t<i;t++)a=e.color.parse(r[t%l]||"#666"),t%l==0&&t&&(d=d>=0?d<.5?-d-.2:0:-d),s[t]=a.scale("rgb",1+d);var u,h=0;for(t=0;t<ie.length;++t){if(u=ie[t],null==u.color?(u.color=s[h].toString(),++h):"number"==typeof u.color&&(u.color=s[u.color].toString()),null==u.lines.show){var f,_=!0;for(f in u)if(u[f]&&u[f].show){_=!1;break}_&&(u.lines.show=!0)}null==u.lines.zero&&(u.lines.zero=!!u.lines.fill),u.xaxis=p(ce,c(u,"x")),u.yaxis=p(de,c(u,"y"))}}function _(){function t(e,t,i){t<e.datamin&&t!=-m&&(e.datamin=t),i>e.datamax&&i!=m&&(e.datamax=i)}var i,n,o,a,r,l,c,u,h,p,f,_,g=Number.POSITIVE_INFINITY,v=Number.NEGATIVE_INFINITY,m=Number.MAX_VALUE;for(e.each(d(),function(e,t){t.datamin=g,t.datamax=v,t.used=!1}),i=0;i<ie.length;++i)r=ie[i],r.datapoints={points:[]},s(ge.processRawData,[r,r.data,r.datapoints]);for(i=0;i<ie.length;++i){if(r=ie[i],f=r.data,!(_=r.datapoints.format)){if(_=[],_.push({x:!0,number:!0,required:!0}),_.push({y:!0,number:!0,required:!0}),r.bars.show||r.lines.show&&r.lines.fill){var b=!!(r.bars.show&&r.bars.zero||r.lines.show&&r.lines.zero);_.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:b}),r.bars.horizontal&&(delete _[_.length-1].y,_[_.length-1].x=!0)}r.datapoints.format=_}if(null==r.datapoints.pointsize){r.datapoints.pointsize=_.length,c=r.datapoints.pointsize,l=r.datapoints.points;var y=r.lines.show&&r.lines.steps;for(r.xaxis.used=r.yaxis.used=!0,n=o=0;n<f.length;++n,o+=c){p=f[n];var x=null==p;if(!x)for(a=0;a<c;++a)u=p[a],h=_[a],h&&(h.number&&null!=u&&(u=+u,isNaN(u)?u=null:u==1/0?u=m:u==-1/0&&(u=-m)),null==u&&(h.required&&(x=!0),null!=h.defaultValue&&(u=h.defaultValue))),l[o+a]=u;if(x)for(a=0;a<c;++a)u=l[o+a],null!=u&&(h=_[a],h.x&&t(r.xaxis,u,u),h.y&&t(r.yaxis,u,u)),l[o+a]=null;else if(y&&o>0&&null!=l[o-c]&&l[o-c]!=l[o]&&l[o-c+1]!=l[o+1]){for(a=0;a<c;++a)l[o+c+a]=l[o+a];l[o+1]=l[o-c+1],o+=c}}}}for(i=0;i<ie.length;++i)r=ie[i],s(ge.processDatapoints,[r,r.datapoints]);for(i=0;i<ie.length;++i){r=ie[i],l=r.datapoints.points,c=r.datapoints.pointsize,_=r.datapoints.format;var w=g,k=g,C=v,j=v;for(n=0;n<l.length;n+=c)if(null!=l[n])for(a=0;a<c;++a)u=l[n+a],(h=_[a])&&!1!==h.autoscale&&u!=m&&u!=-m&&(h.x&&(u<w&&(w=u),u>C&&(C=u)),h.y&&(u<k&&(k=u),u>j&&(j=u)));if(r.bars.show){var T;switch(r.bars.align){case"left":T=0;break;case"right":T=-r.bars.barWidth;break;case"center":T=-r.bars.barWidth/2;break;default:throw new Error("Invalid bar alignment: "+r.bars.align)}r.bars.horizontal?(k+=T,j+=T+r.bars.barWidth):(w+=T,C+=T+r.bars.barWidth)}t(r.xaxis,w,C),t(r.yaxis,k,j)}e.each(d(),function(e,t){t.datamin==g&&(t.datamin=null),t.datamax==v&&(t.datamax=null)})}function g(e){return(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)}function v(i){var n=document.createElement("canvas");if(n.className=i,e(n).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(t),!n.getContext){if(!window.G_vmlCanvasManager)throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");n=window.G_vmlCanvasManager.initElement(n)}var o=n.getContext("2d"),a=g(o);return n.width=he*a,n.height=pe*a,n.style.width=he+"px",n.style.height=pe+"px",o.save(),o.scale(a,a),n}function m(){if(he=t.width(),pe=t.height(),he<=0||pe<=0)throw new Error("Invalid dimensions for plot, width = "+he+", height = "+pe)}function b(e){var t=e.getContext("2d"),i=g(t);e.style.width!=he&&(e.width=he*i,e.style.width=he+"px"),e.style.height!=pe&&(e.height=pe*i,e.style.height=pe+"px"),t.restore(),t.save(),t.scale(i,i)}function y(){be&&clearTimeout(be),se.unbind("mousemove",R),se.unbind("mouseleave",G),se.unbind("click",U),s(ge.shutdown,[se])}function x(e){function t(e){return e}var i,n,o=e.options.transform||t,a=e.options.inverseTransform;"x"==e.direction?(i=e.scale=fe/Math.abs(o(e.max)-o(e.min)),n=Math.min(o(e.max),o(e.min))):(i=e.scale=_e/Math.abs(o(e.max)-o(e.min)),i=-i,n=Math.max(o(e.max),o(e.min))),e.p2c=o==t?function(e){return(e-n)*i}:function(e){return(o(e)-n)*i},e.c2p=a?function(e){return a(n+e/i)}:function(e){return n+e/i}}function w(e){var t=e.options,i=e.ticks||[],n=t.labelWidth||0,o=t.labelHeight||0,a=e.font;re.save(),re.font=a.style+" "+a.variant+" "+a.weight+" "+a.size+"px '"+a.family+"'";for(var s=0;s<i.length;++s){var r=i[s];if(r.lines=[],r.width=r.height=0,r.label){for(var l=(r.label+"").replace(/<br ?\/?>|\r\n|\r/g,"\n").split("\n"),c=0;c<l.length;++c){var d={text:l[c]},u=re.measureText(d.text);d.width=u.width,d.height=null!=u.height?u.height:a.size,d.height+=Math.round(.15*a.size),r.width=Math.max(d.width,r.width),r.height+=d.height,r.lines.push(d)}null==t.labelWidth&&(n=Math.max(n,r.width)),null==t.labelHeight&&(o=Math.max(o,r.height))}}re.restore(),e.labelWidth=Math.ceil(n),e.labelHeight=Math.ceil(o)}function k(t){var i,n=t.labelWidth,o=t.labelHeight,a=t.options.position,s=t.options.tickLength,r=ne.grid.axisMargin,l=ne.grid.labelMargin,c="x"==t.direction?ce:de,d=e.grep(c,function(e){return e&&e.options.position==a&&e.reserveSpace});if(e.inArray(t,d)==d.length-1&&(r=0),null==s){var u=e.grep(c,function(e){return e&&e.reserveSpace});i=0==e.inArray(t,u),s=i?"full":5}isNaN(+s)||(l+=+s),"x"==t.direction?(o+=l,"bottom"==a?(ue.bottom+=o+r,t.box={top:pe-ue.bottom,height:o}):(t.box={top:ue.top+r,height:o},ue.top+=o+r)):(n+=l,"left"==a?(t.box={left:ue.left+r,width:n},ue.left+=n+r):(ue.right+=n+r,t.box={left:he-ue.right,width:n})),t.position=a,t.tickLength=s,t.box.padding=l,t.innermost=i}function C(e){"x"==e.direction?(e.box.left=ue.left-e.labelWidth/2,e.box.width=he-ue.left-ue.right+e.labelWidth):(e.box.top=ue.top-e.labelHeight/2,e.box.height=pe-ue.bottom-ue.top+e.labelHeight)}function j(){var t,i=ne.grid.minBorderMargin,n={x:0,y:0};if(null==i)for(i=0,t=0;t<ie.length;++t)i=Math.max(i,2*(ie[t].points.radius+ie[t].points.lineWidth/2));n.x=n.y=Math.ceil(i),e.each(d(),function(e,t){var i=t.direction;t.reserveSpace&&(n[i]=Math.ceil(Math.max(n[i],("x"==i?t.labelWidth:t.labelHeight)/2)))}),ue.left=Math.max(n.x,ue.left),ue.right=Math.max(n.x,ue.right),ue.top=Math.max(n.y,ue.top),ue.bottom=Math.max(n.y,ue.bottom)}function T(){var i,n=d(),o=ne.grid.show;for(var a in ue){var r=ne.grid.margin||0;ue[a]="number"==typeof r?r:r[a]||0}s(ge.processOffset,[ue]);for(var a in ue)"object"==typeof ne.grid.borderWidth?ue[a]+=o?ne.grid.borderWidth[a]:0:ue[a]+=o?ne.grid.borderWidth:0;if(e.each(n,function(e,t){t.show=t.options.show,null==t.show&&(t.show=t.used),t.reserveSpace=t.show||t.options.reserveSpace,S(t)}),o){var l={style:t.css("font-style"),size:Math.round(.8*(+t.css("font-size").replace("px","")||13)),variant:t.css("font-variant"),weight:t.css("font-weight"),family:t.css("font-family")},c=e.grep(n,function(e){return e.reserveSpace});for(e.each(c,function(t,i){M(i),I(i),z(i,i.ticks),i.font=e.extend({},l,i.options.font),w(i)}),i=c.length-1;i>=0;--i)k(c[i]);j(),e.each(c,function(e,t){C(t)})}fe=he-ue.left-ue.right,_e=pe-ue.bottom-ue.top,e.each(n,function(e,t){x(t)}),L()}function S(e){var t=e.options,i=+(null!=t.min?t.min:e.datamin),n=+(null!=t.max?t.max:e.datamax),o=n-i;if(0==o){var a=0==n?1:.01;null==t.min&&(i-=a),null!=t.max&&null==t.min||(n+=a)}else{var s=t.autoscaleMargin;null!=s&&(null==t.min&&(i-=o*s)<0&&null!=e.datamin&&e.datamin>=0&&(i=0),null==t.max&&(n+=o*s)>0&&null!=e.datamax&&e.datamax<=0&&(n=0))}e.min=i,e.max=n}function M(t){var n,o=t.options;if(n="number"==typeof o.ticks&&o.ticks>0?o.ticks:.3*Math.sqrt("x"==t.direction?he:pe),t.delta=(t.max-t.min)/n,"time"==o.mode&&!t.tickGenerator)throw new Error("Time mode requires the flot.time plugin.");if(t.tickGenerator||(t.tickGenerator=function(e){var t=o.tickDecimals,n=-Math.floor(Math.log(e.delta)/Math.LN10);null!=t&&n>t&&(n=t);var a,s,r,l=Math.pow(10,-n),c=e.delta/l,d=[],u=0,h=Number.NaN;c<1.5?a=1:c<3?(a=2,c>2.25&&(null==t||n+1<=t)&&(a=2.5,++n)):a=c<7.5?5:10,a*=l,null!=o.minTickSize&&a<o.minTickSize&&(a=o.minTickSize),e.tickDecimals=Math.max(0,null!=t?t:n),e.tickSize=o.tickSize||a,s=i(e.min,e.tickSize);do{r=h,h=s+u*e.tickSize,d.push(h),++u}while(h<e.max&&h!=r);return d},t.tickFormatter=function(e,t){var i=t.tickDecimals?Math.pow(10,t.tickDecimals):1,n=""+Math.round(e*i)/i;if(null!=t.tickDecimals){var o=n.indexOf("."),a=-1==o?0:n.length-o-1;if(a<t.tickDecimals)return(a?n:n+".")+(""+i).substr(1,t.tickDecimals-a)}return n}),e.isFunction(o.tickFormatter)&&(t.tickFormatter=function(e,t){return""+o.tickFormatter(e,t)}),null!=o.alignTicksWithAxis){var a=("x"==t.direction?ce:de)[o.alignTicksWithAxis-1];if(a&&a.used&&a!=t){var s=t.tickGenerator(t);if(s.length>0&&(null==o.min&&(t.min=Math.min(t.min,s[0])),null==o.max&&s.length>1&&(t.max=Math.max(t.max,s[s.length-1]))),t.tickGenerator=function(e){var t,i,n=[];for(i=0;i<a.ticks.length;++i)t=(a.ticks[i].v-a.min)/(a.max-a.min),t=e.min+t*(e.max-e.min),n.push(t);return n},!t.mode&&null==o.tickDecimals){var r=Math.max(0,1-Math.floor(Math.log(t.delta)/Math.LN10)),l=t.tickGenerator(t);l.length>1&&/\..*0$/.test((l[1]-l[0]).toFixed(r))||(t.tickDecimals=r)}}}}function I(t){var i=t.options.ticks,n=[];null==i||"number"==typeof i&&i>0?n=t.tickGenerator(t):i&&(n=e.isFunction(i)?i(t):i);var o,a;for(t.ticks=[],o=0;o<n.length;++o){var s=null,r=n[o];"object"==typeof r?(a=+r[0],r.length>1&&(s=r[1])):a=+r,null==s&&(s=t.tickFormatter(a,t)),isNaN(a)||t.ticks.push({v:a,label:s})}}function z(e,t){e.options.autoscaleMargin&&t.length>0&&(null==e.options.min&&(e.min=Math.min(e.min,t[0].v)),null==e.options.max&&t.length>1&&(e.max=Math.max(e.max,t[t.length-1].v)))}function P(){re.clearRect(0,0,he,pe),s(ge.drawBackground,[re]);var e=ne.grid;e.show&&e.backgroundColor&&A(),e.show&&!e.aboveData&&(D(),E());for(var t=0;t<ie.length;++t)s(ge.drawSeries,[re,ie[t]]),Q(ie[t]);s(ge.draw,[re]),e.show&&e.aboveData&&(D(),E())}function O(e,t){for(var i,n,o,a,s=d(),r=0;r<s.length;++r)if(i=s[r],i.direction==t&&(a=t+i.n+"axis",e[a]||1!=i.n||(a=t+"axis"),e[a])){n=e[a].from,o=e[a].to;break}if(e[a]||(i="x"==t?ce[0]:de[0],n=e[t+"1"],o=e[t+"2"]),null!=n&&null!=o&&n>o){var l=n;n=o,o=l}return{from:n,to:o,axis:i}}function A(){re.save(),re.translate(ue.left,ue.top),re.fillStyle=te(ne.grid.backgroundColor,_e,0,"rgba(255, 255, 255, 0)"),re.fillRect(0,0,fe,_e),re.restore()}function D(){var t,i,n,o;re.save(),re.translate(ue.left,ue.top);var a=ne.grid.markings;if(a)for(e.isFunction(a)&&(i=ve.getAxes(),i.xmin=i.xaxis.min,i.xmax=i.xaxis.max,i.ymin=i.yaxis.min,i.ymax=i.yaxis.max,a=a(i)),t=0;t<a.length;++t){var s=a[t],r=O(s,"x"),l=O(s,"y");null==r.from&&(r.from=r.axis.min),null==r.to&&(r.to=r.axis.max),null==l.from&&(l.from=l.axis.min),null==l.to&&(l.to=l.axis.max),r.to<r.axis.min||r.from>r.axis.max||l.to<l.axis.min||l.from>l.axis.max||(r.from=Math.max(r.from,r.axis.min),r.to=Math.min(r.to,r.axis.max),l.from=Math.max(l.from,l.axis.min),l.to=Math.min(l.to,l.axis.max),r.from==r.to&&l.from==l.to||(r.from=r.axis.p2c(r.from),r.to=r.axis.p2c(r.to),l.from=l.axis.p2c(l.from),l.to=l.axis.p2c(l.to),r.from==r.to||l.from==l.to?(re.beginPath(),re.strokeStyle=s.color||ne.grid.markingsColor,re.lineWidth=s.lineWidth||ne.grid.markingsLineWidth,re.moveTo(r.from,l.from),re.lineTo(r.to,l.to),re.stroke()):(re.fillStyle=s.color||ne.grid.markingsColor,re.fillRect(r.from,l.to,r.to-r.from,l.from-l.to))))}i=d(),n=ne.grid.borderWidth;for(var c=0;c<i.length;++c){var u,h,p,f,_=i[c],g=_.box,v=_.tickLength;if(_.show&&0!=_.ticks.length){for(re.strokeStyle=_.options.tickColor||e.color.parse(_.options.color).scale("a",.22).toString(),re.lineWidth=1,"x"==_.direction?(u=0,h="full"==v?"top"==_.position?0:_e:g.top-ue.top+("top"==_.position?g.height:0)):(h=0,u="full"==v?"left"==_.position?0:fe:g.left-ue.left+("left"==_.position?g.width:0)),_.innermost||(re.beginPath(),p=f=0,"x"==_.direction?p=fe:f=_e,1==re.lineWidth&&(u=Math.floor(u)+.5,h=Math.floor(h)+.5),re.moveTo(u,h),re.lineTo(u+p,h+f),re.stroke()),re.beginPath(),t=0;t<_.ticks.length;++t){var m=_.ticks[t].v;p=f=0,isNaN(m)||m<_.min||m>_.max||"full"==v&&("object"==typeof n&&n[_.position]>0||n>0)&&(m==_.min||m==_.max)||("x"==_.direction?(u=_.p2c(m),f="full"==v?-_e:v,"top"==_.position&&(f=-f)):(h=_.p2c(m),p="full"==v?-fe:v,"left"==_.position&&(p=-p)),1==re.lineWidth&&("x"==_.direction?u=Math.floor(u)+.5:h=Math.floor(h)+.5),re.moveTo(u,h),re.lineTo(u+p,h+f))}re.stroke()}}n&&(o=ne.grid.borderColor,"object"==typeof n||"object"==typeof o?("object"!=typeof n&&(n={top:n,right:n,bottom:n,left:n}),"object"!=typeof o&&(o={top:o,right:o,bottom:o,left:o}),n.top>0&&(re.strokeStyle=o.top,re.lineWidth=n.top,re.beginPath(),re.moveTo(0-n.left,0-n.top/2),re.lineTo(fe,0-n.top/2),re.stroke()),n.right>0&&(re.strokeStyle=o.right,re.lineWidth=n.right,re.beginPath(),re.moveTo(fe+n.right/2,0-n.top),re.lineTo(fe+n.right/2,_e),re.stroke()),n.bottom>0&&(re.strokeStyle=o.bottom,re.lineWidth=n.bottom,re.beginPath(),re.moveTo(fe+n.right,_e+n.bottom/2),re.lineTo(0,_e+n.bottom/2),re.stroke()),n.left>0&&(re.strokeStyle=o.left,re.lineWidth=n.left,re.beginPath(),re.moveTo(0-n.left/2,_e+n.bottom),re.lineTo(0-n.left/2,0),re.stroke())):(re.lineWidth=n,re.strokeStyle=ne.grid.borderColor,re.strokeRect(-n/2,-n/2,fe+n,_e+n))),re.restore()}function E(){re.save(),e.each(d(),function(e,t){if(t.show&&0!=t.ticks.length){var i=t.box,n=t.font;re.fillStyle=t.options.color,re.font=n.style+" "+n.variant+" "+n.weight+" "+n.size+"px "+n.family,re.textAlign="start",re.textBaseline="middle";for(var o=0;o<t.ticks.length;++o){var a=t.ticks[o];if(!(!a.label||a.v<t.min||a.v>t.max))for(var s,r,l,c=0,d=0;d<a.lines.length;++d)l=a.lines[d],"x"==t.direction?(s=ue.left+t.p2c(a.v)-l.width/2,r="bottom"==t.position?i.top+i.padding:i.top+i.height-i.padding-a.height):(r=ue.top+t.p2c(a.v)-a.height/2,s="left"==t.position?i.left+i.width-i.padding-l.width:i.left+i.padding),r+=l.height/2+c,c+=l.height,window.opera&&window.opera.version().split(".")[0]<12&&(s=Math.floor(s),r=Math.ceil(r-2)),re.fillText(l.text,s,r)}}}),re.restore()}function Q(e){e.lines.show&&W(e),e.bars.show&&N(e),e.points.show&&q(e)}function W(e){function t(e,t,i,n,o){var a=e.points,s=e.pointsize,r=null,l=null;re.beginPath();for(var c=s;c<a.length;c+=s){var d=a[c-s],u=a[c-s+1],h=a[c],p=a[c+1];if(null!=d&&null!=h){if(u<=p&&u<o.min){if(p<o.min)continue;d=(o.min-u)/(p-u)*(h-d)+d,u=o.min}else if(p<=u&&p<o.min){if(u<o.min)continue;h=(o.min-u)/(p-u)*(h-d)+d,p=o.min}if(u>=p&&u>o.max){if(p>o.max)continue;d=(o.max-u)/(p-u)*(h-d)+d,u=o.max}else if(p>=u&&p>o.max){if(u>o.max)continue;h=(o.max-u)/(p-u)*(h-d)+d,p=o.max}if(d<=h&&d<n.min){if(h<n.min)continue;u=(n.min-d)/(h-d)*(p-u)+u,d=n.min}else if(h<=d&&h<n.min){if(d<n.min)continue;p=(n.min-d)/(h-d)*(p-u)+u,h=n.min}if(d>=h&&d>n.max){if(h>n.max)continue;u=(n.max-d)/(h-d)*(p-u)+u,d=n.max}else if(h>=d&&h>n.max){if(d>n.max)continue;p=(n.max-d)/(h-d)*(p-u)+u,h=n.max}d==r&&u==l||re.moveTo(n.p2c(d)+t,o.p2c(u)+i),r=h,l=p,re.lineTo(n.p2c(h)+t,o.p2c(p)+i)}}re.stroke()}re.save(),re.translate(ue.left,ue.top),re.lineJoin="round";var i=e.lines.lineWidth,n=e.shadowSize;if(i>0&&n>0){re.lineWidth=n,re.strokeStyle="rgba(0,0,0,0.1)";var o=Math.PI/18;t(e.datapoints,Math.sin(o)*(i/2+n/2),Math.cos(o)*(i/2+n/2),e.xaxis,e.yaxis),re.lineWidth=n/2,t(e.datapoints,Math.sin(o)*(i/2+n/4),Math.cos(o)*(i/2+n/4),e.xaxis,e.yaxis)}re.lineWidth=i,re.strokeStyle=e.color;var a=B(e.lines,e.color,0,_e);a&&(re.fillStyle=a,function(e,t,i){for(var n=e.points,o=e.pointsize,a=Math.min(Math.max(0,i.min),i.max),s=0,r=!1,l=1,c=0,d=0;!(o>0&&s>n.length+o);){s+=o;var u=n[s-o],h=n[s-o+l],p=n[s],f=n[s+l];if(r){if(o>0&&null!=u&&null==p){d=s,o=-o,l=2;continue}if(o<0&&s==c+o){re.fill(),r=!1,o=-o,l=1,s=c=d+o;continue}}if(null!=u&&null!=p){if(u<=p&&u<t.min){if(p<t.min)continue;h=(t.min-u)/(p-u)*(f-h)+h,u=t.min}else if(p<=u&&p<t.min){if(u<t.min)continue;f=(t.min-u)/(p-u)*(f-h)+h,p=t.min}if(u>=p&&u>t.max){if(p>t.max)continue;h=(t.max-u)/(p-u)*(f-h)+h,u=t.max}else if(p>=u&&p>t.max){if(u>t.max)continue;f=(t.max-u)/(p-u)*(f-h)+h,p=t.max}if(r||(re.beginPath(),re.moveTo(t.p2c(u),i.p2c(a)),r=!0),h>=i.max&&f>=i.max)re.lineTo(t.p2c(u),i.p2c(i.max)),re.lineTo(t.p2c(p),i.p2c(i.max));else if(h<=i.min&&f<=i.min)re.lineTo(t.p2c(u),i.p2c(i.min)),re.lineTo(t.p2c(p),i.p2c(i.min));else{var _=u,g=p;h<=f&&h<i.min&&f>=i.min?(u=(i.min-h)/(f-h)*(p-u)+u,h=i.min):f<=h&&f<i.min&&h>=i.min&&(p=(i.min-h)/(f-h)*(p-u)+u,f=i.min),h>=f&&h>i.max&&f<=i.max?(u=(i.max-h)/(f-h)*(p-u)+u,h=i.max):f>=h&&f>i.max&&h<=i.max&&(p=(i.max-h)/(f-h)*(p-u)+u,f=i.max),u!=_&&re.lineTo(t.p2c(_),i.p2c(h)),re.lineTo(t.p2c(u),i.p2c(h)),re.lineTo(t.p2c(p),i.p2c(f)),p!=g&&(re.lineTo(t.p2c(p),i.p2c(f)),re.lineTo(t.p2c(g),i.p2c(f)))}}}}(e.datapoints,e.xaxis,e.yaxis)),i>0&&t(e.datapoints,0,0,e.xaxis,e.yaxis),re.restore()}function q(e){function t(e,t,i,n,o,a,s,r){for(var l=e.points,c=e.pointsize,d=0;d<l.length;d+=c){var u=l[d],h=l[d+1];null==u||u<a.min||u>a.max||h<s.min||h>s.max||(re.beginPath(),u=a.p2c(u),h=s.p2c(h)+n,"circle"==r?re.arc(u,h,t,0,o?Math.PI:2*Math.PI,!1):r(re,u,h,t,o),re.closePath(),i&&(re.fillStyle=i,re.fill()),re.stroke())}}re.save(),re.translate(ue.left,ue.top);var i=e.points.lineWidth,n=e.shadowSize,o=e.points.radius,a=e.points.symbol;if(0==i&&(i=1e-4),i>0&&n>0){var s=n/2;re.lineWidth=s,re.strokeStyle="rgba(0,0,0,0.1)",t(e.datapoints,o,null,s+s/2,!0,e.xaxis,e.yaxis,a),re.strokeStyle="rgba(0,0,0,0.2)",t(e.datapoints,o,null,s/2,!0,e.xaxis,e.yaxis,a)}re.lineWidth=i,re.strokeStyle=e.color,t(e.datapoints,o,B(e.points,e.color),0,!1,e.xaxis,e.yaxis,a),re.restore()}function F(e,t,i,n,o,a,s,r,l,c,d,u){var h,p,f,_,g,v,m,b,y;d?(b=v=m=!0,g=!1,h=i,p=e,_=t+n,f=t+o,p<h&&(y=p,p=h,h=y,g=!0,v=!1)):(g=v=m=!0,b=!1,h=e+n,p=e+o,f=i,(_=t)<f&&(y=_,_=f,f=y,b=!0,m=!1)),p<r.min||h>r.max||_<l.min||f>l.max||(h<r.min&&(h=r.min,g=!1),p>r.max&&(p=r.max,v=!1),f<l.min&&(f=l.min,b=!1),_>l.max&&(_=l.max,m=!1),h=r.p2c(h),f=l.p2c(f),p=r.p2c(p),_=l.p2c(_),s&&(c.beginPath(),c.moveTo(h,f),c.lineTo(h,_),c.lineTo(p,_),c.lineTo(p,f),c.fillStyle=s(f,_),c.fill()),u>0&&(g||v||m||b)&&(c.beginPath(),c.moveTo(h,f+a),g?c.lineTo(h,_+a):c.moveTo(h,_+a),m?c.lineTo(p,_+a):c.moveTo(p,_+a),v?c.lineTo(p,f+a):c.moveTo(p,f+a),b?c.lineTo(h,f+a):c.moveTo(h,f+a),c.stroke()))}function N(e){re.save(),re.translate(ue.left,ue.top),re.lineWidth=e.bars.lineWidth,re.strokeStyle=e.color;var t;switch(e.bars.align){case"left":t=0;break;case"right":t=-e.bars.barWidth;break;case"center":t=-e.bars.barWidth/2;break;default:throw new Error("Invalid bar alignment: "+e.bars.align)}var i=e.bars.fill?function(t,i){return B(e.bars,e.color,t,i)}:null;!function(t,i,n,o,a,s,r){for(var l=t.points,c=t.pointsize,d=0;d<l.length;d+=c)null!=l[d]&&F(l[d],l[d+1],l[d+2],i,n,o,a,s,r,re,e.bars.horizontal,e.bars.lineWidth)}(e.datapoints,t,t+e.bars.barWidth,0,i,e.xaxis,e.yaxis),re.restore()}function B(t,i,n,o){var a=t.fill;if(!a)return null;if(t.fillColor)return te(t.fillColor,n,o,i);var s=e.color.parse(i);return s.a="number"==typeof a?a:.4,s.normalize(),s.toString()}function L(){if(t.find(".legend").remove(),ne.legend.show){for(var i,n,o=[],a=[],s=!1,r=ne.legend.labelFormatter,l=0;l<ie.length;++l)i=ie[l],i.label&&(n=r?r(i.label,i):i.label)&&a.push({label:n,color:i.color});if(ne.legend.sorted)if(e.isFunction(ne.legend.sorted))a.sort(ne.legend.sorted);else if("reverse"==ne.legend.sorted)a.reverse();else{var c="descending"!=ne.legend.sorted;a.sort(function(e,t){return e.label==t.label?0:e.label<t.label!=c?1:-1})}for(var l=0;l<a.length;++l){var d=a[l];l%ne.legend.noColumns==0&&(s&&o.push("</tr>"),o.push("<tr>"),s=!0),o.push('<td class="legendColorBox"><div style="border:1px solid '+ne.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+d.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+d.label+"</td>")}if(s&&o.push("</tr>"),0!=o.length){var u='<table style="font-size:smaller;color:'+ne.grid.color+'">'+o.join("")+"</table>";if(null!=ne.legend.container)e(ne.legend.container).html(u);else{var h="",p=ne.legend.position,f=ne.legend.margin;null==f[0]&&(f=[f,f]),"n"==p.charAt(0)?h+="top:"+(f[1]+ue.top)+"px;":"s"==p.charAt(0)&&(h+="bottom:"+(f[1]+ue.bottom)+"px;"),"e"==p.charAt(1)?h+="right:"+(f[0]+ue.right)+"px;":"w"==p.charAt(1)&&(h+="left:"+(f[0]+ue.left)+"px;");var _=e('<div class="legend">'+u.replace('style="','style="position:absolute;'+h+";")+"</div>").appendTo(t);if(0!=ne.legend.backgroundOpacity){var g=ne.legend.backgroundColor;null==g&&(g=ne.grid.backgroundColor,g=g&&"string"==typeof g?e.color.parse(g):e.color.extract(_,"background-color"),g.a=1,g=g.toString());var v=_.children();e('<div style="position:absolute;width:'+v.width()+"px;height:"+v.height()+"px;"+h+"background-color:"+g+';"> </div>').prependTo(_).css("opacity",ne.legend.backgroundOpacity)}}}}}function H(e,t,i){var n,o,a,s=ne.grid.mouseActiveRadius,r=s*s+1,l=null;for(n=ie.length-1;n>=0;--n)if(i(ie[n])){var c=ie[n],d=c.xaxis,u=c.yaxis,h=c.datapoints.points,p=d.c2p(e),f=u.c2p(t),_=s/d.scale,g=s/u.scale;if(a=c.datapoints.pointsize,d.options.inverseTransform&&(_=Number.MAX_VALUE),u.options.inverseTransform&&(g=Number.MAX_VALUE),c.lines.show||c.points.show)for(o=0;o<h.length;o+=a){var v=h[o],m=h[o+1];if(null!=v&&!(v-p>_||v-p<-_||m-f>g||m-f<-g)){var b=Math.abs(d.p2c(v)-e),y=Math.abs(u.p2c(m)-t),x=b*b+y*y;x<r&&(r=x,l=[n,o/a])}}if(c.bars.show&&!l){var w="left"==c.bars.align?0:-c.bars.barWidth/2,k=w+c.bars.barWidth;for(o=0;o<h.length;o+=a){var v=h[o],m=h[o+1],C=h[o+2];null!=v&&((ie[n].bars.horizontal?p<=Math.max(C,v)&&p>=Math.min(C,v)&&f>=m+w&&f<=m+k:p>=v+w&&p<=v+k&&f>=Math.min(C,m)&&f<=Math.max(C,m))&&(l=[n,o/a]))}}}return l?(n=l[0],o=l[1],a=ie[n].datapoints.pointsize,{datapoint:ie[n].datapoints.points.slice(o*a,(o+1)*a),dataIndex:o,series:ie[n],seriesIndex:n}):null}function R(e){ne.grid.hoverable&&Y("plothover",e,function(e){return 0!=e.hoverable})}function G(e){ne.grid.hoverable&&Y("plothover",e,function(e){return!1})}function U(e){Y("plotclick",e,function(e){return 0!=e.clickable})}function Y(e,i,n){var o=se.offset(),a=i.pageX-o.left-ue.left,s=i.pageY-o.top-ue.top,r=u({left:a,top:s});r.pageX=i.pageX,r.pageY=i.pageY;var l=H(a,s,n);if(l&&(l.pageX=parseInt(l.series.xaxis.p2c(l.datapoint[0])+o.left+ue.left,10),l.pageY=parseInt(l.series.yaxis.p2c(l.datapoint[1])+o.top+ue.top,10)),ne.grid.autoHighlight){for(var c=0;c<me.length;++c){var d=me[c];d.auto!=e||l&&d.series==l.series&&d.point[0]==l.datapoint[0]&&d.point[1]==l.datapoint[1]||Z(d.series,d.point)}l&&V(l.series,l.datapoint,e)}t.trigger(e,[r,l])}function K(){var e=ne.interaction.redrawOverlayInterval;if(-1==e)return void X();be||(be=setTimeout(X,e))}function X(){be=null,le.save(),le.clearRect(0,0,he,pe),le.translate(ue.left,ue.top);var e,t;for(e=0;e<me.length;++e)t=me[e],t.series.bars.show?ee(t.series,t.point):$(t.series,t.point);le.restore(),s(ge.drawOverlay,[le])}function V(e,t,i){if("number"==typeof e&&(e=ie[e]),"number"==typeof t){var n=e.datapoints.pointsize;t=e.datapoints.points.slice(n*t,n*(t+1))}var o=J(e,t);-1==o?(me.push({series:e,point:t,auto:i}),K()):i||(me[o].auto=!1)}function Z(e,t){null==e&&null==t&&(me=[],K()),"number"==typeof e&&(e=ie[e]),"number"==typeof t&&(t=e.data[t]);var i=J(e,t);-1!=i&&(me.splice(i,1),K())}function J(e,t){for(var i=0;i<me.length;++i){var n=me[i];if(n.series==e&&n.point[0]==t[0]&&n.point[1]==t[1])return i}return-1}function $(t,i){var n=i[0],o=i[1],a=t.xaxis,s=t.yaxis,r="string"==typeof t.highlightColor?t.highlightColor:e.color.parse(t.color).scale("a",.5).toString();if(!(n<a.min||n>a.max||o<s.min||o>s.max)){var l=t.points.radius+t.points.lineWidth/2;le.lineWidth=l,le.strokeStyle=r;var c=1.5*l;n=a.p2c(n),o=s.p2c(o),le.beginPath(),"circle"==t.points.symbol?le.arc(n,o,c,0,2*Math.PI,!1):t.points.symbol(le,n,o,c,!1),le.closePath(),le.stroke()}}function ee(t,i){var n="string"==typeof t.highlightColor?t.highlightColor:e.color.parse(t.color).scale("a",.5).toString(),o=n,a="left"==t.bars.align?0:-t.bars.barWidth/2;le.lineWidth=t.bars.lineWidth,le.strokeStyle=n,F(i[0],i[1],i[2]||0,a,a+t.bars.barWidth,0,function(){return o},t.xaxis,t.yaxis,le,t.bars.horizontal,t.bars.lineWidth)}function te(t,i,n,o){if("string"==typeof t)return t;for(var a=re.createLinearGradient(0,n,0,i),s=0,r=t.colors.length;s<r;++s){var l=t.colors[s];if("string"!=typeof l){var c=e.color.parse(o);null!=l.brightness&&(c=c.scale("rgb",l.brightness)),null!=l.opacity&&(c.a*=l.opacity),l=c.toString()}a.addColorStop(s/(r-1),l)}return a}var ie=[],ne={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,timezone:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null,monthNames:null,timeformat:null,twelveHourClock:!1},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1,zero:!0},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},interaction:{redrawOverlayInterval:1e3/60},hooks:{}},oe=null,ae=null,se=null,re=null,le=null,ce=[],de=[],ue={left:0,right:0,top:0,bottom:0},he=0,pe=0,fe=0,_e=0,ge={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},ve=this;ve.setData=r,ve.setupGrid=T,ve.draw=P,ve.getPlaceholder=function(){return t},ve.getCanvas=function(){return oe},ve.getPlotOffset=function(){return ue},ve.width=function(){return fe},ve.height=function(){return _e},ve.offset=function(){var e=se.offset();return e.left+=ue.left,e.top+=ue.top,e},ve.getData=function(){return ie},ve.getAxes=function(){var t={};return e.each(ce.concat(de),function(e,i){i&&(t[i.direction+(1!=i.n?i.n:"")+"axis"]=i)}),t},ve.getXAxes=function(){return ce},ve.getYAxes=function(){return de},ve.c2p=u,ve.p2c=h,ve.getOptions=function(){return ne},ve.highlight=V,ve.unhighlight=Z,ve.triggerRedrawOverlay=K,ve.pointOffset=function(e){return{left:parseInt(ce[c(e,"x")-1].p2c(+e.x)+ue.left,10),top:parseInt(de[c(e,"y")-1].p2c(+e.y)+ue.top,10)}},ve.shutdown=y,ve.resize=function(){m(),b(oe),b(ae)},ve.hooks=ge,function(){for(var t=0;t<a.length;++t){var i=a[t];i.init(ve),i.options&&e.extend(!0,ne,i.options)}}(),function(t){var i;for(e.extend(!0,ne,t),null==ne.xaxis.color&&(ne.xaxis.color=ne.grid.color),null==ne.yaxis.color&&(ne.yaxis.color=ne.grid.color),null==ne.xaxis.tickColor&&(ne.xaxis.tickColor=ne.grid.tickColor),null==ne.yaxis.tickColor&&(ne.yaxis.tickColor=ne.grid.tickColor),null==ne.grid.borderColor&&(ne.grid.borderColor=ne.grid.color),null==ne.grid.tickColor&&(ne.grid.tickColor=e.color.parse(ne.grid.color).scale("a",.22).toString()),i=0;i<Math.max(1,ne.xaxes.length);++i)ne.xaxes[i]=e.extend(!0,{},ne.xaxis,ne.xaxes[i]);for(i=0;i<Math.max(1,ne.yaxes.length);++i)ne.yaxes[i]=e.extend(!0,{},ne.yaxis,ne.yaxes[i]);for(ne.xaxis.noTicks&&null==ne.xaxis.ticks&&(ne.xaxis.ticks=ne.xaxis.noTicks),ne.yaxis.noTicks&&null==ne.yaxis.ticks&&(ne.yaxis.ticks=ne.yaxis.noTicks),ne.x2axis&&(ne.xaxes[1]=e.extend(!0,{},ne.xaxis,ne.x2axis),ne.xaxes[1].position="top"),ne.y2axis&&(ne.yaxes[1]=e.extend(!0,{},ne.yaxis,ne.y2axis),ne.yaxes[1].position="right"),ne.grid.coloredAreas&&(ne.grid.markings=ne.grid.coloredAreas),ne.grid.coloredAreasColor&&(ne.grid.markingsColor=ne.grid.coloredAreasColor),ne.lines&&e.extend(!0,ne.series.lines,ne.lines),ne.points&&e.extend(!0,ne.series.points,ne.points),ne.bars&&e.extend(!0,ne.series.bars,ne.bars),null!=ne.shadowSize&&(ne.series.shadowSize=ne.shadowSize),null!=ne.highlightColor&&(ne.series.highlightColor=ne.highlightColor),i=0;i<ne.xaxes.length;++i)p(ce,i+1).options=ne.xaxes[i];for(i=0;i<ne.yaxes.length;++i)p(de,i+1).options=ne.yaxes[i];for(var n in ge)ne.hooks[n]&&ne.hooks[n].length&&(ge[n]=ge[n].concat(ne.hooks[n]));s(ge.processOptions,[ne])}(o),function(){var i,n=t.children("canvas.flot-base"),o=t.children("canvas.flot-overlay");0==n.length||0==o?(t.html(""),t.css({padding:0}),"static"==t.css("position")&&t.css("position","relative"),m(),oe=v("flot-base"),ae=v("flot-overlay"),i=!1):(oe=n.get(0),ae=o.get(0),i=!0),re=oe.getContext("2d"),le=ae.getContext("2d"),se=e(ae),i&&(t.data("plot").shutdown(),ve.resize(),le.clearRect(0,0,he,pe),se.unbind(),t.children().not([oe,ae]).remove()),t.data("plot",ve)}(),r(n),T(),P(),function(){ne.grid.hoverable&&(se.mousemove(R),se.bind("mouseleave",G)),ne.grid.clickable&&se.click(U),s(ge.bindEvents,[se])}();var me=[],be=null}function i(e,t){return t*Math.floor(e/t)}e.plot=function(i,n,o){return new t(e(i),n,o,e.plot.plugins)},e.plot.version="0.8-alpha",e.plot.plugins=[],e.fn.plot=function(t,i){return this.each(function(){e.plot(this,t,i)})}}(jQuery)},function(e,t){!function(e){function t(e){function t(e,t,o){var s=null;if(i(t)&&(c(t),n(e),a(e),l(t),g>=2)){var r=d(t),v=0,b=u();void 0===x[t.bars.order]&&(h(r)?x[t.bars.order]=-1*p(_,r-1,Math.floor(g/2)-1)-b:x[t.bars.order]=p(_,Math.ceil(g/2),r-2)+b+2*m),v=x[t.bars.order],s=f(o,t,v),o.points=s}return s}function i(e){return null!=e.bars&&e.bars.show&&null!=e.bars.order}function n(e){var t=y?e.getPlaceholder().innerHeight():e.getPlaceholder().innerWidth(),i=y?o(e.getData(),1):o(e.getData(),0),n=i[1]-i[0];b=n/t}function o(e,t){for(var i=new Array,n=0;n<e.length;n++)i[0]=e[n].data[0]?e[n].data[0][t]:null,i[1]=e[n].data[e[n].data.length-1]?e[n].data[e[n].data.length-1][t]:null;return i}function a(e){_=s(e.getData()),g=_.length}function s(e){for(var t=new Array,i=[],n=0;n<e.length;n++)null!=e[n].bars.order&&e[n].bars.show&&i.indexOf(e[n].bars.order)<0&&(i.push(e[n].bars.order),t.push(e[n]));return t.sort(r)}function r(e,t){var i=e.bars.order,n=t.bars.order;return i<n?-1:i>n?1:0}function l(e){v=void 0!==e.bars.lineWidth?e.bars.lineWidth:2,m=v*b}function c(e){e.bars.horizontal&&(y=!0)}function d(e){for(var t=0,i=0;i<_.length;++i)if(e==_[i]){t=i;break}return t+1}function u(){var e=0;return g%2!=0&&(e=_[Math.ceil(g/2)].bars.barWidth/2),e}function h(e){return e<=Math.ceil(g/2)}function p(e,t,i){for(var n=0,o=t;o<=i;o++)n+=e[o].bars.barWidth+2*m;return n}function f(e,t,i){for(var n=e.pointsize,o=e.points,a=0,s=y?1:0;s<o.length;s+=n)o[s]+=i,t.data[a][3]=o[s],a++;return o}var _,g,v,m,b=1,y=!1,x={};e.hooks.processDatapoints.push(t)}var i={series:{bars:{order:null}}};e.plot.plugins.push({init:t,options:i,name:"orderBars",version:"0.2"})}(jQuery)},function(e,t){!function(e){function t(e,t){return t*Math.floor(e/t)}function i(e,t,i,n){if("function"==typeof e.strftime)return e.strftime(t);var o=function(e,t){return e=""+e,t=""+(null==t?"0":t),1==e.length?t+e:e},a=[],s=!1,r=e.getHours(),l=r<12;null==i&&(i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),null==n&&(n=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]);var c;c=r>12?r-12:0==r?12:r;for(var d=0;d<t.length;++d){var u=t.charAt(d);if(s){switch(u){case"a":u=""+n[e.getDay()];break;case"b":u=""+i[e.getMonth()];break;case"d":u=o(e.getDate());break;case"e":u=o(e.getDate()," ");break;case"H":u=o(r);break;case"I":u=o(c);break;case"l":u=o(c," ");break;case"m":u=o(e.getMonth()+1);break;case"M":u=o(e.getMinutes());break;case"q":u=""+(Math.floor(e.getMonth()/3)+1);break;case"S":u=o(e.getSeconds());break;case"y":u=o(e.getFullYear()%100);break;case"Y":u=""+e.getFullYear();break;case"p":u=l?"am":"pm";break;case"P":u=l?"AM":"PM";break;case"w":u=""+e.getDay()}a.push(u),s=!1}else"%"==u?s=!0:a.push(u)}return a.join("")}function n(e){function t(e,t,i,n){e[t]=function(){return i[n].apply(i,arguments)}}var i={date:e};void 0!=e.strftime&&t(i,"strftime",e,"strftime"),t(i,"getTime",e,"getTime"),t(i,"setTime",e,"setTime");for(var n=["Date","Day","FullYear","Hours","Milliseconds","Minutes","Month","Seconds"],o=0;o<n.length;o++)t(i,"get"+n[o],e,"getUTC"+n[o]),t(i,"set"+n[o],e,"setUTC"+n[o]);return i}function o(e,t){if("browser"==t.timezone)return new Date(e);if(t.timezone&&"utc"!=t.timezone){if("undefined"!=typeof timezoneJS&&void 0!==timezoneJS.Date){var i=new timezoneJS.Date;return i.setTimezone(t.timezone),i.setTime(e),i}return n(new Date(e))}return n(new Date(e))}function a(n){n.hooks.processDatapoints.push(function(n,a,s){e.each(n.getAxes(),function(e,n){var a=n.options;"time"==a.mode&&(n.tickGenerator=function(e){var i=[],n=o(e.min,a),s=0,l=a.tickSize&&"quarter"===a.tickSize[1]||a.minTickSize&&"quarter"===a.minTickSize[1]?d:c;null!=a.minTickSize&&(s="number"==typeof a.tickSize?a.tickSize:a.minTickSize[0]*r[a.minTickSize[1]]);for(var u=0;u<l.length-1&&!(e.delta<(l[u][0]*r[l[u][1]]+l[u+1][0]*r[l[u+1][1]])/2&&l[u][0]*r[l[u][1]]>=s);++u);var h=l[u][0],p=l[u][1];if("year"==p){if(null!=a.minTickSize&&"year"==a.minTickSize[1])h=Math.floor(a.minTickSize[0]);else{var f=Math.pow(10,Math.floor(Math.log(e.delta/r.year)/Math.LN10)),_=e.delta/r.year/f;h=_<1.5?1:_<3?2:_<7.5?5:10,h*=f}h<1&&(h=1)}e.tickSize=a.tickSize||[h,p];var g=e.tickSize[0];p=e.tickSize[1];var v=g*r[p];"second"==p?n.setSeconds(t(n.getSeconds(),g)):"minute"==p?n.setMinutes(t(n.getMinutes(),g)):"hour"==p?n.setHours(t(n.getHours(),g)):"month"==p?n.setMonth(t(n.getMonth(),g)):"quarter"==p?n.setMonth(3*t(n.getMonth()/3,g)):"year"==p&&n.setFullYear(t(n.getFullYear(),g)),n.setMilliseconds(0),v>=r.minute?n.setSeconds(0):v>=r.hour?n.setMinutes(0):v>=r.day?n.setHours(0):v>=4*r.day?n.setDate(1):v>=2*r.month?n.setMonth(t(n.getMonth(),3)):v>=2*r.quarter?n.setMonth(t(n.getMonth(),6)):v>=r.year&&n.setMonth(0);var m,b=0,y=Number.NaN;do{if(m=y,y=n.getTime(),i.push(y),"month"==p||"quarter"==p)if(g<1){n.setDate(1);var x=n.getTime();n.setMonth(n.getMonth()+("quarter"==p?3:1));var w=n.getTime();n.setTime(y+b*r.hour+(w-x)*g),b=n.getHours(),n.setHours(0)}else n.setMonth(n.getMonth()+g*("quarter"==p?3:1));else"year"==p?n.setFullYear(n.getFullYear()+g):n.setTime(y+v)}while(y<e.max&&y!=m);return i},n.tickFormatter=function(e,t){var n=o(e,t.options);if(null!=a.timeformat)return i(n,a.timeformat,a.monthNames,a.dayNames);var s,l=t.options.tickSize&&"quarter"==t.options.tickSize[1]||t.options.minTickSize&&"quarter"==t.options.minTickSize[1],c=t.tickSize[0]*r[t.tickSize[1]],d=t.max-t.min,u=a.twelveHourClock?" %p":"",h=a.twelveHourClock?"%I":"%H";return s=c<r.minute?h+":%M:%S"+u:c<r.day?d<2*r.day?h+":%M"+u:"%b %d "+h+":%M"+u:c<r.month?"%b %d":l&&c<r.quarter||!l&&c<r.year?d<r.year?"%b":"%b %Y":l&&c<r.year?d<r.year?"Q%q":"Q%q %Y":"%Y",i(n,s,a.monthNames,a.dayNames)})})})}var s={},r={second:1e3,minute:6e4,hour:36e5,day:864e5,month:2592e6,quarter:7776e6,year:525949.2*60*1e3},l=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"]],c=l.concat([[3,"month"],[6,"month"],[1,"year"]]),d=l.concat([[1,"quarter"],[2,"quarter"],[1,"year"]]);e.plot.plugins.push({init:a,options:s,name:"time",version:"1.0"}),e.plot.formatDate=i}(jQuery)},function(e,t){var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){"use strict";e.extend({giveAjaxifyFields:function(t){var n,o,a={type:"",parentWrapper:"form",countryFieldName:"country",stateFieldName:"state",stateFieldWrapper:".give-field-wrap",chosenState:!0},s=e.extend({},a,t||{});switch(s.type){case"country_state":if(n=e('select[name="'+s.countryFieldName+'"]'),o=n.closest(s.parentWrapper),!n.length||"Country_state"===n.data("give-ajaxify-field"))return;n.data("give-ajaxify-field","country_state"),n.change(function(){var t=e(this),n=t.closest(s.parentWrapper).find('[name="'+s.stateFieldName+'"]'),a=n.closest(s.stateFieldWrapper),r=e("label",a);s.stateFieldWrapper||(r=e('label[for="'+s.stateFieldName+'"]',o),a=n.parent());var l={action:"give_get_states",country:t.val(),field_name:s.stateFieldName};e.post(ajaxurl,l,function(t){if(!t.show_field)return void(s.stateFieldWrapper?a.addClass("give-hidden"):n.addClass("give-hidden"));r.length&&r.text(t.states_label),s.chosenState&&n.chosen("destroy"),s.stateFieldWrapper?a.removeClass("give-hidden"):n.removeClass("give-hidden"),void 0!==i(t.states_found)&&!0===t.states_found?(n.replaceWith(t.data),n=e('[name="'+s.stateFieldName+'"]',a),s.chosenState&&n.chosen()):(n.replaceWith('<input type="text" name="'+s.stateFieldName+'" value="'+t.default_state+'" class="medium-text"/>'),n=e('[name="'+s.stateFieldName+'"]',a))})})}return this}})}(jQuery)},function(e,t){var i={collection:{},get:function(e,t,i){return jQuery?(t=void 0!==t?t:void 0,i=!0===i,(void 0===this.collection[e]||i)&&(this.collection[e]=void 0!==t?jQuery(e,t):jQuery(e)),this.collection[e]):-1}};window.Give_Selector_Cache=i},function(e,t){!function(e){e.fn.repeatable_fields=function(t){function i(t){e(a.wrapper,t).each(function(t,o){var s=this,r=e(s).children(a.container);e(r).children(a.template).hide().find(":input").each(function(){e(this).prop("disabled",!0)});var l=e(r).children(a.row).filter(function(){return!e(this).hasClass(a.template.replace(".",""))}).length;if(e(r).attr("data-rf-row-count",l),e(s).on("click",a.add,function(t){t.stopImmediatePropagation();var o=e(e(r).children(a.template).clone().removeClass(a.template.replace(".",""))[0].outerHTML);e(o).find(":input").each(function(){e(this).prop("disabled",!1)}),"function"==typeof a.before_add&&a.before_add(r);var s=e(o).show().appendTo(r);"function"==typeof a.after_add&&a.after_add(r,s,n),i(s)}),e(s).on("click",a.remove,function(t){if(t.stopImmediatePropagation(),a.confirm_before_remove_row&&a.confirm_before_remove_row_text&&!confirm(a.confirm_before_remove_row_text))return!1;var i=e(this).parents(a.row).first();"function"==typeof a.before_remove&&a.before_remove(r,i),i.remove(),"function"==typeof a.after_remove&&a.after_remove(r)}),!0===a.is_sortable&&void 0!==e.ui&&void 0!==e.ui.sortable){var c=null!==a.sortable_options?a.sortable_options:{};c.handle=a.move,e(s).find(a.container).sortable(c)}})}function n(t,i){var n=e(t).attr("data-rf-row-count");n++,e("*",i).each(function(){e.each(this.attributes,function(e,t){this.value=this.value.replace(a.row_count_placeholder,n-1)})}),e(t).attr("data-rf-row-count",n)}var o={wrapper:".wrapper",container:".container",row:".row",add:".add",remove:".remove",confirm_before_remove_row:!1,confirm_before_remove_row_text:"",move:".move",template:".template",is_sortable:!0,before_add:null,after_add:n,before_remove:null,after_remove:null,sortable_options:null,row_count_placeholder:"{{row-count-placeholder}}"},a=e.extend({},o,t);i(this)}}(jQuery)},function(e,t){/*!
 * Give Admin Forms JS
 *
 * @description: The Give Admin Forms scripts. Only enqueued on the give_forms CPT; used to validate fields, show/hide, and other functions
 * @package:     Give
 * @subpackage:  Assets/JS
 * @copyright:   Copyright (c) 2016, WordImpress
 * @license:     http://opensource.org/licenses/gpl-2.0.php GNU Public License
 */
jQuery.noConflict(),function(e){function t(){e(".cmb2-text-money").each(function(t,i){parseInt(e(i).val())||e(i).removeAttr("value")})}var i=function(){e("body").on("change",".give-give_default_radio_inline",function(){e(".give-give_default_radio_inline").prop("checked",!1),e(this).prop("checked",!0)})},n=function(){e("._give_price_option_field input:radio").on("change",function(){"set"===e("._give_price_option_field input:radio:checked").val()?(e("._give_set_price_field").show(),e("#_give_donation_levels_field").hide(),e("._give_display_style_field").hide()):(e("._give_set_price_field").hide(),e("#_give_donation_levels_field").show(),e("._give_display_style_field").show())}).change(),e("._give_display_content_field input:radio").on("change",function(){"enabled"===e("._give_display_content_field input:radio:checked").val()?(e("._give_content_placement_field").show(),e("._give_form_content_field").show()):(e("._give_content_placement_field").hide(),e("._give_form_content_field").hide())}).change(),e("._give_terms_option_field input:radio").on("change",function(){"enabled"===e("._give_terms_option_field input:radio:checked").val()?(e("._give_agree_label_field").show(),e("._give_agree_text_field").show()):(e("._give_agree_label_field").hide(),e("._give_agree_text_field").hide())}).change(),e("._give_payment_display_field input:radio").on("change",function(){"onpage"===e("._give_payment_display_field input:radio:checked").val()?e("._give_reveal_label_field").hide():e("._give_reveal_label_field").show()}).change(),e("._give_custom_amount_field input:radio").on("change",function(){"disabled"===e("._give_custom_amount_field input:radio:checked").val()?(e("._give_custom_amount_range_field ").hide(),e("._give_custom_amount_text_field").hide()):(e("._give_custom_amount_range_field ").show(),e("._give_custom_amount_text_field").show())}).change();var t=e("._give_goal_option_field"),i=e("._give_goal_format_field input:radio");e("._give_close_form_when_goal_achieved_field input:radio").on("change",function(){"disabled"===e("._give_close_form_when_goal_achieved_field input:radio:checked").val()?e("._give_form_goal_achieved_message_field").hide():e("._give_form_goal_achieved_message_field").show()}).change(),t.on("change",function(){"disabled"===e("._give_goal_option_field input:radio:checked").val()?(e("._give_set_goal_field").hide(),e("._give_goal_format_field").hide(),e("._give_goal_color_field").hide(),e("._give_close_form_when_goal_achieved_field").hide(),e("._give_form_goal_achieved_message_field").hide(),e("._give_number_of_donation_goal_field").hide(),e("._give_number_of_donor_goal_field").hide()):(e("._give_set_goal_field").show(),e("._give_goal_format_field").show(),e("._give_goal_color_field").show(),e("._give_close_form_when_goal_achieved_field").show(),"enabled"===e("._give_close_form_when_goal_achieved_field input:radio:checked").val()&&e("._give_form_goal_achieved_message_field").show(),i.change())}).change(),i.on("change",function(){var t=e("._give_goal_format_field input:radio:checked").val(),i=e("._give_goal_option_field input:radio:checked").val();"donation"===t?(e("._give_set_goal_field, ._give_number_of_donor_goal_field,._give_number_of_donation_goal_field").hide(),"disabled"!==i&&e("._give_number_of_donation_goal_field").show()):"donors"===t?(e("._give_set_goal_field, ._give_number_of_donation_goal_field, ._give_number_of_donor_goal_field").hide(),"disabled"!==i&&e("._give_number_of_donor_goal_field").show()):("disabled"===i?e("._give_set_goal_field").hide():e("._give_set_goal_field").show(),e("._give_number_of_donation_goal_field, ._give_number_of_donor_goal_field").hide())}).change(),e("._give_customize_offline_donations_field input:radio").on("change",function(){"enabled"===e("._give_customize_offline_donations_field input:radio:checked").val()?(e("._give_offline_checkout_notes_field").show(),e("._give_offline_donation_enable_billing_fields_single_field").show(),e("._give_offline_donation_subject_field").show(),e("._give_offline_donation_email_field").show()):(e("._give_offline_checkout_notes_field").hide(),e("._give_offline_donation_enable_billing_fields_single_field").hide(),e("._give_offline_donation_subject_field").hide(),e("._give_offline_donation_email_field").hide())}).change(),e("._give_email_options_field input:radio").on("change",function(){"enabled"===e("._give_email_options_field input:radio:checked").val()?e("#email_notification_options .give-field-wrap:not(._give_email_options_field)").show():e("#email_notification_options .give-field-wrap:not(._give_email_options_field)").hide()}).change()},o=function(){function t(t){var n=i();e(t).find("input.give-level-id-input").val(n),e(t).find(".give-level-id").text(n)}function i(){var t=0,i=0,n=0;return e("#_give_donation_levels_repeat > .cmb-repeatable-grouping").each(function(o,a){n=e(this).find("input.give-level-id-input").val(),n>i&&(i=n),t++}),void 0!==i&&i>=t?parseInt(i)+1:t}if(""===e(".give-level-id").text()){e(".cmb-repeatable-grouping").each(function(t,i){var n=e(i).data("iterator")+1;e(i).find(".give-level-id").text(n),e(i).find(".give-level-id-input").val(n)})}e("body").on("cmb2_add_row",function(e,i){t(i)}),e("body").on("cmb2_shift_rows_complete",function(t,i){e(".cmb-repeatable-grouping").each(function(t,i){var n=e(i).find("input.give-level-id-input").val();e(i).find(".give-level-id").text(n)})})};e(function(){i(),n(),o(),t()})}(jQuery)},function(e,t,i){"use strict";var n=i(2);/*!
 * Give Admin Forms JS
 *
 * @description: The Give Admin Settings scripts. Only enqueued on the give-settings page; used for tabs and other show/hide functionality
 * @package:     Give
 * @since:       1.5
 * @subpackage:  Assets/JS
 * @copyright:   Copyright (c) 2016, WordImpress
 * @license:     http://opensource.org/licenses/gpl-2.0.php GNU Public License
 */
jQuery.noConflict(),jQuery(document).ready(function(e){var t=jQuery("ul.give-payment-gatways-list");t.length&&t.sortable();e("body").on("change","#give-mainform #currency",function(){var t=e("#give-mainform #currency option:selected").text(),i=t.split("(").pop().split(")").shift();""===i&&(i=give_vars.currency_sign);var n=e("#give-mainform #currency_position").data("before-template");n=n.replace("{currency_pos}",i),e('#give-mainform #currency_position option[value="before"]').text(n);var o=e("#give-mainform #currency_position").data("after-template");o=o.replace("{currency_pos}",i),e('#give-mainform #currency_position option[value="after"]').text(o)}),e("a.give-repeat-setting-field").on("click",function(t){t.preventDefault();var i=e(this).parents("td"),n=e("p:first-child",i),o=n.clone(),a=e("p",i).not(".give-field-description").length,s=e(this).data("id")+"_"+ ++a,r=e(this).prev();return e("input",r).val()&&(e(this).before(o),r=e(this).prev(),e("input",r).attr("id",s),e("input",r).val("")),!1}),e(".give-settings-page").on("click","span.give-remove-setting-field",function(t){e(this).parents("p").remove()}),e(".give-email-notification-status","table.giveemailnotifications").on("click",function(){var t=e(this),i=e("i",t),n=e(this).next(),o=e(this).hasClass("give-email-notification-enabled")?"disabled":"enabled",a=e(this).data("id");if(!parseInt(t.data("edit")))return e("div.give-email-notification-status-notice").remove(),e("hr.wp-header-end").after('<div class="updated error give-email-notification-status-notice"><p>'+e(this).closest(".give-email-notification-status").data("notice")+"</p></div>"),e("html, body").animate({scrollTop:e("div.give-email-notification-status-notice").position().top},"slow"),!1;e.ajax({url:ajaxurl,method:"POST",data:{action:"give_set_notification_status",status:o,notification_id:a},beforeSend:function(){t.hide(),n.addClass("is-active")},success:function(e){e.success&&(t.removeClass("give-email-notification-"+t.data("status")),t.addClass("give-email-notification-"+o),t.data("status",o),"enabled"===o?(i.removeClass("dashicons-no-alt"),i.addClass("dashicons-yes")):(i.removeClass("dashicons-yes"),i.addClass("dashicons-no-alt")),n.removeClass("is-active"),t.show())}})}),e("#give-clear-cache").on("click",function(){e.ajax({url:ajaxurl,type:"GET",data:{action:"give_cache_flush"}}).done(function(e){e.success?new n.c({modalContent:{title:give_vars.flush_success,desc:e.data.message,cancelBtnTitle:give_vars.ok}}).render():new n.b({modalContent:{title:give_vars.flush_error,desc:e.data.message,cancelBtnTitle:give_vars.ok}}).render()})})})},function(e,t){/*!
 * Give Admin Export JS
 *
 * @description: The Give Admin Settings scripts. Only enqueued on the give-settings and give-tools page; used for exporting CSV
 * @package:     Give
 * @since:       2.1
 * @subpackage:  Assets/JS
 * @copyright:   Copyright (c) 2016, WordImpress
 * @license:     http://opensource.org/licenses/gpl-2.0.php GNU Public License
 */
jQuery.noConflict(),jQuery(document).ready(function(e){function t(){var t=e("form#give-export_donations-form"),n=e(t).find("tr.give-export-donation-form .give-select-chosen"),o=n.prev();n.find('input[type="text"]'),n.hasClass("variations");e(".give-export-donations-hide").addClass("give-hidden"),e("li.give-export-donation-checkbox-remove").remove(),e.ajax({type:"POST",url:ajaxurl,data:{action:"give_form_search",s:"",fields:e(t).serialize()},beforeSend:function(){o.closest("ul.chosen-results").empty()},success:function(a){e("option",o).remove();var s=[];a.length?(t.find(".give-export-donation-button").prop("disabled",!1),e.each(a,function(e,t){o.prepend('<option value="'+t.id+'">'+t.name+"</option>"),s.push(t.id)}),o.prepend('<option value="0" selected>'+o.data("placeholder")+"</option>")):(o.prepend('<option value="0">'+o.data("no-form")+"</option>"),t.find(".give-export-donation-button").prop("disabled",!0)),t.find(".form_ids").val(s.join()),n.prev("select.give-select-chosen").trigger("chosen:updated"),i("")}})}function i(t){var i=void 0!==t.standard_fields&&null!==t.standard_fields?t.standard_fields:"",n=e(".give-export-donations-standard-fields ul");i.length>0&&(n.closest("tr").removeClass("give-hidden"),e(i).each(function(e,t){n.append('<li class="give-export-donation-checkbox-remove"><label for="give-give-donations-standard-field-'+t+'"><input type="checkbox" name="give_give_donations_export_option['+t+']" id="give-give-donations-standard-field-'+t+'">'+t+"</label> </li>")}));var o=void 0!==t.hidden_fields&&null!==t.hidden_fields?t.hidden_fields:"",a=e(".give-export-donations-hidden-fields ul");o&&(a.closest("tr").removeClass("give-hidden"),e(o).each(function(e,t){a.append('<li class="give-export-donation-checkbox-remove"><label for="give-give-donations-hidden-field-'+t+'"><input type="checkbox" name="give_give_donations_export_option['+t+']" id="give-give-donations-hidden-field-'+t+'">'+t+"</label> </li>")}))}e(".give-export_donations #give-export_donations-form .give_forms_categories , .give-export_donations #give-export_donations-form .give_forms_tags").change(function(){t()}),e(".give-export_donations #give-export_donations-form #give_payment_form_select").change(function(){e(".give-export-donations-hide").addClass("give-hidden"),e("li.give-export-donation-checkbox-remove").remove(),jQuery(document).trigger("give_export_donations_form_change");var t;if(!(t=e(this).val()))return!1;e.ajax({type:"POST",url:ajaxurl,data:{form_id:t,action:"give_export_donations_get_custom_fields"},success:function(e){e?i(e):alert(give_vars.error_message),jQuery(document).trigger("give_export_donations_form_response",e)}})})})},function(e,t){/*!
 * Give Admin Widgets JS
 *
 * @description: The Give Admin Widget scripts. Only enqueued on the admin widgets screen; used to validate fields, show/hide, and other functions
 * @package:     Give
 * @subpackage:  Assets/JS
 * @copyright:   Copyright (c) 2016, WordImpress
 * @license:     http://opensource.org/licenses/gpl-2.0.php GNU Public License
 */
jQuery.noConflict(),function(e){var t=function(){e(".widget-liquid-right").on("change",".give_forms_display_style_setting_row input",function(){var t=e(this).parents("p"),i=t.next();"onpage"===e("input:checked",t).val()?i.hide():i.show()})};e(function(){t(),e(".give_forms_display_style_setting_row input",".widget-liquid-right").trigger("change")}),e(document).ajaxSuccess(function(i,n,o){t(),e(".give_forms_display_style_setting_row input",".widget-liquid-right").trigger("change")})}(jQuery)},function(e,t,i){"use strict";function n(){var e=jQuery(".give-settings-page"),t=jQuery("h2.give-nav-tab-wrapper"),i=e.width(),n=jQuery(".give-sub-nav-tab-wrapper"),a=jQuery("nav",n),s=jQuery("div.give-nav-tab-wrapper > a:not(give-not-tab)"),r=[],l=[],c=0;if(600<jQuery(window).outerWidth()&&(c=200),!e.length)return!1;t.css({height:"auto",overflow:"visible"}),s.removeClass("give-hidden"),new Promise(function(e,t){jQuery.each(s,function(e,t){t=jQuery(t),c+=parseInt(t.outerWidth()),c<i?r.push(t):l.push(t)}),e(!0)}).then(function(e){if(l.length&&-1!==window.location.search.indexOf("&tab=")){var i={},s=o();l=l.filter(function(e){var t=-1!==parseInt(e.attr("href").indexOf("&tab="+s.tab));return t&&(i=e),!t}),i.length&&(l.unshift(r.pop()),r.push(i))}new Promise(function(e,t){r.length&&jQuery.each(r,function(e,t){t=jQuery(t),t.hasClass("give-hidden")&&t.removeClass("give-hidden")}),e(!0)}).then(function(e){l.length?(a.html(""),jQuery.each(l,function(e,t){t=jQuery(t),t.hasClass("nav-tab-active")||t.addClass("give-hidden"),t.clone().removeClass().appendTo(a)}),jQuery(".give-sub-nav-tab-wrapper",t).length||t.append(n),n.show()):n.hide()})})}function o(){for(var e,t=[],i=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),n=0;n<i.length;n++)e=i[n].split("="),t[e[0]]=e[1];return t}var a=i(2),s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};/**
 * Give Admin JS
 *
 * @package:     Give
 * @subpackage:  Assets/JS
 * @copyright:   Copyright (c) 2016, WordImpress
 * @license:     http://opensource.org/licenses/gpl-2.0.php GNU Public License
 */
jQuery.noConflict();var r=!1;!function(e){function t(e,t){return e=accounting.unformat(e,give_vars.decimal_separator).toString(),t="undefined"!==t&&t,e=!1!==t?parseFloat(e).toFixed(t):parseFloat(e).toFixed(give_vars.currency_decimals)}var i=function(t,i){i=jQuery.extend({wrapper:!0,show:!1},i);var n=i.wrapper?e(".give-spinner-wrapper",t):{},o=e(".give-spinner",t);if(i.show)return n.length&&n.addClass("is-active"),void o.addClass("is-active");n.length&&n.removeClass("is-active"),o.removeClass("is-active")},o=function(){e("body").on("click","button.notice-dismiss",function(){"give-invalid-license"!==jQuery(this).closest("div.give-notice").data("notice-id")&&l(jQuery(this).closest("div.give-notice").attr("id"))})},l=function(e){var t=document.location.href,i=t.split("?"),e=void 0===e?"":e.replace("give-","");if(i.length>=2){for(var n=i.shift(),o=i.join("?"),a=encodeURIComponent("give-message")+"=",s=o.split(/[&;]/g),r=s.length;r-- >0;)(-1!==s[r].lastIndexOf(a,0)||""!==e&&-1!==s[r].lastIndexOf("give-messages",0)&&s[r].match(e+"$"))&&s.splice(r,1);t=n+"?"+s.join("&"),window.history.pushState("",document.title,t)}return t},c=function(){if(e(".give_datepicker").length>0){e(".give_datepicker").datepicker({dateFormat:"mm/dd/yy"})}},d=function(){var t=e(".give-select-chosen");t.on("chosen:ready",function(){e(this).next(".chosen-container").find("input.chosen-search-input").after('<span class="spinner"></span>')}),t.on("chosen:no_results",function(){var t=e(this).next(".chosen-container"),i=t.find("li.no-results"),n="";n=t.hasClass("give-select-chosen-ajax")&&i.length?give_vars.chosen.ajax_search_msg.replace("{search_term}",'"'+e("input",t).val()+'"'):give_vars.chosen.no_results_msg.replace("{search_term}",'"'+e("input",t).val()+'"'),i.html(n)}),t.chosen({inherit_select_classes:!0,placeholder_text_single:give_vars.one_option,placeholder_text_multiple:give_vars.one_or_more_option}),e(".chosen-container").each(function(){0===e(this).width()&&e(this).css("width","100%")}),e("#post").on("click",".give-thickbox",function(){e(".give-select-chosen","#choose-give-form").css("width","100%")});var i;e(document.body).on("keyup",".give-select.chosen-container .chosen-search input, .give-select.chosen-container .search-field input",function(t){var n=e(this).val(),o=e(this).closest(".give-select-chosen"),a=o.prev(),s=o.find('input[type="text"]'),r=(o.hasClass("variations"),t.which),l="give_form_search",c=this;if(o.prev().data("search-type")){if("no_ajax"===a.data("search-type"))return;l="give_"+a.data("search-type")+"_search"}n.length<=3||!l.length||9===r||13===r||16===r||17===r||18===r||19===r||20===r||27===r||33===r||34===r||35===r||36===r||37===r||38===r||39===r||40===r||44===r||45===r||144===r||145===r||91===r||93===r||224===r||112<=r&&123>=r||(clearTimeout(i),o.addClass("give-select-chosen-ajax"),i=setTimeout(function(){e.ajax({type:"POST",url:ajaxurl,data:{action:l,s:n,fields:e(c).closest("form").serialize()},dataType:"json",beforeSend:function(){a.closest("ul.chosen-results").empty(),s.prop("disabled",!0)},success:function(t){o.removeClass("give-select-chosen-ajax"),e("option:not(:selected)",a).remove(),t.length?(e.each(t,function(t,i){e('option[value="'+i.id+'"]',a).length||a.prepend('<option value="'+i.id+'">'+i.name+"</option>")}),o.prev("select.give-select-chosen").trigger("chosen:updated")):o.prev("select.give-select-chosen").trigger("chosen:no_results"),s.prop("disabled",!1),s.val(n).focus()}}).fail(function(e){window.console&&window.console.log&&console.log(e)}).done(function(e){s.prop("disabled",!1)})},342))}),e(".give-select-chosen .chosen-search input").each(function(){var t=e(this).parent().parent().parent().prev("select.give-select-chosen").data("search-type"),i="";"form"===t?i=give_vars.search_placeholder:(t="search_placeholder_"+t,give_vars[t]&&(i=give_vars[t])),e(this).attr("placeholder",i)})},u={init:function(){this.deleteSingleDonation(),this.resendSingleDonationReceipt()},deleteSingleDonation:function(){new a.a({triggerSelector:".delete-single-donation",modalWrapper:"give-modal--warning",modalContent:{title:give_vars.confirm_delete_donation,desc:give_vars.delete_payment},successConfirm:function(e){window.location.assign(e.el.attr("href"))}})},resendSingleDonationReceipt:function(){new a.a({triggerSelector:".resend-single-donation-receipt",modalContent:{title:give_vars.confirm_resend,desc:give_vars.resend_receipt},successConfirm:function(e){window.location.assign(e.el.attr("href"))}})}},h={init:function(){this.edit_address(),this.add_note(),this.remove_note(),this.new_donor(),this.resend_receipt(),this.variable_price_list()},edit_address:function(){e('select[name="give-payment-address[0][country]"]').change(function(){var t=e(this);return data={action:"give_get_states",country:t.val(),field_name:"give-payment-address[0][state]"},e.post(ajaxurl,data,function(i){t.closest(".column-container").find("#give-order-address-state-wrap").removeClass("give-hidden"),t.closest(".column-container").find(".give-column").removeClass("column-full"),t.closest(".column-container").find(".give-column").addClass("column");var n=e("#give-order-address-state-wrap");n.find("*").not(".order-data-address-line").remove(),void 0!==s(i.states_found)&&!0===i.states_found?(n.append(i.data),n.find("select").chosen()):(n.append('<input type="text" name="give-payment-address[0][state]" value="'+i.default_state+'" class="give-edit-toggles medium-text"/>'),void 0!==s(i.show_field)&&!1===i.show_field&&(t.closest(".column-container").find("#give-order-address-state-wrap").addClass("give-hidden"),t.closest(".column-container").find(".give-column").addClass("column-full"),t.closest(".column-container").find(".give-column").removeClass("column")))}),!1})},add_note:function(){e("#give-add-payment-note").on("click",function(t){t.preventDefault();var i={action:"give_insert_payment_note",payment_id:e(this).data("payment-id"),note:e("#give-payment-note").val()};if(i.note)e.ajax({type:"POST",data:i,url:ajaxurl,success:function(t){e("#give-payment-notes-inner").append(t),e(".give-no-payment-notes").hide(),e("#give-payment-note").val("")}}).fail(function(e){window.console&&window.console.log&&console.log(e)});else{var n=e("#give-payment-note").css("border-color");e("#give-payment-note").css("border-color","red"),setTimeout(function(){e("#give-payment-note").css("border-color",n)},500)}})},remove_note:function(){e("body").on("click",".give-delete-payment-note",function(t){t.preventDefault();var i=this;new a.a({modalContent:{title:give_vars.confirm_deletion,desc:give_vars.delete_payment_note},successConfirm:function(t){var n={action:"give_delete_payment_note",payment_id:e(i).data("payment-id"),note_id:e(i).data("note-id")};e.ajax({type:"POST",data:n,url:ajaxurl,success:function(t){return e("#give-payment-note-"+n.note_id).remove(),e(".give-payment-note").length||e(".give-no-payment-notes").show(),!1}}).fail(function(e){window.console&&window.console.log&&console.log(e)})}}).render()})},new_donor:function(){e("#give-donor-details").on("click",".give-payment-new-donor, .give-payment-new-donor-cancel",function(t){t.preventDefault(),e(".donor-info").toggle(),e(".new-donor").toggle(),e(".new-donor").is(":visible")?e("#give-new-donor").val(1):e("#give-new-donor").val(0)})},resend_receipt:function(){e("body").on("click","#give-resend-receipt",function(t){var i=this;t.preventDefault(),new a.a({modalContent:{title:give_vars.confirm_action,desc:give_vars.resend_receipt},successConfirm:function(){window.location.assign(e(i).attr("href"))}}).render()})},variable_price_list:function(){e("#give_payment_form_select").chosen().change(function(){var t,i=e(".give-donation-level");return!!(t=e(this).val())&&(!!i.length&&void e.ajax({type:"POST",url:ajaxurl,data:{form_id:t,payment_id:e('input[name="give_payment_id"]').val(),action:"give_check_for_form_price_variations_html"},success:function(t){t=t.trim(),t?(i.html(t),e('select[name="give-variable-price"]').chosen().change()):i.html("")}}))}),e("#give-donation-overview").on("change",'select[name="give-variable-price"]',function(){var t=jQuery(this).data("prices"),i=e("#give-payment-total");""!==t&&e(this).val()in t&&(i.val(t[e(this).val()]).css("background-color","yellow"),window.setTimeout(function(){i.css("background-color","white")},1e3))})}},p={init:function(){this.toggle_gateways(),this.setting_change_country(),this.toggle_options(),this.main_setting_update_notice(),this.verify_settings(),this.saveButtonTriggered(),this.changeAlert(),this.detectSettingsChange(),this.sequentialDonationIDPreview()},toggle_gateways:function(){e(".gateways-checkbox").on("click",function(){var t=e(this).prev(".gateways-radio"),i=(this.checked,e(".gateways-checkbox:checked"));1===i.length?(i.prev(".gateways-radio").attr("checked","checked"),this.checked?t.removeAttr("disabled"):t.attr("disabled","disabled")):this.checked?(t.removeAttr("disabled"),t.removeAttr("checked")):t.attr("disabled","disabled")})},setting_change_country:function(){e('select[name="base_country"]').change(function(){var t=e(this),i={action:"give_get_states",country:t.val(),field_name:"base_state"};return e.post(ajaxurl,i,function(n){t.closest("tr").next().show(),void 0!=s(n.states_found)&&1==n.states_found?e(':input[name="base_state"]').replaceWith(n.data):(void 0!=s(n.show_field)&&0==n.show_field&&t.closest("tr").next().hide(),e(':input[name="base_state"]').replaceWith('<input type="text" name="'+i.field_name+'" value="'+n.default_state+'" class="give-edit-toggles medium-text"/>'))}),!1})},toggle_options:function(){e('input[name="email_access"]',".give-setting-tab-body-general").on("change",function(){var t=e('input[name="email_access"]:checked',".give-setting-tab-body-general").val(),i=e('input[name="enable_recaptcha"]:checked',".give-setting-tab-body-general").val();"enabled"===t?(e('input[name="enable_recaptcha"]').parents("tr").show(),"enabled"===i?(e("#recaptcha_key").parents("tr").show(),e("#recaptcha_secret").parents("tr").show()):(e("#recaptcha_key").parents("tr").hide(),e("#recaptcha_secret").parents("tr").hide())):(e("#recaptcha_key").parents("tr").hide(),e("#recaptcha_secret").parents("tr").hide(),e('input[name="enable_recaptcha"]').parents("tr").hide())}).change(),e('input[name="enable_recaptcha"]',".give-setting-tab-body-general").on("change",function(){var t=e('input[name="email_access"]:checked',".give-setting-tab-body-general").val(),i=e('input[name="enable_recaptcha"]:checked',".give-setting-tab-body-general").val();"enabled"===t&&"enabled"===i?(e("#recaptcha_key").parents("tr").show(),e("#recaptcha_secret").parents("tr").show()):(e("#recaptcha_key").parents("tr").hide(),e("#recaptcha_secret").parents("tr").hide())}).change(),e('input[name="form_featured_img"]',".give-setting-tab-body-display").on("change",function(){"enabled"===e('input[name="form_featured_img"]:checked',".give-setting-tab-body-display").val()?e("#featured_image_size").parents("tr").show():e("#featured_image_size").parents("tr").hide()}).change(),e('input[name="terms"]',".give-setting-tab-body-display").on("change",function(){"enabled"===e('input[name="terms"]:checked',".give-setting-tab-body-display").val()?(e("#agree_to_terms_label").parents("tr").show(),e("#wp-agreement_text-wrap").parents("tr").show()):(e("#agree_to_terms_label").parents("tr").hide(),e("#wp-agreement_text-wrap").parents("tr").hide())}).change(),e('input[name="admin_notices"]',".give-setting-tab-body-emails").on("change",function(){"enabled"===e('input[name="admin_notices"]:checked',".give-setting-tab-body-emails").val()?(e("#donation_notification_subject").parents("tr").show(),e("#wp-donation_notification-wrap").parents("tr").show(),e("#admin_notice_emails").parents("tr").show()):(e("#donation_notification_subject").parents("tr").hide(),e("#wp-donation_notification-wrap").parents("tr").hide(),e("#admin_notice_emails").parents("tr").hide())}).change(),e('input[name="sequential-ordering_status"]',".give-setting-tab-body-general").on("change",function(){var t=e('input[name="sequential-ordering_status"]:checked',".give-setting-tab-body-general").val(),i=e(this).closest("table");"enabled"===t?e("input",i).not('input[name="sequential-ordering_status"]').parents("tr").show():e("input",i).not('input[name="sequential-ordering_status"]').parents("tr").hide()}).change()},main_setting_update_notice:function(){var t=e("#setting-error-give-setting-updated");t.length&&window.setTimeout(function(){t.slideUp()},5e3)},verify_settings:function(){var t=e("#success_page"),i=e("#failure_page");t.add(i).change(function(){if(t.val()===i.val()){var n='<div id="setting-error-give-matched-success-failure-page" class="updated settings-error notice is-dismissible"> <p><strong>'+give_vars.matched_success_failure_page+'</strong></p> <button type="button" class="notice-dismiss"><span class="screen-reader-text">'+give_vars.dismiss_notice_text+"</span></button> </div>",o=e("#setting-error-give-matched-success-failure-page");if(e(this).val(""),o.length)return!1;e("h1","#give-mainform").after(n),o=e("#setting-error-give-matched-success-failure-page"),e(".notice-dismiss",o).click(function(){o.remove()})}}).change()},saveButtonTriggered:function(){e(".give-settings-setting-page").on("click",".give-save-button",function(){e(window).unbind("beforeunload")})},changeAlert:function(){e(window).bind("beforeunload",function(e){var t=give_vars.setting_not_save_message;if(r)return(e||window.event).returnValue=t,t})},detectSettingsChange:function(){var t=e(".give-settings-setting-page");if(t.length>0){var i=e("#give-mainform").serialize();t.on("change keyup blur","form",function(){var t=e("#give-mainform").serialize();r=i!==t})}},sequentialDonationIDPreview:function(){var t=jQuery("#sequential-ordering_preview");t.length&&(jQuery("#sequential-ordering_number_prefix, #sequential-ordering_number, #sequential-ordering_number_padding, #sequential-ordering_number_suffix").on("keyup change",function(){var e=jQuery("#sequential-ordering_number_prefix").val(),i=jQuery("#sequential-ordering_number").val().trim()||"1",n=jQuery("#sequential-ordering_number_padding").val().trim(),o=jQuery("#sequential-ordering_number_suffix").val(),a=""+e+i.padStart(n,"0")+o;t.val(a)}),jQuery("#sequential-ordering_number_prefix").trigger("keyup"),jQuery("#sequential-ordering_number_prefix, #sequential-ordering_number_suffix").on("blur",function(){e(this).val(e(this).val().replace(new RegExp(" ","g"),"-"))}))}},f={init:function(){this.date_options(),this.donors_export(),this.recount_stats()},date_options:function(){e("#give-graphs-date-options").change(function(){"other"===e(this).val()?e("#give-date-range-options").show():e("#give-date-range-options").hide()})},donors_export:function(){e("#give_donor_export_form").change(function(){var t=e(this),i=e("option:selected",t).val(),n=e("#give_customer_export_option");"0"===t.val()?n.show():n.hide();var o=e(".give_price_options_select");if(0!=parseInt(i)){var a={action:"give_check_for_form_price_variations",form_id:i,all_prices:!0};e.post(ajaxurl,a,function(t){o.remove(),e("#give_donor_export_form_chosen").after(t)})}else o.remove()})},recount_stats:function(){e("body").on("change","#recount-stats-type",function(){var t=e("#give-tools-recount-form"),i=e("option:selected",this).data("type"),n=e("#recount-stats-submit"),o=e(".tools-form-dropdown");if(t.find(".notice-wrap").remove(),n.removeClass("button-disabled").attr("disabled",!1),o.hide(),e(".give-recount-stats-descriptions span").hide(),"reset-stats"===i){t.append('<div class="notice-wrap"></div>');var a=t.find(".notice-wrap");a.html('<div class="notice notice-warning"><p><input type="checkbox" id="confirm-reset" name="confirm_reset_store" value="1" /> <label for="confirm-reset">'+give_vars.reset_stats_warn+"</label></p></div>"),n.addClass("button-disabled").attr("disabled","disabled")}else if("delete-test-donors"===i){t.append('<div class="notice-wrap"></div>');var a=t.find(".notice-wrap");a.html('<div class="notice notice-warning"><p><input type="checkbox" id="confirm-reset" name="confirm_reset_store" value="1" /> <label for="confirm-reset">'+give_vars.delete_test_donor+"</label></p></div>"),n.addClass("button-disabled").attr("disabled","disabled")}else if("delete-import-donors"===i){t.append('<div class="notice-wrap"></div>');var a=t.find(".notice-wrap");a.html('<div class="notice notice-warning"><p><input type="checkbox" id="confirm-reset" name="confirm_reset_store" value="1" /> <label for="confirm-reset">'+give_vars.delete_import_donor+"</label></p></div>"),n.addClass("button-disabled").attr("disabled","disabled")}else o.hide(),o.val(0);var s=e(".tools-form-dropdown-"+i);s.show(),s.find(".give-select-chosen").css({width:"auto","min-width":"250px"}),e("#"+i).show()}),e("body").on("change","#confirm-reset",function(){e(this).is(":checked")?e("#recount-stats-submit").removeClass("button-disabled").removeAttr("disabled"):e("#recount-stats-submit").addClass("button-disabled").attr("disabled","disabled")}),e("#give-tools-recount-form").submit(function(t){var i=e("#recount-stats-type").val(),n=e(this),o=e("option:selected",this).data("type");if("reset-stats"===o){if(e("#confirm-reset").is(":checked"))return!0;s=!0}n.find(".notice-wrap").remove(),n.append('<div class="notice-wrap"></div>');var a=n.find(".notice-wrap"),s=!1;if(null!==i&&0!==i||(a.html('<div class="updated error"><p>'+give_vars.batch_export_no_class+"</p></div>"),s=!0),"recount-form"===o){0==e('select[name="form_id"]').val()&&(a.html('<div class="updated error"><p>'+give_vars.batch_export_no_reqs+"</p></div>"),s=!0)}if(s)return n.find(".button-disabled").removeClass("button-disabled"),!1})}},_={init:function(){this.submit(),this.dismiss_message()},submit:function(){var t=this;e(document.body).on("submit",".give-export-form",function(i){i.preventDefault();var n=e(this).find('input[type="submit"]');if(!n.hasClass("button-disabled")){var o=e(this).serialize();n.addClass("button-disabled"),e("form.give-export-form select").attr("disabled",!0).trigger("chosen:updated");var a=e(this);e(this).find(".add-notices").length>0&&(a=e(this).find(".add-notices")),a.find(".notice-wrap").remove(),a.append('<div class="notice-wrap give-clearfix"><span class="spinner is-active"></span><div class="give-progress"><div></div></div></div>'),t.process_step(1,o,t,this)}})},process_step:function(t,i,n,o){r=!0;var a=!1;e.ajax({type:"POST",url:ajaxurl,data:{form:i,action:"give_do_ajax_export",step:t},dataType:"json",success:function(t){if("done"==t.step||t.error||t.success){r=!1,a=!0;var s=e(o).parent().find(".notice-wrap");s.find(".give-progress");if(e(o).find(".button-disabled").removeClass("button-disabled"),e(o).find("select").attr("disabled",!1).trigger("chosen:updated"),t.error){var l=t.message;s.html('<div class="updated error"><p>'+l+"</p></div>")}else if(t.success){var c=t.message;s.html('<div id="give-batch-success" class="updated notice is-dismissible"><p>'+c+'<span class="notice-dismiss"></span></p></div>')}else s.remove(),window.location=t.url}else e(".give-progress div").animate({width:t.percentage+"%"},50,function(){}),n.process_step(parseInt(t.step),i,n,o);!0===a&&e("#give-tools-recount-form").length>0&&(e("#give-tools-recount-form")[0].reset(),e("#give-tools-recount-form .tools-form-dropdown").hide(),e("#give-tools-recount-form .tools-form-dropdown-recount-form-select").val("0").trigger("chosen:updated"))}}).fail(function(t){r=!1,window.console&&window.console.log&&console.log(t),e(".notice-wrap").append(t.responseText)})},dismiss_message:function(){e("body").on("click","#give-batch-success .notice-dismiss",function(){e("#give-batch-success").parent().slideUp("fast")})}},g={el:{},init:function(){this.submit(),this.dismiss_message()},submit:function(){var t=this;t.el.main_container=Give_Selector_Cache.get("#give-db-updates"),t.el.update_link=Give_Selector_Cache.get(".give-update-now",t.el.main_container),t.el.run_upload_container=Give_Selector_Cache.get(".give-run-database-update",t.el.progress_main_container),t.el.progress_main_container=Give_Selector_Cache.get(".progress-container",t.el.main_container),t.el.heading=Give_Selector_Cache.get(".update-message",t.el.progress_main_container),t.el.progress_container=Give_Selector_Cache.get(".progress-content",t.el.progress_main_container),t.el.update_progress_counter=Give_Selector_Cache.get(e(".give-update-progress-count")),t.el.main_container.data("resume-update")&&(t.el.update_link.addClass("active").hide().removeClass("give-hidden"),e("#give-restart-upgrades").length||window.setTimeout(g.get_db_updates_info,1e3,t)),t.el.update_link.hasClass("active")||(t.el.update_link.on("click","",function(e){e.preventDefault(),t.el.run_upload_container.find(".notice").remove(),t.el.run_upload_container.append('<div class="notice notice-error non-dismissible give-run-update-containt"><p> <a href="#" class="give-run-update-button button">'+give_vars.db_update_confirmation_msg_button+"</a> "+give_vars.db_update_confirmation_msg+"</p></div>")}),e("#give-db-updates").on("click","a.give-run-update-button",function(i){return i.preventDefault(),!e(this).hasClass("active")&&(e(this).addClass("active").fadeOut(),t.el.update_link.addClass("active").fadeOut(),e("#give-db-updates .give-run-update-containt").slideUp(),t.el.progress_container.find(".notice-wrap").remove(),t.el.progress_container.append('<div class="notice-wrap give-clearfix"><span class="spinner is-active"></span><div class="give-progress"><div></div></div></div>'),t.el.progress_main_container.removeClass("give-hidden"),e.ajax({type:"POST",url:ajaxurl,data:{action:"give_run_db_updates",run_db_update:1},dataType:"json",success:function(e){}}),window.setTimeout(g.get_db_updates_info,500,t),!1)}))},get_db_updates_info:function(t){e.ajax({type:"POST",url:ajaxurl,data:{action:"give_db_updates_info"},dataType:"json",success:function(i){var n=Give_Selector_Cache.get(".notice-wrap",t.el.progress_container,!0);-1!==e.inArray("success",Object.keys(i))?i.success?(t.el.update_progress_counter.length&&t.el.update_progress_counter.text("100%"),-1!==e.inArray("heading",Object.keys(i.data))&&t.el.heading.html("<strong>"+i.data.heading+"</strong>"),t.el.update_link.closest("p").remove(),n.html('<div class="notice notice-success is-dismissible"><p>'+i.data.message+'</p><button type="button" class="notice-dismiss"></button></div>')):(-1!==e.inArray("heading",Object.keys(i.data))&&t.el.heading.html("<strong>"+i.data.heading+"</strong>"),i.data.message?(t.el.update_link.closest("p").remove(),n.html('<div class="notice notice-error is-dismissible"><p>'+i.data.message+'</p><button type="button" class="notice-dismiss"></button></div>')):setTimeout(function(){t.el.update_link.removeClass("active").show(),t.el.progress_main_container.addClass("give-hidden")},1e3)):i&&-1!==e.inArray("percentage",Object.keys(i.data))?(t.el.update_progress_counter.length&&t.el.update_progress_counter.text(i.data.total_percentage+"%"),-1!==e.inArray("heading",Object.keys(i.data))&&t.el.heading.html("<strong>"+i.data.heading+"</strong>"),e(".give-progress div","#give-db-updates").animate({width:i.data.percentage+"%"},50,function(){}),window.setTimeout(g.get_db_updates_info,1e3,t)):(n.html('<div class="notice notice-error"><p>'+give_vars.updates.ajax_error+"</p></div>"),setTimeout(function(){t.el.update_link.removeClass("active").show(),t.el.progress_main_container.addClass("give-hidden")},1e3))}})},process_step:function(t,i,n){r=!0,e.ajax({type:"POST",url:ajaxurl,data:{action:"give_do_ajax_updates",step:parseInt(t),update:parseInt(i)},dataType:"json",success:function(t){r=!1;var i=Give_Selector_Cache.get(".notice-wrap",n.el.progress_container,!0);-1!==e.inArray("success",Object.keys(t))?t.success?(-1!==e.inArray("heading",Object.keys(t.data))&&n.el.heading.html("<strong>"+t.data.heading+"</strong>"),n.el.update_link.closest("p").remove(),i.html('<div class="notice notice-success is-dismissible"><p>'+t.data.message+'</p><button type="button" class="notice-dismiss"></button></div>')):(-1!==e.inArray("heading",Object.keys(t.data))&&n.el.heading.html("<strong>"+t.data.heading+"</strong>"),i.html('<div class="notice notice-error"><p>'+t.data.message+"</p></div>"),setTimeout(function(){n.el.update_link.removeClass("active").show(),n.el.progress_main_container.addClass("give-hidden")},5e3)):t&&-1!==e.inArray("percentage",Object.keys(t.data))?(e(".give-progress div","#give-db-updates").animate({width:t.data.percentage+"%"},50,function(){}),-1!==e.inArray("heading",Object.keys(t.data))&&n.el.heading.html("<strong>"+t.data.heading.replace("{update_count}",n.el.heading.data("update-count"))+"</strong>"),n.process_step(parseInt(t.data.step),t.data.update,n)):(i.html('<div class="notice notice-error"><p>'+give_vars.updates.ajax_error+"</p></div>"),setTimeout(function(){n.el.update_link.removeClass("active").show(),n.el.progress_main_container.addClass("give-hidden")},5e3))}}).fail(function(e){r=!1,window.console&&window.console.log&&console.log(e),Give_Selector_Cache.get(".notice-wrap",self.el.progress_container).append(e.responseText)}).always(function(){})},dismiss_message:function(){e("body").on("click","#poststuff .notice-dismiss",function(){e(this).parent().slideUp("fast")})}},v={init:function(){this.restartUpgrade(),this.stopUpgrade(),this.restartUpdater()},restartUpgrade:function(){jQuery("#give-restart-upgrades").click("click",function(e){var t=this;e.preventDefault(),jQuery(".give-doing-update-text-p").show(),jQuery(".give-update-paused-text-p").hide(),new a.a({modalContent:{title:give_vars.confirm_action,desc:give_vars.restart_upgrade},successConfirm:function(){window.location.assign(jQuery(t).data("redirect-url"))}}).render()})},stopUpgrade:function(){jQuery("#give-pause-upgrades").click("click",function(e){var t=this;e.preventDefault(),jQuery(".give-doing-update-text-p").hide(),jQuery(".give-update-paused-text-p").show(),new a.a({modalContent:{title:give_vars.confirm_action,desc:give_vars.stop_upgrade},successConfirm:function(){window.location.assign(jQuery(t).data("redirect-url"))}}).render()})},restartUpdater:function(){jQuery(".give-restart-updater-btn,.give-run-update-now").click("click",function(e){var t=this;e.preventDefault(),new a.a({modalContent:{title:give_vars.confirm_action,desc:give_vars.restart_update},successConfirm:function(){window.location.assign(jQuery(t).attr("href"))}}).render()})}},m=function(){e('select[name="give-payment-status"]').on("change",function(){var t=e(this).val();e(".give-donation-status").removeClass(function(e,t){return(t.match(/\bstatus-\S+/g)||[]).join(" ")}).addClass("status-"+t)})},b={init:function(){this.unlockDonorFields(),this.editDonor(),this.add_email(),this.removeUser(),this.cancelEdit(),this.add_note(),this.delete_checked(),this.addressesAction(),this.bulkDeleteDonor(),e("body").on("click",'#give-donors-filter .bulkactions input[type="submit"]',this.handleBulkActions)},unlockDonorFields:function(t){e("body").on("click",".give-lock-block",function(e){new a.b({modalContent:{title:give_vars.unlock_donor_fields_title,desc:give_vars.unlock_donor_fields_message,cancelBtnTitle:give_vars.ok}}).render(),e.preventDefault()})},editDonor:function(){e("body").on("click","#edit-donor",function(t){t.preventDefault(),e("#give-donor-card-wrapper .editable").hide(),e("#give-donor-card-wrapper .edit-item").fadeIn().css("display","block")})},removeUser:function(){e("body").on("click","#disconnect-donor",function(t){if(t.preventDefault(),!confirm(give_vars.disconnect_user))return!1;var i=e('input[name="customerinfo[id]"]').val(),n={give_action:"disconnect-userid",customer_id:i,_wpnonce:e("#edit-donor-info #_wpnonce").val()};e.post(ajaxurl,n,function(e){window.location.href=e.redirect},"json")})},cancelEdit:function(){e("body").on("click","#give-edit-donor-cancel",function(t){t.preventDefault(),e("#give-donor-card-wrapper .edit-item").hide(),e("#give-donor-card-wrapper .editable").show(),e(".give_user_search_results").html("")})},add_note:function(){e("body").on("click","#add-donor-note",function(t){t.preventDefault();var i={give_action:"add-donor-note",customer_id:e("#donor-id").val(),donor_note:e("#donor-note").val(),add_donor_note_nonce:e("#add_donor_note_nonce").val()};if(i.donor_note)e.ajax({type:"POST",data:i,url:ajaxurl,success:function(t){e("#give-donor-notes").prepend(t),e(".give-no-donor-notes").hide(),e("#donor-note").val("")}}).fail(function(e){window.console&&window.console.log&&console.log(e)});else{var n=e("#donor-note").css("border-color");e("#donor-note").css("border-color","red"),setTimeout(function(){e("#donor-note").css("border-color",n)},500)}})},delete_checked:function(){e("#give-donor-delete-confirm").change(function(){var t=e("#give-donor-delete-records"),i=e("#give-delete-donor");e(this).prop("checked")?(t.attr("disabled",!1),i.attr("disabled",!1)):(t.attr("disabled",!0),t.prop("checked",!1),i.attr("disabled",!0))})},add_email:function(){e("#add-donor-email").length&&e(document.body).on("click","#add-donor-email",function(t){t.preventDefault();var i=e(this),n=i.parent();n.parent().find(".notice-wrap").remove(),n.find(".spinner").css("visibility","visible"),i.attr("disabled",!0);var o=n.find('input[name="donor-id"]').val(),a=n.find('input[name="additional-email"]').val(),s=n.find('input[name="make-additional-primary"]').is(":checked"),r=n.find('input[name="add_email_nonce"]').val(),l={give_action:"add_donor_email",customer_id:o,email:a,primary:s,_wpnonce:r};e.post(ajaxurl,l,function(e){!0===e.success?window.location.href=e.redirect:(i.attr("disabled",!1),n.after('<div class="notice-wrap"><div class="notice notice-error inline"><p>'+e.message+"</p></div></div>"),n.find(".spinner").css("visibility","hidden"))},"json")})},addressesAction:function(){var t=this,n=e("#donor-address-wrapper"),o=e(".all-address",n),a=e(".give-no-address-message",n),s=e(o).parent(),r=e(".address-form",n),l=e(".js-cancel",r),c=e('select[name="country"]',r),d=e(".add-new-address",n),u=parseInt(e('input[name="donor-id"]').val());c.on("change",function(){e(this).trigger("chosen:updated")}),o.on("click",".js-edit",function(i){var n=e(this).closest(".address");i.preventDefault(),e(".notice",s).remove(),t.__set_address_form_val(n),t.__set_address_form_action("update",n.data("address-id")),d.hide(),o.addClass("give-hidden"),r.removeClass("add-new-address-form-hidden"),r.data("process","update")}),o.on("click",".js-remove",function(i){i.preventDefault();var n=e(this).closest(".address");e(".notice",s).remove(),r.data("changed",!0),t.__set_address_form_val(n),t.__set_address_form_action("remove",n.data("address-id")),r.trigger("submit")}),d.on("click",function(i){i.preventDefault(),e(".notice",s).remove(),e(this).hide(),o.addClass("give-hidden"),r.removeClass("add-new-address-form-hidden"),t.__set_address_form_action("add"),t.__set_address_form_action()}),l.on("click",function(e){e.preventDefault(),r.find('input[type="text"]').val(""),d.show(),o.removeClass("give-hidden"),r.addClass("add-new-address-form-hidden")}),r.on("change",function(){e(this).data("changed",!0)}).on("submit",function(t){t.preventDefault();var l=e(this);return e(".notice",s).remove(),e(this).data("changed")?(e.ajax({type:"POST",url:ajaxurl,data:{action:"donor_manage_addresses",donorID:u,form:e("form",r).serialize()},beforeSend:function(){i(n,{show:!0})},success:function(t){if(i(n),t.success){var r;switch(t.data.action){case"add":e(".give-grid-row",o).append(t.data.address_html),!a.hasClass("give-hidden")&&e("div.give-grid-col-4",o).length&&a.addClass("give-hidden");break;case"remove":r=o.find('div[data-address-id*="'+t.data.id+'"]').parent(),r.length&&r.animate({"margin-left":"-999"},1e3,function(){r.remove(),a.hasClass("give-hidden")&&!e("div.give-grid-col-4",o).length&&a.removeClass("give-hidden")});break;case"update":r=o.find('div[data-address-id*="'+t.data.id+'"]').parent();var l=r.prev(),c={},d=!1;parseInt(e(".give-grid-row>div",o).length)<2?e(".give-grid-row",o).append(t.data.address_html):(l.length&&(l.after(t.data.address_html),d=!0),d||(c=r.next(),c.length&&c.before(t.data.address_html))),r.remove()}s.prepend(t.data.success_msg)}else s.prepend(t.data.error_msg)},dataType:"json"}).always(function(){l.data("changed",!1),r.find('input[type="text"]').val(""),d.show(),o.removeClass("give-hidden"),r.addClass("add-new-address-form-hidden")}),!1):(d.show(),o.removeClass("give-hidden"),r.addClass("add-new-address-form-hidden"),!1)})},__set_address_form_action:function(t,i){var n=e("#donor-address-wrapper"),o=e(".address-form",n),a=e('input[name="address-action"]',o),s=e('input[name="address-id"]',o);t=t||"add",i=i||"billing",a.val(t),s.val(i)},__set_address_form_val:function(t){var i=e("#donor-address-wrapper"),n=e(".address-form",i),o=e('[data-address-type="state"]',t).text().substr(2).trim();e('select[name="country"]',n).val().trim()!==e('[data-address-type="country"]',t).text().trim()?(e('select[name="country"]',n).val(e('[data-address-type="country"]',t).text().trim()).trigger("chosen:updated").change(),window.setTimeout(function(){e('[name="state"]',n).val(o).trigger("chosen:updated")},500)):e('[name="state"]',n).val(o).trigger("chosen:updated"),e('input[name="line1"]',n).val(e('[data-address-type="line1"]',t).text().trim()),e('input[name="line2"]',n).val(e('[data-address-type="line2"]',t).text().trim()),e('input[name="city"]',n).val(e('[data-address-type="city"]',t).text().trim()),e('input[name="zip"]',n).val(e('[data-address-type="zip"]',t).text().trim())},bulkDeleteDonor:function(){var t=e("body");t.on("click","#give-bulk-delete-cancel",function(t){e(this).closest("tr").hide(),e(".give-skip-donor").trigger("click"),t.preventDefault()}),t.on("click","#cb-select-all-1, #cb-select-all-2",function(){var t=e(this);e.each(e(".donor-selector"),function(){var i=e(this).val(),n=e(this).data("name"),o='<div id="give-donor-'+i+'" data-id="'+i+'"><a class="give-skip-donor" title="'+give_vars.remove_from_bulk_delete+'">X</a>'+n+"</div>";t.is(":checked")&&!e(this).is(":checked")?e("#give-bulk-donors").append(o):t.is(":checked")||e("#give-bulk-donors").find("#give-donor-"+i).remove()})}),t.on("click",".donor-selector",function(){var t=e(this).val(),i=e(this).data("name"),n='<div id="give-donor-'+t+'" data-id="'+t+'"><a class="give-skip-donor" title="'+give_vars.remove_from_bulk_delete+'">X</a>'+i+"</div>";e(this).is(":checked")?e("#give-bulk-donors").prepend(n):e("#give-bulk-donors").find("#give-donor-"+t).remove()}),t.on("click","#give-delete-donor-confirm",function(){e(this).is(":checked")?e("#give-bulk-delete-button").removeAttr("disabled"):(e("#give-bulk-delete-button").attr("disabled",!0),e("#give-delete-donor-records").removeAttr("checked"))}),t.on("click","#give-delete-donor-records",function(){e(this).is(":checked")&&(e("#give-delete-donor-confirm").attr("checked","checked"),e("#give-bulk-delete-button").removeAttr("disabled"))}),t.on("click",".give-skip-donor",function(){var t=e(this).closest("div").data("id");e("#give-donor-"+t).remove(),e("#donor-"+t).find('input[type="checkbox"]').removeAttr("checked")}),t.on("click",".give-single-donor-delete",function(t){var i=e(this).data("id"),n=e("tr#donor-"+i).find(".donor-selector"),o=e('[id^="cb-select-all-"]'),a=e("#give-bulk-donors"),s=n.data("name"),r='<div id="give-donor-'+i+'" data-id="'+i+'"><a class="give-skip-donor" title="'+give_vars.remove_from_bulk_delete+'">X</a>'+s+"</div>";a.html(""),o.is(":checked")&&o.removeAttr("checked"),e(".donor-selector").removeAttr("checked"),n.attr("checked","checked"),0===e("#give-donor-"+i).length&&(a.prepend(r),e("#give-bulk-delete").slideDown()),t.preventDefault()})},handleBulkActions:function(t){var i=e(this).closest(".tablenav").find("select").val(),n=[],o=give_vars.donors_bulk_action.no_action_selected,s=give_vars.donors_bulk_action.no_donor_selected;return e.each(e(".donor-selector:checked"),function(){n.push(e(this).val())}),"-1"===i?(new a.d({modalContent:{title:o.title,desc:o.desc,cancelBtnTitle:give_vars.ok}}).render(),!1):parseInt(n)?("delete"===i&&e("#give-bulk-delete").slideDown(),void t.preventDefault()):(new a.d({modalContent:{title:s.title,desc:s.desc,cancelBtnTitle:give_vars.ok}}).render(),!1)}},y={init:function(){this.revoke_api_key(),this.regenerate_api_key()},revoke_api_key:function(){e("body").on("click",".give-revoke-api-key",function(e){return confirm(give_vars.revoke_api_key)})},regenerate_api_key:function(){e("body").on("click",".give-regenerate-api-key",function(e){return confirm(give_vars.regenerate_api_key)})}},x={init:function(){var t=e.query.get("give_tab").length?e.query.get("give_tab"):"form_field_options";this.handle_metabox_tab_click(),this.setup_colorpicker_fields(),this.setup_media_fields(),this.setup_repeatable_fields(),this.handle_repeater_group_events(),this.handle_multi_levels_repeater_group_events(),this.activate_tab(e('a[href="#'+t+'"]'))},handle_metabox_tab_click:function(){var t=this;e(".give-metabox-tabs a").on("click",function(i){i.preventDefault();var n=e(this);t.activate_tab(n),t.update_query(n)})},activate_tab:function(t){var i=t.data("tab-id"),n=t.parent(),o=e("ul.give-metabox-sub-tabs",n),a=o.length,s=e(".give-metabox-tabs a"),r=s.parents("li"),l=e("ul.give-metabox-sub-tabs"),c=t.parents("ul.give-metabox-sub-tabs").length;if(e("#give_form_active_tab").val(i),a){n.toggleClass("active"),o.removeClass("give-hidden");var d=e("li.active","ul.give-metabox-sub-tabs");l.not(o).addClass("give-hidden"),r.not(n).removeClass("active"),d.addClass("active")}else c?c&&(e("ul.give-metabox-sub-tabs").addClass("give-hidden"),r.removeClass("active"),t.parents("ul.give-metabox-sub-tabs").removeClass("give-hidden").children("li").removeClass("active"),t.parents("li.has-sub-fields").addClass("active")):r.each(function(t,i){i=e(i),i.removeClass("active"),i.hasClass("has-sub-fields")&&e("ul.give-metabox-sub-tabs",i).addClass("give-hidden")});t.parent().addClass("active"),e(".give_options_panel").removeClass("active"),e(t.attr("href")).addClass("active")},update_query:function(t){var i=t.data("tab-id"),n=e.query.set("give_tab",i).remove("message").toString();history.replaceState&&history.replaceState(null,null,n)},setup_colorpicker_fields:function(){e(document).ready(function(){var t=e(".give-colorpicker");t.length&&t.each(function(t,i){var n=e(i);n.parents(".give-template").length||n.wpColorPicker()})})},setup_media_fields:function(){var t,i,n=e("body");n.on("click",".give-upload-button",function(o){o.preventDefault();var a={};switch(i=e(this),e(this).data("field-type")){case"media":a={title:give_vars.metabox_fields.media.button_title,button:{text:give_vars.metabox_fields.media.button_title},multiple:!1,library:{type:"image"}};break;default:a={title:give_vars.metabox_fields.file.button_title,button:{text:give_vars.metabox_fields.file.button_title},multiple:!1}}void 0!==jQuery(this).closest(".give-field-wrap").find(".give-input-field").attr("editing")&&(wp.media.controller.Library.prototype.defaults.contentUserSetting=!1);var s=jQuery(this).closest(".give-field-wrap").find(".give-input-field").attr("library");void 0!==s&&""!==s&&(a.library={type:s}),t=wp.media(a),t.on("select",function(){var e=t.state().get("selection").first().toJSON(),o=i.prev(),a="id"===i.data("fvalue")?e.id:e.url;if(n.trigger("give_media_inserted",[e,o]),o.val(a),"id"!==i.data("fvalue")){var s='input[name="'+o.attr("name")+'_id"]';o.closest("tr").next("tr").find(s).length&&o.closest("tr").next("tr").find(s).val(e.id)}}),t.open()}),n.on("give_media_inserted",function(t,n){var o=i.parents(".give-field-wrap"),a=e(".give-image-thumb",o);return!!a.length&&("image"!==n.type?(a.addClass("give-hidden"),e("img",a).attr("src",""),!1):(a.find("img").attr("src",n.url),void a.removeClass("give-hidden")))}),e("span.give-delete-image-thumb",".give-image-thumb").on("click",function(t){t.preventDefault();var i=e(this).parents(".give-field-wrap"),n=e(this).parent(),o=e('input[type="text"]',i);n.addClass("give-hidden"),o.val(""),e("img",n).attr("src","")})},setup_repeatable_fields:function(){jQuery(function(){jQuery(".give-repeatable-field-section").each(function(){var t=e(this),i={wrapper:".give-repeatable-fields-section-wrapper",container:".container",row:".give-row",add:".give-add-repeater-field-section-row",remove:".give-remove",move:".give-move",template:".give-template",confirm_before_remove_row:!0,confirm_before_remove_row_text:give_vars.confirm_before_remove_row_text,is_sortable:!0,before_add:null,after_add:w,before_remove:null,after_remove:k,sortable_options:{placeholder:"give-ui-placeholder-state-highlight",start:function(i,n){n.item.next().hasClass("give-template")&&n.item.next().after(n.item);var o=e(".give-row",t).not(".give-template");o.length&&o.each(function(t,i){var n=e('input[type="radio"].give-field',e(i));n.length&&n.each(function(){e(this).attr("data-give-checked",e(this).is(":checked"))})}),e("body").trigger("repeater_field_sorting_start",[n.item])},stop:function(t,i){i.item.next().hasClass("give-template")&&i.item.next().after(i.item),e("body").trigger("repeater_field_sorting_stop",[i.item])},update:function(i,n){n.item.next().hasClass("give-template")&&n.item.next().after(n.item);var o=e(".give-row",t).not(".give-template"),a=e(this).closest(".give-repeatable-fields-section-wrapper");if(o.length){var s=1;o.each(function(t,i){var n=e(".give-field, label",e(i));n.length&&n.each(function(){var t=e(this).parents(".give-field-wrap"),i=e(this);e.each(this.attributes,function(e,n){var o=this.value.replace(/\[/g,"_").replace(/]/g,""),a=o+"_field",r="",l="";this.value&&(this.value=this.value.replace(/\[\d+\]/g,"["+(s-1)+"]"),l=this.value.replace(/\[/g,"_").replace(/]/g,""),t.hasClass(a)&&(r=l+"_field",t.removeClass(a).addClass(r)),o==i.attr("id")&&i.attr("id",l))})}),s++}),window.setTimeout(function(){e("input[data-give-checked]",a).each(function(t,i){i=e(i),i.prop("checked","true"===i.attr("data-give-checked"))})},100),t.trigger("repeater_field_row_reordered",[n.item])}}}};jQuery(this).repeatable_fields(i)})})},handle_repeater_group_events:function(){var t=e(".give-repeatable-field-section"),i=e("body");i.on("click",".give-row-head button",function(){var t=e(this).closest("tr");t.toggleClass("closed"),e(".give-row-body",t).toggle()}),t.on("repeater_field_new_row_added repeater_field_row_deleted repeater_field_row_reordered",function(){C(e(this))}),i.on("repeater_field_sorting_start",function(t,i){var n=e(".wp-editor-area",i);n.length&&n.each(function(t,i){window.setTimeout(function(){tinyMCE.execCommand("mceRemoveEditor",!0,e(i).attr("id"))},300)})}),i.on("repeater_field_sorting_stop",function(t,i){var n=e(".wp-editor-area",i);n.length&&n.each(function(t,i){window.setTimeout(function(){var t=e(i).attr("id");tinyMCE.execCommand("mceAddEditor",!0,t),window.setTimeout(function(){switchEditors.go(t,"html"),e("#"+t+"-tmce").trigger("click")},100)},300)})}),t.each(function(t,i){var n=e(i);C(n),parseInt(n.data("close-tabs"))&&(e(".give-row-head button",n).trigger("click"),e(".give-template",n).removeClass("closed"),e(".give-template .give-row-body",n).show())}),t.on("repeater_field_new_row_added",function(t,i,n){e(".give-colorpicker",e(this)).each(function(t,i){var n=e(i);n.parents(".wp-picker-container").length||n.parents(".give-template").length||n.wpColorPicker()});var o=e("div[data-wp-editor]",n);o.length&&o.each(function(t,i){var n=e(i),o=e(".wp-editor-wrap",n),a=e("textarea",n),s="give_wysiwyg_unique_"+Math.random().toString().replace(".","_"),r=o.prev();a.attr("id",s),e.post(ajaxurl,{action:"give_load_wp_editor",wp_editor:n.data("wp-editor"),wp_editor_id:s,textarea_name:e("textarea",n).attr("name")},function(t){o.remove(),r.after(t),tinyMCEPreInit.qtInit[a.attr("id")]=e.extend(!0,tinyMCEPreInit.qtInit._give_agree_text,{id:s}),tinyMCEPreInit.mceInit[s]=e.extend(!0,tinyMCEPreInit.mceInit._give_agree_text,{body_class:s+" post-type-give_forms post-status-publish locale-"+tinyMCEPreInit.mceInit._give_agree_text.wp_lang_attr.toLowerCase(),selector:"#"+s}),tinymce.init(tinyMCEPreInit.mceInit[s]),quicktags(tinyMCEPreInit.qtInit[s]),QTags._buttonsInit(),window.setTimeout(function(){switchEditors.go(s,"html"),e("#"+s+"-tmce").trigger("click")},100),window.wpActiveEditor||(window.wpActiveEditor=s)})})})},handle_multi_levels_repeater_group_events:function(){var t=e("#_give_donation_levels_field");e("body").on("keyup",".give-multilevel-text-field",function(){var t=e(this).closest("tr"),i=e(".give-row-head h2 span",t),n=i.data("header-title");if(e(this).val()&&e(this).val()===i.html())return!1;e(this).val()?i.html(n+": "+e(this).val()):i.html(n)}),e(".give-multilevel-text-field").each(function(t,i){if(t){var n=e(i),o=n.closest("tr"),a=e(".give-row-head h2 span",o),s=a.data("header-title");if(n.val()&&n.val()===a.html())return!1;n.val()?a.html(s+": "+n.val()):a.html(s)}}),t.on("repeater_field_row_deleted",function(){var t=e(this);window.setTimeout(function(){var i=t,n=e(".give-row",i).not(".give-template"),o=e(".give-give_default_radio_inline",n);1===n.length&&o.prop("checked",!0)},200)}),t.on("repeater_field_new_row_added",function(t,i,n){var o=e(this),a=0;window.setTimeout(function(){!1===e(".give-give_default_radio_inline",o).is(":checked")&&e(".give-row",o).not(".give-template").first().find(".give-give_default_radio_inline").prop("checked",!0)},200),e('input[type="hidden"].give-levels_id',o).each(function(t,i){var n=e(i),o=parseInt(n.val());a<o&&(a=o)}),e('input[type="hidden"].give-levels_id',n).val(++a)})}},w=function(t,i){var n=e(t).attr("data-rf-row-count"),o=e(t),a=o.parents(".give-repeatable-field-section");n++,e("*",i).each(function(){e.each(this.attributes,function(e,t){this.value=this.value.replace("{{row-count-placeholder}}",n-1)})}),e(t).attr("data-rf-row-count",n),a.trigger("repeater_field_new_row_added",[t,i])},k=function(t){var i=e(t),n=i.parents(".give-repeatable-field-section"),o=e(t).attr("data-rf-row-count");i.attr("data-rf-row-count",--o),n.trigger("repeater_field_row_deleted")},C=function(t){if(parseInt(t.data("group-numbering"))){var i=e(".give-row-head h2 span",t),n=i.data("header-title");i.each(function(t,i){var o=e(i);o.parents(".give-template").length||o.html(n+": "+t)})}},j={init:function(){e("body").on("click",'#give-payments-filter input[type="submit"]',this.handleBulkActions)},handleBulkActions:function(t){var i=e(this).closest(".tablenav").find("select").val(),n=e(this).closest(".tablenav").find('option[value="'+i+'"]').text(),o=e('input[name="payment[]"]:checked').length,s=-1!==i.indexOf("set-status-"),r="",l="";if("-1"===(i=s?"set-to-status":i))return new a.d({modalContent:{title:give_vars.donors_bulk_action.no_action_selected.title,desc:give_vars.donors_bulk_action.no_action_selected.desc,cancelBtnTitle:give_vars.ok}}).render(),!1;if(Object.keys(give_vars.donations_bulk_action).length)for(l in give_vars.donations_bulk_action)if(l===i){if(r=s?give_vars.donations_bulk_action[i].zero.replace("{status}",n.replace("Set To ","")):give_vars.donations_bulk_action[i].zero,!parseInt(o))return new a.d({modalContent:{title:give_vars.donations_bulk_action.titles.zero,desc:r,cancelBtnTitle:give_vars.ok}}).render(),!1;r=1<o?give_vars.donations_bulk_action[i].multiple:give_vars.donations_bulk_action[i].single,t.preventDefault(),new a.a({modalContent:{title:give_vars.confirm_bulk_action,desc:r.replace("{payment_count}",o).replace("{status}",n.replace("Set To ",""))},successConfirm:function(t){e("#give-payments-filter").submit()}}).render()}return!0}};e(function(){o(),c(),m(),d(),e.giveAjaxifyFields({type:"country_state",debug:!0}),u.init(),h.init(),p.init(),f.init(),b.init(),y.init(),_.init(),g.init(),v.init(),x.init(),j.init(),e("a.give-rating-link").click(function(){jQuery(this).parent().text(jQuery(this).data("rated"))}),e(".give-ajax-user-search").on("keyup",function(){var t=e(this).val(),i="";e(this).data("exclude")&&(i=e(this).data("exclude")),e(".give-ajax").show(),data={action:"give_search_users",user_name:t,exclude:i},document.body.style.cursor="wait",e.ajax({type:"POST",data:data,dataType:"json",url:ajaxurl,success:function(t){e(".give-ajax").hide(),e(".give_user_search_results").removeClass("hidden"),e(".give_user_search_results span").html(""),e(t.results).appendTo(".give_user_search_results span"),document.body.style.cursor="default"}})}),e("body").on("click.giveSelectUser",".give_user_search_results span a",function(t){t.preventDefault();var i=e(this).data("login");e(".give-ajax-user-search").val(i),e(".give_user_search_results").addClass("hidden"),e(".give_user_search_results span").html("")}),e("body").on("click.giveCancelUserSearch",".give_user_search_results a.give-ajax-user-cancel",function(t){t.preventDefault(),e(".give-ajax-user-search").val(""),e(".give_user_search_results").addClass("hidden"),e(".give_user_search_results span").html("")});var i=e("#poststuff"),a=give_vars.thousands_separator,s=give_vars.decimal_separator,r="",l="",w="",k=s===a?1:0;i.on("keyup","input.give-money-field, input.give-price-field",function(){var t={label:give_vars.price_format_guide.trim()};r=(e(this).val().match(new RegExp(a,"g"))||[]).length,l=(e(this).val().match(new RegExp("[a-z]","g"))||[]).length,-1!==e(this).val().indexOf(a)&&k<r?e(this).giveHintCss("show",t):l?e(this).giveHintCss("show",t):e(this).giveHintCss("hide",t),r=l=""}),i.on("focusout","input.give-money-field, input.give-price-field",function(){if(w=t(e(this).val(),!1),e(this).giveHintCss("hide",{label:give_vars.price_format_guide.trim()}),t("0",!1)===t(e(this).val(),!1)){var i=e(this).attr("placeholder");return i=i||"0",e(this).val(i),!1}w=w.replace(".",s),-1!==w.indexOf("-")&&(w=w.replace("-","")),e(this).val(w)}),i.on("focusout","#_give_number_of_donation_goal",function(){1>e(this).val()&&e(this).val(1)}),e(".give-settings-page").on("click","#give-show-sub-nav",function(t){t.preventDefault();var i=e(this).next();return i.is(":hover")||i.toggleClass("give-hidden"),!1}).on("blur","#give-show-sub-nav",function(){var t=e(this).next();t.is(":hover")||t.addClass("give-hidden")}),e(".give_email_api_notification_status_setting input").change(function(){var t=e(this).val(),i="enabled"===t,n={};return e(this).closest(".give_options_panel").length?n=e(this).closest(".give_options_panel").children(".give-field-wrap:not(.give_email_api_notification_status_setting), .give-repeatable-field-section"):e(this).closest("table").length&&(n=e(this).closest("table").find("tr:not(.give_email_api_notification_status_setting)")),-1!==jQuery.inArray(t,["enabled","disabled","global"])&&(!!n.length&&void(i?n.show():n.hide()))}),e(".give_email_api_notification_status_setting input:checked").change(),n()})}(jQuery),jQuery(window).resize(function(){n()})},function(e,t,i){"use strict";function n(){if(jQuery("body.give_forms_page_give-tools .give-tools-import-tab #give-import-core-settings-form table.step-2").length>0){var e=jQuery("form.tools-setting-page-import"),t=e.find(".give-progress");p=!0,jQuery.ajax({type:"POST",url:ajaxurl,data:{action:give_vars.core_settings_import,fields:e.serialize()},dataType:"json",success:function(e){if(p=!1,!0!==e.success)return void new h.b({modalContent:{title:give_vars.import_failed,desc:give_vars.error_message,cancelBtnTitle:give_vars.ok}}).render();jQuery(t).find("div").width(e.percentage+"%"),window.location=e.url},error:function(){p=!1,new h.b({modalContent:{title:give_vars.import_failed,desc:give_vars.error_message,cancelBtnTitle:give_vars.ok}}).render()}})}}function o(){var e="body.give_forms_page_give-tools .give-tools-import-tab #give-import-core-settings-form table.step-1 .is_json_valid";jQuery(e).length>0&&(window.location=jQuery(e).val())}function a(){jQuery("body.give_forms_page_give-tools .give-tools-import-tab #give-import-donations-form table.step-3").length>0&&l()}function s(){var e="body.give_forms_page_give-tools .give-tools-import-tab #give-import-donations-form table.step-2 .csv_not_valid";jQuery(e).length>0&&(window.location=jQuery(e).val())}function r(){var e="body.give_forms_page_give-tools .give-tools-import-tab #give-import-donations-form table.step-1 .is_csv_valid";jQuery(e).length>0&&(window.location=jQuery(e).val())}function l(){var e=jQuery("form.tools-setting-page-import");p=!0;var t=e.find(".give-progress"),i=jQuery(t).data("total_ajax"),n=jQuery(t).data("current"),o=jQuery(t).data("start"),a=jQuery(t).data("end"),s=jQuery(t).data("next"),r=jQuery(t).data("total"),c=jQuery(t).data("per_page");jQuery.ajax({type:"POST",url:ajaxurl,data:{action:give_vars.give_donation_import,total_ajax:i,current:n,start:o,end:a,next:s,total:r,per_page:c,fields:e.serialize()},dataType:"json",success:function(e){jQuery(t).data("current",e.current),jQuery(t).find("div").width(e.percentage+"%"),1==e.next?(jQuery(t).data("start",e.start),jQuery(t).data("end",e.end),1==e.last&&jQuery(t).data("next",!1),l()):(p=!1,window.location=e.url)},error:function(){p=!1,new h.b({modalContent:{title:give_vars.import_failed,desc:give_vars.error_message,cancelBtnTitle:give_vars.ok}}).render()}})}function c(){window.onload=function(){u(),d(),a(),r(),s(),n(),o()}}function d(){var e=document.querySelector(".give-tools-setting-page-import table.step-2 tbody select");"undefined"!==e&&null!==e&&jQuery(".give-tools-setting-page-import table.step-2 tbody").on("change","select",function(){u()})}function u(){var e=document.querySelector(".give-tools-setting-page-import table.step-2 .give-import-donation-required-fields");if("undefined"!==e&&null!==e){var t=!0,i=!1,n=!1,o=!1,a=!1;document.querySelectorAll(".give-import-donation-required-fields li").forEach(function(e){e.querySelector(".dashicons").classList.remove("dashicons-yes"),e.querySelector(".dashicons").classList.add("dashicons-no-alt")});var s=Array.from(document.querySelectorAll("table.step-2 tbody select")).map(function(e){return e.value});s.includes("email")&&(i=!0,document.querySelector(".give-import-donation-required-email .dashicons").classList.remove("dashicons-no-alt"),document.querySelector(".give-import-donation-required-email .dashicons").classList.add("dashicons-yes")),s.includes("first_name")&&(n=!0,document.querySelector(".give-import-donation-required-first .dashicons").classList.remove("dashicons-no-alt"),document.querySelector(".give-import-donation-required-first .dashicons").classList.add("dashicons-yes")),s.includes("amount")&&(o=!0,document.querySelector(".give-import-donation-required-amount .dashicons").classList.remove("dashicons-no-alt"),document.querySelector(".give-import-donation-required-amount .dashicons").classList.add("dashicons-yes")),(s.includes("form_id")||s.includes("form_title"))&&(a=!0,document.querySelector(".give-import-donation-required-form .dashicons").classList.remove("dashicons-no-alt"),document.querySelector(".give-import-donation-required-form .dashicons").classList.add("dashicons-yes")),i&&n&&o&&a&&(t=!1),document.getElementById("recount-stats-submit").disabled=t}}var h=i(2),p=!0;jQuery.noConflict(),function(e){e(function(){c()})}(jQuery)},function(e,t){}]);
//# sourceMappingURL=admin.js.map