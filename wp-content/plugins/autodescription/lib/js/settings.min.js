"use strict";window.tsfSettings=function(a){function b(a){return`autodescription-site-settings[${a}]`}function c(){const a=document.getElementById("tsf-settings");if(!a)return;const b=a.querySelectorAll("[name=submit]");a.addEventListener("submit",()=>{b.forEach(a=>a.disabled=!0),setTimeout(()=>b.forEach(a=>a.disabled=!1),3e3)})}function d(){document.getElementById(b("display_character_counter"))?.addEventListener("click",a=>{document.querySelectorAll(".tsf-counter-wrap").forEach(b=>{b.style.display=a.target.checked?"":"none"}),a.target.checked&&tsfC?.triggerCounterUpdate()});document.getElementById(b("display_pixel_counter"))?.addEventListener("click",a=>{document.querySelectorAll(".tsf-pixel-counter-wrap").forEach(b=>{b.style.display=a.target.checked?"":"none"}),a.target.checked&&tsfC?.triggerCounterUpdate()});document.getElementById(b("canonical_scheme"))?.addEventListener("change",a=>{const b=a.target.value,c=JSON.parse(a.target.dataset?.values||0)||[];document.body.dispatchEvent(new CustomEvent("tsf-canonical-scheme-changed",{detail:{scheme:c[b]??b}}))});const a=new Set,c=new Set,d=new Set,e=new Set;document.body.addEventListener("tsf-post-type-support-changed",()=>{let b=document.querySelectorAll(".tsf-excluded-taxonomies"),c=!1;b.forEach(b=>{const e=b.name.split(/(?:.+\[)(.+?)(?:])/).join(""),h=JSON.parse(b.dataset?.postTypes||0)||[],i=h&&h.every(b=>a.has(b));i?(!d.has(e)&&(c=!0),d.add(e)):d.has(e)&&(d.delete(e),c=!0),f(),c&&g(e)})});const f=()=>{e.clear(),c.forEach(a=>e.add(a)),d.forEach(a=>e.add(a))},g=a=>{document.body.dispatchEvent(new CustomEvent("tsf-taxonomy-support-changed",{detail:{taxonomy:a,set:c,setPt:d,setAll:e}}))},h=b=>{document.body.dispatchEvent(new CustomEvent("tsf-post-type-support-changed",{detail:{postType:b,set:a}}))};let i=!1;const j=b=>{if(b.target.name){let c=b.target.name.split(/(?:.+\[)(.+?)(?:])/).join("");b.target.checked?(a.add(c),h(c)):i&&(a.delete(c),h(c))}},k=a=>{if(a.target.name){let b=a.target.name.split(/(?:.+\[)(.+?)(?:])/).join("");a.target.checked?(c.add(b),f(),g(b)):i&&(c.delete(b),f(),g(b))}};document.querySelectorAll(".tsf-excluded-post-types").forEach(a=>{a.addEventListener("change",j),E(a,"change")}),document.querySelectorAll(".tsf-excluded-taxonomies").forEach(a=>{a.addEventListener("change",k),E(a,"change")}),i=!0}function e(){document.querySelectorAll(".tsf-color-picker").forEach(b=>{let c=a(b),d="",e=c.data("tsf-default-color");c.wpColorPicker({defaultColor:e,width:238,change:()=>{d=c.wpColorPicker("color"),""===d&&(d=e),b.value=e,tsfAys.registerChange()},clear:()=>{e.length&&(b.value=e,c.closest(".wp-picker-container").find(".wp-color-result").css("backgroundColor",e)),tsfAys.registerChange()},palettes:!1})})}function f(){const a=document.getElementById(b("title_rem_additions")),c=document.getElementById(b("social_title_rem_additions")),d=wp.template("tsf-disabled-title-additions-help-social")(),e=a=>{a.target.checked?(document.querySelectorAll(".tsf-title-additions-js").forEach(a=>a.style.display="none"),c&&(c.dataset.disabledWarning=1,c.closest("label").insertAdjacentHTML("beforeend",d),tsfTT.triggerReset())):(document.querySelectorAll(".tsf-title-additions-js").forEach(a=>a.style.display="inline"),c?.dataset.disabledWarning&&c.closest("label").querySelector(".tsf-title-additions-warning-social")?.remove()),document.body.dispatchEvent(new CustomEvent("tsf-update-title-rem-additions",{detail:{removeAdditions:!!a.target.checked}}))};a&&(a.addEventListener("change",e),E(a,"change"));const f=a=>{let c;document.getElementsByName(a.target.name).forEach(a=>{a.checked&&(c=a.value)});const d="left"===c,e="tsf-title-additions-location-hidden";document.querySelectorAll(".tsf-title-additions-example-left").forEach(a=>{a.classList.toggle(e,!d),a.classList.remove("hidden")}),document.querySelectorAll(".tsf-title-additions-example-right").forEach(a=>{a.classList.toggle(e,d),a.classList.remove("hidden")}),tsfTitle.updateStateAll("additionPlacement",d?"before":"after",b("homepage_title"))};document.querySelectorAll("#tsf-title-location input").forEach(a=>{a.addEventListener("change",f),a.checked&&E(a,"change")});const g=a=>{const c=!a.target.checked,d="tsf-title-tax-prefix-hidden";document.querySelectorAll(".tsf-title-tax-prefix").forEach(a=>{a.classList.toggle(d,!c),a.classList.remove("hidden")}),document.querySelectorAll(".tsf-title-tax-noprefix").forEach(a=>{a.classList.toggle(d,c),a.classList.remove("hidden")}),tsfTitle.updateStateAll("showPrefix",c,b("homepage_title"))},h=document.getElementById(b("title_rem_prefixes"));h&&(h.addEventListener("change",g),E(h,"change"));const i=a=>{const b=tsf.decodeEntities(a.target.dataset.entity),c="tsf-title-separator-active";document.querySelectorAll(".tsf-sep-js").forEach(a=>{a.textContent=` ${b} `}),window.dispatchEvent(new CustomEvent("tsf-title-sep-updated",{detail:{separator:b}}));let d=document.querySelector(`.${c}`);d&&d.classList.remove(c,"tsf-no-focus-ring");let e=document.querySelector(`label[for="${a.target.id}"]`);e&&e.classList.add(c)};document.querySelectorAll("#tsf-title-separator input").forEach(a=>{a.addEventListener("click",i)});const j=a=>{a.target.classList.add("tsf-no-focus-ring")};document.querySelectorAll("#tsf-title-separator label").forEach(a=>{a.addEventListener("click",j)});const k=b("homepage_title"),l=document.getElementById(b("site_title")),m=a=>{let b=document.querySelectorAll(".tsf-site-title-js"),c=tsf.decodeEntities(tsf.sDoubleSpace(a.target.value.trim()));c||=tsf.decodeEntities(a.target.placeholder),tsfTitle.getStateOf(k,"_defaultTitleLocked")||tsfTitle.updateStateOf(k,"defaultTitle",c),tsfTitle.updateStateAll("additionValue",c,k);let d=tsf.escapeString(c);b.forEach(a=>{a.innerHTML=d})};l&&(l.addEventListener("input",m),E(l,"input"))}function g(){const c=()=>{tsfTitle.enqueueUnregisteredInputTrigger(b("homepage_title")),tsfDescription.enqueueUnregisteredInputTrigger(b("homepage_description"))},d=(a,b)=>{if("autodescription-homepage-settings"===b.id){let a=b.querySelector(".inside");0<a.offsetHeight&&0<a.offsetWidth&&c()}};a(document).on("postbox-toggled",d),document.getElementById("tsf-homepage-tab-general")?.addEventListener("tsf-tab-toggled",c)}function h(){const a=b("homepage_title"),c=document.getElementById(a),d=document.getElementById(b("homepage_title_tagline")),e=document.getElementById(b("homepage_tagline"));if(!c)return;tsfTitle.setInputElement(c);const f=JSON.parse(document.getElementById(`tsf-title-data_${a}`)?.dataset.state||0);tsfTitle.updateStateOf(a,"allowReferenceChange",!f.refTitleLocked),tsfTitle.updateStateOf(a,"defaultTitle",f.defaultTitle),tsfTitle.updateStateOf(a,"addAdditions",f.addAdditions),tsfTitle.updateStateOf(a,"useSocialTagline",!!(f.useSocialTagline||!1)),tsfTitle.updateStateOf(a,"additionValue",f.additionValue),tsfTitle.updateStateOf(a,"additionPlacement",f.additionPlacement),tsfTitle.updateStateOf(a,"_defaultTitleLocked",!!(f._defaultTitleLocked||!1)),tsfTitle.enqueueUnregisteredInputTrigger(a);const g=b=>{tsfTitle.updateStateOf(a,"additionPlacement","left"===b.target.value?"before":"after")};document.querySelectorAll("#tsf-home-title-location input").forEach(a=>{a.addEventListener("change",g),a.checked&&E(a,"change")});const h=b=>{let c=tsfTitle.getStateOf(a,"prefixValue"),d="";switch(b){case"password":d=tsfTitle.protectedPrefix;break;case"private":d=tsfTitle.privatePrefix;break;default:case"public":d=""}d!==c&&tsfTitle.updateStateOf(a,"prefixValue",d)};D.states.isFrontPrivate?h("private"):D.states.isFrontProtected&&h("password");const i=b=>{let c=document.querySelectorAll(".tsf-custom-title-js"),d=tsf.decodeEntities(tsf.sDoubleSpace(b.target.value.trim()));d.length?(d=tsf.escapeString(d),c.forEach(a=>a.innerHTML=d)):(d=tsf.escapeString(tsf.decodeEntities(tsfTitle.getStateOf(a,"defaultTitle"))),c.forEach(a=>a.innerHTML=d))};c.addEventListener("input",i),E(c,"input");let j;const k=()=>{clearTimeout(j),j=setTimeout(()=>{let b=tsfTitle.getStateOf(a,"additionValue");b=tsf.decodeEntities(tsf.sDoubleSpace(b.trim())),b.length&&tsfTitle.getStateOf(a,"addAdditions")?(document.querySelectorAll(".tsf-custom-tagline-js").forEach(a=>{a.innerHTML=tsf.escapeString(b)}),document.querySelectorAll(".tsf-custom-blogname-js").forEach(a=>{a.style.display=null})):document.querySelectorAll(".tsf-custom-blogname-js").forEach(a=>{a.style.display="none"})},1e3/60)},l=()=>{let b=d.value.trim();b.length||(b=d.placeholder||""),b=tsf.escapeString(tsf.decodeEntities(b.trim())),tsfTitle.updateStateOf(a,"additionValue",b),k()};d.addEventListener("input",l),E(d,"input");const m=b=>{let c=!1;b.target.checked?(c=!0,d.readOnly=!1):(c=!1,d.readOnly=!0),tsfTitle.updateStateOf(a,"addAdditions",c),k()};e.addEventListener("change",m),E(e,"change");const n=a=>{tsfTitle.updateStateAll("separator",a.detail.separator)};window.addEventListener("tsf-title-sep-updated",n)}function i(){const a=b("homepage_description");tsfDescription.setInputElement(document.getElementById(a));const c=JSON.parse(document.getElementById(`tsf-description-data_${a}`)?.dataset.state||0);c&&tsfDescription.updateStateOf(a,"defaultDescription",c.defaultDescription.trim()),tsfDescription.enqueueUnregisteredInputTrigger(a)}function j(){const a="homepage_social_settings";tsfSocial.setInputInstance(a,b("homepage_title"),b("homepage_description"));const c=JSON.parse(document.getElementById(`tsf-social-data_${a}`)?.dataset.settings||0);if(!c)return;tsfSocial.updateStateOf(a,"addAdditions",c.og.state.addAdditions),tsfSocial.updateStateOf(a,"defaults",{ogTitle:c.og.state.defaultTitle,twTitle:c.tw.state.defaultTitle,ogDesc:c.og.state.defaultDesc,twDesc:c.tw.state.defaultDesc}),tsfSocial.updateStateOf(a,"placeholderLocks",{ogTitle:c.og.state?.titlePhLock||!1,twTitle:c.tw.state?.titlePhLock||!1,ogDesc:c.og.state?.descPhLock||!1,twDesc:c.tw.state?.descPhLock||!1});const d=document.getElementById(b("homepage_twitter_card_type")),e=a=>{const{cardType:b}=a.detail,c=d.querySelector("[value=\"\"]"),e=d.dataset||{},f=e.defaultI18n?.replace("%s",e.defaultLocked?e.defaultValue:b);c.innerHTML=f,d.dispatchEvent(new Event("change"))};d&&document.body.addEventListener("tsf-update-twitter-card-type",e)}function k(){const a=b("homepage_canonical"),c=b("homepage_noindex"),d=document.getElementById(a),e=document.getElementById(c);if(!d)return;const f=2;let g=0;tsfCanonical.setInputElement(d);const h=JSON.parse(document.getElementById(`tsf-canonical-data_${a}`)?.dataset.state||0);h&&(tsfCanonical.updateStateOf(a,"allowReferenceChange",!h.refCanonicalLocked),tsfCanonical.updateStateOf(a,"defaultCanonical",h.defaultCanonical.trim()),tsfCanonical.updateStateOf(a,"preferredScheme",h.preferredScheme.trim()),tsfCanonical.updateStateOf(a,"urlStructure",h.urlStructure)),tsfCanonical.enqueueTriggerUnregisteredInput(a),document.body.addEventListener("tsf-canonical-scheme-changed",b=>{tsfCanonical.updateStateOf(a,"preferredScheme",b.detail.scheme)});const i=()=>{tsfCanonical.updateStateOf(a,"showUrlPlaceholder",!(g&f))};i();let j=!1,k=!1;const l=()=>{let a="index";switch(h.noindexQubit){case 0:a=e?.checked||k||j||h.isProtected?"noindex":"index";break;case-1:a="index";break;case 1:a="noindex"}"noindex"==a?g|=f:g&=~f,i()};if(e?.addEventListener("change",l),h.isPage){const a=a=>{const{robotsType:b,set:c}=a.detail;"noindex"!==b||(j=c.has("page"),l())};document.body.addEventListener("tsf-post-type-robots-changed",a)}const m=a=>{const{checked:b,robotsType:c}=a.detail;"noindex"!==c||(k=!!b,l())};document.body.addEventListener("tsf-site-robots-changed",m)}function l(a,c){return`${b("pta")}[${a}][${c}]`}function m(){return F||=JSON.parse(document.getElementById("tsf-post-type-archive-data")?.dataset.postTypes||0)||{}}function n(){const a=m(),b=Object.keys(a).length;switch(!0){case 1<b:o();case 0<b:p();break;default:}for(const b in a)q(b),r(b),s(b),t(b),u(b)}function o(){const a=m(),b=document.getElementById("tsf-post-type-archive-selector"),c=document.createElement("option"),d=document.getElementById("tsf-post-type-archive-header-wrap");d&&(d.style.display=null);const e=()=>{for(const d in a){let e=c.cloneNode();e.value=tsf.escapeString(d),e.innerHTML=tsf.escapeString(a[d].label),b?.appendChild(e)}};e(),document.querySelectorAll(".tsf-post-type-header").forEach(a=>a.classList.add("hidden"));let f,g;const h=a=>{clearTimeout(f),f=setTimeout(()=>{g&&d?.removeChild(g),document.querySelectorAll(".tsf-post-type-archive-wrap").forEach(b=>{a.target.value===b.dataset.postType?(b.style.display=null,g=b.querySelector(".tsf-post-type-archive-details")?.cloneNode(!0)):b.style.display="none",b.classList.remove("hide-if-tsf-js")}),g&&d?.appendChild(g),document.body.dispatchEvent(new CustomEvent("tsf-post-type-archive-switched",{detail:{postType:a.target.value,hasKompaanChocolateBananaBeer:!1}}))},1e3/60)};b&&(b.addEventListener("change",h),E(b,"change"))}function p(){const a=a=>{const{postType:b,set:c}=a.detail,d=document.querySelector(`.tsf-post-type-archive-wrap[data-post-type="${b}"]`),e=c.has(b);d?.querySelector(".tsf-post-type-archive-if-excluded")?.classList.toggle("hidden",!e),d?.querySelector(".tsf-post-type-archive-if-not-excluded")?.classList.toggle("hidden",e),document.body.dispatchEvent(new CustomEvent("tsf-post-type-archive-switched",{detail:{postType:b}}))};document.body.addEventListener("tsf-post-type-support-changed",a)}function q(a){const c=l(a,"doctitle"),d=document.getElementById(c);if(!d)return;tsfTitle.setInputElement(d);const e=JSON.parse(document.getElementById(`tsf-title-data_${c}`)?.dataset.state||0);e&&(tsfTitle.updateStateOf(c,"defaultTitle",e.defaultTitle),tsfTitle.updateStateOf(c,"addAdditions",e.addAdditions),tsfTitle.updateStateOf(c,"useSocialTagline",!!(e.useSocialTagline||!1)),tsfTitle.updateStateOf(c,"additionValue",e.additionValue),tsfTitle.updateStateOf(c,"additionPlacement",e.additionPlacement),tsfTitle.updateStateOf(c,"prefixValue",e.prefixValue),tsfTitle.updateStateOf(c,"showPrefix",e.showPrefix));const f=a=>{let d=!a.target.value.trim().length;document.getElementById(b("title_rem_prefixes"))?.checked&&(d=!1),tsfTitle.updateStateOf(c,"showPrefix",d)};d.addEventListener("input",f);const g=a=>{let d=!a.target.checked;document.getElementById(b("title_rem_additions"))?.checked&&(d=!1),tsfTitle.updateStateOf(c,"addAdditions",d)},h=wp.template("tsf-disabled-title-additions-help")(),i=document.getElementById(l(a,"title_no_blog_name")),j=a=>{const{removeAdditions:b}=a.detail;i.disabled=b,b?(i.closest("label").insertAdjacentHTML("beforeend",h),tsfTT.triggerReset()):i.closest("label").querySelector(".tsf-title-additions-warning")?.remove(),i.dispatchEvent(new Event("change"))};i&&(document.body.addEventListener("tsf-update-title-rem-additions",j),i.addEventListener("change",g),E(i,"change")),tsfTitle.enqueueUnregisteredInputTrigger(c)}function r(a){const b=l(a,"description"),c=document.getElementById(b);if(c){tsfDescription.setInputElement(c);const a=JSON.parse(document.getElementById(`tsf-description-data_${b}`)?.dataset.state||0);a&&tsfDescription.updateStateOf(b,"defaultDescription",a.defaultDescription.trim()),tsfDescription.enqueueUnregisteredInputTrigger(b)}}function s(a){const b=`pta_social_settings_${a}`,c=JSON.parse(document.getElementById(`tsf-social-data_${b}`)?.dataset.settings||0);tsfSocial.setInputInstance(b,l(a,"doctitle"),l(a,"description")),tsfSocial.updateStateOf(b,"addAdditions",c.og.state.addAdditions),tsfSocial.updateStateOf(b,"defaults",{ogTitle:c.og.state.defaultTitle,twTitle:c.tw.state.defaultTitle,ogDesc:c.og.state.defaultDesc,twDesc:c.tw.state.defaultDesc});const d=document.getElementById(l(a,"tw_card_type")),e=a=>{const{cardType:b}=a.detail,c=d.querySelector("[value=\"\"]"),e=d.dataset||{},f=e.defaultI18n?.replace("%s",b);c.innerHTML=f,d.dispatchEvent(new Event("change"))};d&&document.body.addEventListener("tsf-update-twitter-card-type",e)}function t(a){const b=l(a,"canonical"),c=l(a,"noindex"),d=document.getElementById(b),e=document.getElementById(c),f=2;let g=0;const h=()=>{tsfCanonical.updateStateOf(b,"showUrlPlaceholder",!(g&f))};if(d){tsfCanonical.setInputElement(d);const a=JSON.parse(document.getElementById(`tsf-canonical-data_${b}`)?.dataset.state||0);a&&(tsfCanonical.updateStateOf(b,"allowReferenceChange",!a.refCanonicalLocked),tsfCanonical.updateStateOf(b,"defaultCanonical",a.defaultCanonical.trim()),tsfCanonical.updateStateOf(b,"preferredScheme",a.preferredScheme.trim()),tsfCanonical.updateStateOf(b,"urlStructure",a.urlStructure)),tsfCanonical.enqueueTriggerUnregisteredInput(b),document.body.addEventListener("tsf-canonical-scheme-changed",a=>{tsfCanonical.updateStateOf(b,"preferredScheme",a.detail.scheme)})}const i={site:new Map,pt:new Map},j=b=>{let c=!1;return"noindex"===b&&(c=!m()[a].hasPosts),c||i.site.get(b)||i.pt.get(b)},k=b=>{const c=document.getElementById(l(a,b));if(!c)return;const d=[...c.options].find(a=>"0"===a.value),e=c.dataset||{},f=e.defaultI18n?.replace("%s",tsf.decodeEntities(j(b)?e.defaultOff:e.defaultOn));f!==d?.innerHTML&&(d.innerHTML=f,c.dispatchEvent(new Event("change")))},n=b=>{const{postType:c,robotsType:d,set:e}=b.detail;a!==c||(i.pt.set(d,e.has(a)),k(d))},o=a=>{const{checked:b,robotsType:c}=a.detail;i.site.set(c,!!b),k(c)};document.body.addEventListener("tsf-post-type-robots-changed",n),document.body.addEventListener("tsf-site-robots-changed",o),["noindex","nofollow","noarchive"].forEach(a=>{k(a)});const p=a=>{let b="";switch(+a){case 0:b=j("noindex")?"noindex":"index";break;case-1:b="index";break;case 1:b="noindex"}"noindex"==b?g|=f:g&=~f,h()};e.addEventListener("change",a=>p(a.target.value)),p(e.value)}function u(b){const c=()=>{tsfTitle.enqueueUnregisteredInputTrigger(l(b,"doctitle")),tsfDescription.enqueueUnregisteredInputTrigger(l(b,"description"))},d=(a,b)=>{if("autodescription-post-type-archive-settings"===b.id){let a=b.querySelector(".inside");0<a.offsetHeight&&0<a.offsetWidth&&c()}};a(document).on("postbox-toggled",d);const e=a=>{a.detail?.postType===b&&c()};document.body.addEventListener("tsf-post-type-archive-switched",e),document.getElementById(`tsf-post_type_archive_${b}-tab-general`)?.addEventListener("tsf-tab-toggled",c)}function v(){const a=document.getElementById(b("social_title_rem_additions")),c=a=>{a.target.checked?tsfSocial.updateStateAll("addAdditions",!1):tsfSocial.updateStateAll("addAdditions",!0)};a&&(a.addEventListener("change",c),E(a,"change"));const d=document.getElementById(b("og_tags")),e=a=>{document.getElementById("multi_og_image_wrapper")?.classList.toggle("hidden",!a.target.checked)};d&&(d.addEventListener("change",e),E(d,"change"));const f=a=>{if(!a.id)return;const c=document.getElementById(b(a.id)),d=b=>{tsfTabs.toggleTab("tsfSettings",`tsf-social-tab-${a.tab}`,b.target.checked)};c&&(c.addEventListener("change",d),E(c,"change"))};[{id:"og_tags",tab:"postdates"},{id:"facebook_tags",tab:"facebook"},{id:"twitter_tags",tab:"twitter"},{id:"oembed_scripts",tab:"oembed"}].forEach(f);const g=new Set,h=a=>{a.target.checked?g.add(a.target.name):g.delete(a.target.name),document.getElementById("tsf-social-settings-wrapper")?.classList.toggle("hidden",!g.size)};["og_tags","facebook_tags","twitter_tags","oembed_scripts"].forEach(a=>{const c=document.getElementById(b(a));c.addEventListener("change",h),E(c,"change")});const i=a=>{document.body.dispatchEvent(new CustomEvent("tsf-update-twitter-card-type",{detail:{cardType:a.target.value}}))};document.querySelectorAll("#tsf-twitter-cards input").forEach(a=>{a.addEventListener("change",i),a.checked&&E(a,"change")})}function w(){const a=document.getElementById(b("ld_json_enabled")),c=a=>{document.getElementById("tsf-advanced-structured-data-settings-wrapper")?.classList.toggle("hidden",!a.target.checked),h()};a&&(a.addEventListener("change",c),E(a,"change"));const d={id:"knowledge_output",tab:"presence"},e=document.getElementById(b(d.id)),f=document.getElementById(`tsf-social-tab-${d.tab}`),g=document.getElementById("schema-tabs-wrapper")?.querySelector(`[for=tsf-schema-tab-${d.tab}]`),h=()=>{let b=a?.checked&&e?.checked;g?.classList.toggle("hidden",!b),b?f?.removeAttribute("disabled"):f?.setAttribute("disabled","")};e&&(e.addEventListener("change",h),h(e,"change"));const i=document.getElementById(b("knowledge_type")),j=a=>{document.getElementById("tsf-logo-structured-data-settings-wrapper")?.classList.toggle("hidden","person"===a.target.value)};i&&(i.addEventListener("change",j),E(i,"change"));const k=document.getElementById(b("knowledge_logo")),l=a=>{document.getElementById("tsf-logo-upload-structured-data-settings-wrapper")?.classList.toggle("hidden",!a.target.checked)};k&&(k.addEventListener("change",l),E(k,"change"))}function x(){const a=document.getElementById(b("set_copyright_directives"));if(a){const c=["max_snippet_length","max_image_preview","max_video_preview"].map(a=>document.getElementById(b(a))),d="tsf-toggle-directives-surrogate",e=a=>{a.target.checked?(c.forEach(a=>a.disabled=!1),document.querySelectorAll(`.${d}`).forEach(a=>a.remove())):c.forEach(a=>{a.disabled=!0;let b=document.createElement("input");b.type="hidden",b.name=a.name||"",b.value=a.value||0,b.classList.add(d),a.insertAdjacentElement("afterend",b)})};a.addEventListener("change",e),E(a,"change")}const c={},d={};[c,d].forEach(a=>{a.noindex=new Set,a.nofollow=new Set,a.noarchive=new Set});const e=(a,b)=>{document.body.dispatchEvent(new CustomEvent("tsf-post-type-robots-changed",{detail:{postType:a,robotsType:b,set:c[b]}}))},f=(a,b)=>{document.body.dispatchEvent(new CustomEvent("tsf-taxonomy-robots-changed",{detail:{taxonomy:a,robotsType:b,set:d[b]}}))},g=(a,b)=>{document.body.dispatchEvent(new CustomEvent("tsf-site-robots-changed",{detail:{checked:a,robotsType:b}}))},h=wp.template("tsf-robots-pt-help")(),i=(a,c,d)=>{let e=document.getElementById(`${b(`${c}_taxonomies`)}[${a}]`);d?(e.closest("label").insertAdjacentHTML("beforeend",h),tsfTT.triggerReset()):e.closest("label").querySelector(".tsf-taxonomy-from-pt-robots-warning")?.remove(),o(a)},j=a=>{const b=document.querySelectorAll(`.tsf-robots-taxonomies[data-robots="${a}"]`);let e=!1;b.forEach(b=>{let g=b.name.split(/(?:.+\[)(.+?)(?:])/).join("");const h=JSON.parse(b.dataset.postTypes||0),i=h&&h.every(b=>c[a].has(b));i?(!d[a].has(g)&&(e=!0),d[a].add(g)):d[a].has(g)&&(d[a].delete(g),e=!0),e&&f(g,a)})},k={noindex:new Map,nofollow:new Map,noarchive:new Map},l=(a,b)=>k[b].get(a)||new Set,m=a=>{const{taxonomy:b,robotsType:c}=a.detail;l("robotsPtTaxonomies",c).size!==d[c].size&&i(b,c,d[c].has(b)),k[c].set("robotsPtTaxonomies",new Set(d[c]))};document.body.addEventListener("tsf-taxonomy-robots-changed",m);const n=a=>{j(a.detail.robotsType)};document.body.addEventListener("tsf-post-type-robots-changed",n);const o=a=>{for(let c in d)if(d[c].has(a)){let d=document.getElementById(`${b(`${c}_taxonomies`)}[${a}]`),e=d.closest("label").querySelector(".tsf-taxonomy-from-pt-robots-warning");e.style.display=d.dataset.disabledWarning?"none":""}};document.body.addEventListener("tsf-taxonomy-support-changed",a=>o(a.detail.taxonomy));let p=!1;const q=a=>{let b=a.target?.name.split(/(?:.+\[)(.+?)(?:])/).join(""),d=a.target?.dataset.robots;a.target.checked?(c[d].add(b),e(b,d)):p&&(c[d].delete(b),e(b,d))};document.querySelectorAll(".tsf-robots-post-types").forEach(a=>{a.addEventListener("change",q),E(a,"change")});const r=a=>{let b=a.target?.dataset.robots,c=a.target.checked;c?g(c,b):p&&g(c,b)};document.querySelectorAll(".tsf-robots-site").forEach(a=>{a.addEventListener("change",r),E(a,"change")}),p=!0}function y(){const a=a=>tsf.escapeString(`tsf-disabled-post-type-input-clone-${a}`),c=wp.template("tsf-disabled-post-type-help")(),d=a=>[document.getElementById(`${b("noindex_post_types")}[${a}]`),document.getElementById(`${b("nofollow_post_types")}[${a}]`),document.getElementById(`${b("noarchive_post_types")}[${a}]`)].filter(a=>a),e=b=>{const{postType:e,set:f}=b.detail;f.has(e)?(d(e).forEach(b=>{if(b){let d=b.cloneNode(!0);d.type="hidden",d.value=b.checked?b.value:"",d.id+="-cloned",d.classList.add(a(e)),b.disabled=!0,b.dataset.disabledWarning=1;const f=b.closest("label");f.insertAdjacentHTML("beforeend",c),f.append(d)}}),tsfTT.triggerReset()):d(e).forEach(b=>{b&&b.dataset.disabledWarning&&(b.closest("label").querySelector(".tsf-post-type-warning").remove(),document.querySelectorAll(`.${a(e)}`).forEach(a=>{a.remove()}),b.disabled=!1,b.dataset.disabledWarning="")})};document.body.addEventListener("tsf-post-type-support-changed",e);const f=wp.template("tsf-disabled-taxonomy-help")(),g=wp.template("tsf-disabled-taxonomy-from-pt-help")(),h=a=>tsf.escapeString(`tsf-disabled-taxonomy-input-clone-${a}`),i=a=>[document.getElementById(`${b("noindex_taxonomies")}[${a}]`),document.getElementById(`${b("nofollow_taxonomies")}[${a}]`),document.getElementById(`${b("noarchive_taxonomies")}[${a}]`)].filter(a=>a),j=a=>{const{taxonomy:c,set:d,setPt:e,setAll:j}=a.detail;j.has(c)?(i(c).forEach(a=>{if(a){let b=a.cloneNode(!0);b.type="hidden",b.value=a.checked?a.value:"",b.id+="-cloned",b.classList.add(h(c)),a.disabled=!0,a.dataset.disabledWarning=1;const d=a.closest("label");d.querySelector(".tsf-taxonomy-warning")||d.insertAdjacentHTML("beforeend",f),d.querySelector(h(c))||d.append(b)}}),tsfTT.triggerReset()):i(c).forEach(a=>{a&&a.dataset.disabledWarning&&(a.closest("label").querySelector(".tsf-taxonomy-warning")?.remove(),document.querySelectorAll(`.${h(c)}`).forEach(a=>{a.remove()}),a.disabled=!1,a.dataset.disabledWarning="")});const k=document.getElementById(`${b("disabled_taxonomies")}[${c}]`);e.has(c)?!k.closest("label").querySelector(".tsf-taxonomy-from-pt-warning")&&(k.closest("label").insertAdjacentHTML("beforeend",g),tsfTT.triggerReset()):k.closest("label").querySelector(".tsf-taxonomy-from-pt-warning")?.remove()};document.body.addEventListener("tsf-taxonomy-support-changed",j)}function z(){const a=["google_verification","bing_verification","yandex_verification","baidu_verification","pint_verification"].map(a=>document.getElementById(b(a))),c=a=>{let b=a.clipboardData&&a.clipboardData.getData("text")||"";if(b){let c=/<meta\b[^>]+?\bcontent=(["'])?([^"'>\s]+)\1?[^>]*?>/i.exec(b);c?.[2]?.length&&(a.stopPropagation(),a.preventDefault(),a.target.value=c[2],tsfAys.registerChange())}};a.forEach(a=>a.addEventListener("paste",c))}function A(){const a=document.getElementById(b("sitemaps_output")),c=document.getElementById(b("cache_sitemap")),d=a=>{const b=!!a.target.checked;tsfTabs.toggleTab("tsfSettings","tsf-sitemaps-tab-style",b),document.getElementById("tsf-sitemap-transient-cache-settings")?.classList.toggle("hidden",!b)};a&&(a.addEventListener("change",d),E(a,"change"));const e=new Map,f=a=>{const b=document.getElementById("tsf-sitemap-prerendering-settings");e.set(a.target.name,!!a.target.checked);for(const c of e.values())if(!c)return void b?.classList.add("hidden",!e.size);b?.classList.remove("hidden")};[a,c].forEach(a=>{a&&(a.addEventListener("change",f),E(a,"change"))})}function B(){[c,d,f,g,h,i,j,k,n,v,w,x,y,z,A,e].forEach(a=>{try{a()}catch(a){}})}function C(){tsfTabs.initStack("tsfSettings",{tabToggledEvent:new CustomEvent("tsf-tab-toggled"),HTMLClasses:{wrapper:"tsf-nav-tab-wrapper",tabRadio:"tsf-nav-tab-radio",tabLabel:"tsf-nav-tab-label",activeTab:"tsf-nav-tab-active",activeTabContent:"tsf-nav-tab-content-active"},fixHistory:!0})}const D=tsfSettingsL10n,E=tsf.dispatchAtInteractive;let F;return Object.assign({load:()=>{const a=document.querySelector(".wp-header-end");document.querySelectorAll("div.updated, div.error, div.notice, .notice-error, .notice-warning, .notice-info").forEach(b=>{a.insertAdjacentElement("afterend",b)}),document.body.addEventListener("tsf-onload",B),C()}},{l10n:D})}(jQuery),window.tsfSettings.load();
