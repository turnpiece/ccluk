"use strict";window.tsfTerm=function(){function a(){const a=document.getElementById("autodescription-meta[noindex]"),b=document.getElementById("autodescription-meta[canonical]"),c=new Map,d=2;let e=0;tsfCanonical.setInputElement(b);const h=JSON.parse(document.getElementById(`tsf-canonical-data_${j}`)?.dataset.state||0);h&&(tsfCanonical.updateStateOf(j,"allowReferenceChange",!h.refCanonicalLocked),tsfCanonical.updateStateOf(j,"defaultCanonical",h.defaultCanonical.trim()),tsfCanonical.updateStateOf(j,"preferredScheme",h.preferredScheme.trim()),tsfCanonical.updateStateOf(j,"urlStructure",h.urlStructure)),tsfCanonical.enqueueTriggerUnregisteredInput(j);const i=()=>{tsfCanonical.updateStateOf(j,"showUrlPlaceholder",!(e&d)),tsfCanonical.updateStateOf(j,"urlDataParts",Object.fromEntries(c.entries()))};if(tsfCanonical.usingPermalinks&&b){const a=tsfCanonical.structIncludes(j,`%${g}%`);let b="",d="",e=[];a&&(tsfTermSlugs.store(h.parentTermSlugs,g),e=h.parentTermSlugs.map(a=>a.slug));const k=tsfUtils.debounce(()=>{if(a){let a="";b.length&&(a=tsfCanonical.sanitizeSlug(b.substring(0,200)),"0"===a&&(a="")),!a.length&&d.length&&(a=tsfCanonical.sanitizeSlug(d.substring(0,200))),a.length||(a=f.params.id),c.set(`%${g}%`,[...e,a].join("/"))}i()},1e3/60);if(a){const a=document.getElementById("slug"),c=document.getElementById("name"),f=document.getElementById("parent"),h=()=>{d=c?.value??"",b=a?.value??"",k()};if(a?.addEventListener("input",h),c?.addEventListener("input",h),h(),f){const a=tsfUtils.debounce(async()=>{e=await tsfTermSlugs.get(f.value,g),k()},100);document.getElementById("parent")?.addEventListener("change",a),a()}}k()}const k=b=>{let c="";switch(+b){case 0:c=a.dataset.defaultUnprotected;break;case-1:c="index";break;case 1:c="noindex"}"noindex"===c?e|=d:e&=~d,i()};a&&(a.addEventListener("change",a=>k(a.target.value)),k(a.value))}function b(){const a=document.getElementById(h);if(!a)return;tsfTitle.setInputElement(a);const b=JSON.parse(document.getElementById(`tsf-title-data_${h}`)?.dataset.state||0);b&&(tsfTitle.updateStateOf(h,"allowReferenceChange",!b.refTitleLocked),tsfTitle.updateStateOf(h,"defaultTitle",b.defaultTitle.trim()),tsfTitle.updateStateOf(h,"addAdditions",b.addAdditions),tsfTitle.updateStateOf(h,"useSocialTagline",!!(b.useSocialTagline||!1)),tsfTitle.updateStateOf(h,"additionValue",b.additionValue.trim()),tsfTitle.updateStateOf(h,"additionPlacement",b.additionPlacement));const c=tsf.escapeString(f.params.termPrefix),d=a=>{let b=!a.target.checked;f.params.additionsForcedDisabled&&(b=!1),tsfTitle.updateStateOf(h,"addAdditions",b)},e=document.getElementById("autodescription-meta[title_no_blog_name]");e&&(e.addEventListener("change",d),e.dispatchEvent(new Event("change")));const g=a=>{a=a?.trim();let b=tsfTitle.stripTitleTags?tsf.stripTags(a):a;b||=tsfTitle.untitledTitle;let d;d=window.isRtl?`${b} ${c}`:`${c} ${b}`,tsfTitle.updateStateOf(h,"defaultTitle",d)};document.querySelector("#edittag #name")?.addEventListener("input",a=>g(a.target.value)),tsfTitle.enqueueUnregisteredInputTrigger(h)}function c(){const a=document.getElementById(i);if(a){tsfDescription.setInputElement(a);const b=JSON.parse(document.getElementById(`tsf-description-data_${i}`)?.dataset.state||0);b&&tsfDescription.updateStateOf(i,"defaultDescription",b.defaultDescription.trim()),tsfDescription.enqueueUnregisteredInputTrigger(i)}}function d(){tsfSocial.setInputInstance(k,h,i);const a=JSON.parse(document.getElementById(`tsf-social-data_${k}`)?.dataset.settings||0);a&&(tsfSocial.updateStateOf(k,"addAdditions",a.og.state.addAdditions),tsfSocial.updateStateOf(k,"defaults",{ogTitle:a.og.state.defaultTitle,twTitle:a.tw.state.defaultTitle,ogDesc:a.og.state.defaultDesc,twDesc:a.tw.state.defaultDesc}))}function e(){[a,b,c,d].forEach(a=>{try{a()}catch(a){}})}const f=tsfTermL10n,g=tsf.escapeString(f.params.taxonomy),h="autodescription-meta[doctitle]",i="autodescription-meta[description]",j="autodescription-meta[canonical]",k="autodescription_social_tt";return Object.assign({load:()=>{document.body.addEventListener("tsf-onload",e)}},{l10n:f,taxonomy:g})}(),window.tsfTerm.load();
