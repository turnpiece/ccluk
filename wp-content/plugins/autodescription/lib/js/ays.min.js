"use strict";window.tsfAys=function(){function a(){return p}function b(a){return a instanceof Element||a instanceof Document?[a]:[...document.querySelectorAll(Array.isArray(a)?a.join(", "):a)]}function c(){p=!0}function d(){p=!1}function e(){d(),q&&s()}function f(){const b=a();d(),setTimeout(()=>{e(),b&&c()},1e3)}function g(a){a.isTrusted&&(c(),h())}function h(){r.forEach((a,b)=>{b.removeEventListener(a,g)}),r.clear()}function i(a,c){b(a).filter(a=>!a.classList.contains("tsf-input-not-saved")&&"hidden"!==a.type).forEach(a=>{r.set(a,c),a.addEventListener(c,g)})}function j(a,c){b(a).forEach(a=>{a.addEventListener(c,e)})}function k(a,c){b(a).forEach(a=>{a.addEventListener(c,f)})}function l(){q=!1,i([".tsf-metaboxes input[type=radio][name]",".tsf-metaboxes input[type=checkbox][name]",".tsf-metaboxes select[name]","#tsf-inpost-box .inside input[type=radio][name]","#tsf-inpost-box .inside input[type=checkbox][name]","#tsf-inpost-box .inside select[name]",".tsf-term-meta input[type=radio][name]",".tsf-term-meta input[type=checkbox][name]",".tsf-term-meta select[name]"],"change"),i([".tsf-metaboxes input:not([type=radio]):not([type=checkbox])[name]",".tsf-metaboxes textarea[name]","#tsf-inpost-box .inside input:not([type=radio]):not([type=checkbox])[name]","#tsf-inpost-box .inside textarea[name]",".tsf-term-meta input:not([type=radio]):not([type=checkbox])[name]",".tsf-term-meta textarea[name]"],"input"),j(document,"tsf-gutenberg-onsave-completed"),k([".tsf-metaboxes input[type=submit]","#publishing-action input[type=submit]","#save-action input[type=submit]","a.submitdelete",".edit-tag-actions input[type=submit]",".edit-tag-actions .delete"],"click"),document.dispatchEvent(new CustomEvent("tsf-registered-ays-listeners")),q=!0}function m(b){a()&&(b.preventDefault(),b.returnValue=o.i18n.saveAlert)}function n(){l(),a()&&void 0,d(),window.addEventListener("beforeunload",m)}const o=tsfAysL10n;let p=!1,q=!1;const r=new Map,s=tsfUtils.debounce(()=>l(),1e3);return Object.assign({load:()=>{document.body.addEventListener("tsf-interactive",n)}},{reset:e,getChangedState:function(){return tsf.deprecatedFunc("tsfAys.getChangedState()","5.1.0","tsfAys.areSettingsChanged()"),a()},areSettingsChanged:a,registerChange:c,deregisterChange:d,registerChangeListener:i,registerResetListener:j,registerUnloadListener:k,reloadDefaultListeners:l},{l10n:o})}(),window.tsfAys.load();
