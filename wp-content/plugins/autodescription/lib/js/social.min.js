"use strict";window.tsfSocial=function(){function a(a,b){switch(b){case"addAdditions":const b=d(a).refs.title?.dataset?.for;b&&tsfTitle.enqueueUnregisteredInputTrigger(b);break;default:}}function b(a,b){return b?h[a]?.[b]:h[a]}function c(b,c,d){h[b][c]===d||(h[b][c]=d,a(b,c))}function d(a){return g.get(a)}function e(a){function*c(a){const b=g("inputLocks"),c=g("placeholderLocks");switch(a){case"twitter":if(yield b.twTitle?g("defaults").twTitle:e.twTitle?.value.trim()??"",b.twTitle||c.twTitle){yield g("defaults").twTitle;break}case"og":if(yield b.ogTitle?g("defaults").ogTitle:e.ogTitle?.value.trim()??"",b.ogTitle||c.ogTitle){yield g("defaults").ogTitle;break}case"meta":case"ref":g("addAdditions")?yield f.title?.innerHTML??"":yield f.titleNa?.innerHTML??""}}const{inputs:e,refs:f}=d(a),g=c=>b(a,c),h=a=>{const b=c(a);let d="";for(;"undefined"!=typeof d&&!d.length;)d=b.next().value,d?.length&&(d=tsf.sDoubleSpace(tsf.sTabs(tsf.sSingleLine(d))));return d?.length?d:""},i=()=>{const a=g("inputLocks"),b=g("placeholderLocks");e.ogTitle&&(e.ogTitle.placeholder=a.ogTitle||b.ogTitle?tsf.decodeEntities(g("defaults").ogTitle):tsf.decodeEntities(h("meta"))),e.twTitle&&(e.twTitle.placeholder=a.twTitle||b.twTitle?tsf.decodeEntities(g("defaults").twTitle):tsf.decodeEntities(h("og")))},j=(a,b,c)=>{const d=document.getElementById(`${a.id}_chars`);d&&tsfC?.updateCharacterCounter({e:d,text:b,field:"title",type:c})},k=()=>{e.ogTitle&&j(e.ogTitle,h("og"),"opengraph"),e.twTitle&&j(e.twTitle,h("twitter"),"twitter")},l=tsfUtils.debounce(()=>{i(),k()},1e3/60);f.title?.addEventListener("change",l),f.titleNa?.addEventListener("change",l);const m=tsfUtils.debounce(()=>{i(),k()},1e3/60);e.ogTitle?.addEventListener("input",m),e.twTitle?.addEventListener("input",m)}function f(a){function*c(a,b){const c=g("inputLocks"),d=g("placeholderLocks");switch(a){case"twitter":if(yield c.twDesc?g("defaults").twDesc:e.twDesc?.value.trim()??"",c.twDesc||d.twDesc){yield g("defaults").twDesc;break}case"og":if(yield c.ogDesc?g("defaults").ogDesc:e.ogDesc?.value.trim()??"",c.ogDesc||d.ogDesc){yield g("defaults").ogDesc;break}case"meta":f.descInput?.value.length||("twitter"===b?yield g("defaults").twDesc:"og"==b&&(yield g("defaults").ogDesc));case"ref":yield f.desc?.innerHTML??""}}const{inputs:e,refs:f}=d(a),g=c=>b(a,c),h=(a,b)=>{const d=c(a,b);let e="";for(;"undefined"!=typeof e&&!e.length;)e=d.next().value,e?.length&&(e=tsf.sDoubleSpace(tsf.sTabs(tsf.sSingleLine(e))));return e?.length?e:""},i=()=>{const a=g("inputLocks"),b=g("placeholderLocks");e.ogDesc&&(e.ogDesc.placeholder=a.ogDesc||b.ogDesc?tsf.decodeEntities(g("defaults").ogDesc):tsf.decodeEntities(h("meta","og"))),e.twDesc&&(e.twDesc.placeholder=a.twDesc||b.twDesc?tsf.decodeEntities(g("defaults").twDesc):tsf.decodeEntities(h("og","twitter")))},j=(a,b,c)=>{const d=document.getElementById(`${a.id}_chars`);d&&tsfC?.updateCharacterCounter({e:d,text:b,field:"description",type:c})},k=()=>{e.ogDesc&&j(e.ogDesc,h("og","og"),"opengraph"),e.twDesc&&j(e.twDesc,h("twitter","twitter"),"twitter")},l=tsfUtils.debounce(()=>{i(),k()},1e3/60);f.desc?.addEventListener("change",l);const m=tsfUtils.debounce(()=>{i(),k()},1e3/60);e.ogDesc?.addEventListener("input",m),e.twDesc?.addEventListener("input",m)}const g=new Map,h={};return{getStateOf:b,updateStateOf:c,updateStateAll:function(a,b,d){d=Array.isArray(d)?d:[d],g.forEach(({group:e,inputs:f,refs:g})=>{d.includes(e)||c(e,a,b)})},setInputInstance:function(a,b,c){const i=b=>document.querySelector(`[data-tsf-social-group="${a}"][data-tsf-social-type="${b}"]`),j={ogTitle:i("ogTitle"),twTitle:i("twTitle"),ogDesc:i("ogDesc"),twDesc:i("twDesc")},k={titleInput:document.getElementById(b),descInput:document.getElementById(c),title:document.getElementById(`tsf-title-reference_${b}`),titleNa:document.getElementById(`tsf-title-noadditions-reference_${b}`),desc:document.getElementById(`tsf-description-reference_${c}`)};return g.set(a,{group:a,inputs:j,refs:k}),h[a]={defaults:{ogTitle:"",twTitle:"",ogDesc:"",twDesc:""},inputLocks:{ogTitle:!1,twTitle:!1,ogDesc:!1,twDesc:!1},placeholderLocks:{ogTitle:!1,twTitle:!1,ogDesc:!1,twDesc:!1}},e(a),f(a),d(a)},getInputInstance:d}}();
