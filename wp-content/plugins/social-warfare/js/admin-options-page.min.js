(function(n,h,j){function B(E){var D,F;if(document.body.createTextRange){D=document.body.createTextRange();D.moveToElementText(E);D.select()}else{if(n.getSelection){F=n.getSelection();D=document.createRange();D.selectNodeContents(E);F.removeAllRanges();F.addRange(D)}}}function r(){var D={};h("form.sw-admin-settings-form input, form.sw-admin-settings-form select").each(function(){var F=h(this);var E=F.attr("name");var G;if("checkbox"===F.attr("type")){G=F.prop("checked")}else{G=F.val()}D[E]=G});D.newOrderOfIcons={};h(".sw-active i").each(function(){var E=h(this).data("network");D.newOrderOfIcons[E]=E});return D}function d(){h("div[dep]").each(function(){var D=h(this).attr("dep");var E=h.parseJSON(h(this).attr("dep_val"));var F;if(h('[name="'+D+'"]').attr("type")=="checkbox"){F=h('[name="'+D+'"]').prop("checked")}else{F=h('[name="'+D+'"]').val()}if(h.inArray(F,E)!==-1&&h('[name="'+D+'"]').parent(".sw-grid").is(":visible")){h(this).show()}else{h(this).hide()}});if(o("floatStyleSource")==false&&(w("sideDColorSet")=="customColor"||w("sideDColorSet")=="ccOutlines"||w("sideIColorSet")=="customColor"||w("sideIColorSet")=="ccOutlines"||w("sideOColorSet")=="customColor"||w("sideOColorSet")=="ccOutlines")){h(".sideCustomColor_wrapper").slideDown()}else{h(".sideCustomColor_wrapper").slideUp()}}function w(D){return h('select[name="'+D+'"]').val()}function o(D){return h('[name="'+D+'"]').prop("checked")}function l(){var E=h(".sw-top-menu").offset();var D=h(".sw-top-menu").width();h(".sw-top-menu").css({position:"fixed",left:E.left,top:E.top,width:D});h(".sw-admin-wrapper").css("padding-top","75px")}function v(){h(".sw-tab-selector").on("click",function(E){E.preventDefault?E.preventDefault():(E.returnValue=false);h("html, body").animate({scrollTop:0},0);var D=h(this).attr("data-link");h(".sw-admin-tab").hide();h("#"+D).show();h(".sw-header-menu li").removeClass("sw-active-tab");h(this).parents("li").addClass("sw-active-tab");if("swp_styles"===D){socialWarfarePlugin.activateHoverStates()}d()})}function q(){h(".sw-checkbox-toggle").on("click",function(){var D=h(this).attr("status");var E=h(this).attr("field");if("on"===D){h(this).attr("status","off");h(E).prop("checked",false)}else{h(this).attr("status","on");h(E).prop("checked",true)}C();d()})}function b(){h("form.sw-admin-settings-form input, form.sw-admin-settings-form select").on("change",function(){d();socialWarfarePlugin.newOptions=r();C()});socialWarfarePlugin.defaultOptions=r()}function C(){socialWarfarePlugin.newOptions=r();if(JSON.stringify(socialWarfarePlugin.newOptions)!==JSON.stringify(socialWarfarePlugin.defaultOptions)){h(".sw-save-settings").removeClass("sw-navy-button").addClass("sw-red-button")}else{h(".sw-save-settings").removeClass("sw-red-button").addClass("sw-navy-button")}}function m(){h(".sw-save-settings").on("click",function(E){E.preventDefault?E.preventDefault():(E.returnValue=false);u();var D=r();console.log(D);var F={action:"swp_store_settings",security:swpAdminOptionsData.optionsNonce,settings:D};h.post(ajaxurl,F,function(G){i();console.log(h.parseJSON(G));socialWarfarePlugin.defaultOptions=r();C()})})}function u(){h("body").append('<div class="sw-loading-bg"><div class="sw-loading-message">Saving Changes</div></div>')}function i(){h(".sw-loading-message").html("Success!").removeClass("sw-loading-message").addClass("sw-loading-complete");h(".sw-loading-bg").delay(1000).fadeOut(1000);setTimeout(function(){h(".sw-loading-bg").remove()},2000)}function a(){var I=h('select[name="visualTheme"]').val();var F=h('select[name="dColorSet"]').val();var D=h('select[name="iColorSet"]').val();var G=h('select[name="oColorSet"]').val();h("style.swp_customColorStuff").remove();var E=h('input[name="customColor"]').val();var H="";if(F=="customColor"||D=="customColor"||G=="customColor"){H=".nc_socialPanel.swp_d_customColor a, html body .nc_socialPanel.swp_i_customColor .nc_tweetContainer:hover a, body .nc_socialPanel.swp_o_customColor:hover a {color:white} .nc_socialPanel.swp_d_customColor .nc_tweetContainer, html body .nc_socialPanel.swp_i_customColor .nc_tweetContainer:hover, body .nc_socialPanel.swp_o_customColor:hover .nc_tweetContainer {background-color:"+E+";border:1px solid "+E+";}"}if(F=="ccOutlines"||D=="ccOutlines"||G=="ccOutlines"){H=H+" .nc_socialPanel.swp_d_ccOutlines a, html body .nc_socialPanel.swp_i_ccOutlines .nc_tweetContainer:hover a, body .nc_socialPanel.swp_o_ccOutlines:hover a { color:"+E+"; } .nc_socialPanel.swp_d_ccOutlines .nc_tweetContainer, html body .nc_socialPanel.swp_i_ccOutlines .nc_tweetContainer:hover, body .nc_socialPanel.swp_o_ccOutlines:hover .nc_tweetContainer { background:transparent; border:1px solid "+E+"; }"}h("head").append('<style type="text/css" class="swp_customColorStuff">'+H+"</style>")}function x(){var I=h('select[name="visualTheme"]').val();var F=h('select[name="dColorSet"]').val();var D=h('select[name="iColorSet"]').val();var G=h('select[name="oColorSet"]').val();var H="swp_"+I+" swp_d_"+F+" swp_i_"+D+" swp_o_"+G;if("undefined"===typeof socialWarfarePlugin.lastClass){console.log("boom");socialWarfarePlugin.lastClass="swp_flatFresh swp_d_fullColor swp_i_fullColor swp_o_fullColor"}var H="swp_"+I+" swp_d_"+F+" swp_i_"+D+" swp_o_"+G;h(".nc_socialPanel").removeClass(socialWarfarePlugin.lastClass).addClass(H);socialWarfarePlugin.lastClass=H;var E=H;if(F=="customColor"||F=="ccOutlines"||D=="customColor"||D=="ccOutlines"||G=="customColor"||G=="ccOutlines"){h(".customColor_wrapper").slideDown();a()}else{h(".customColor_wrapper").slideUp()}}function z(){var F={flatFresh:{fullColor:"Full Color",lightGray:"Light Gray",mediumGray:"Medium Gray",darkGray:"Dark Gray",lgOutlines:"Light Gray Outlines",mdOutlines:"Medium Gray Outlines",dgOutlines:"Dark Gray Outlines",colorOutlines:"Color Outlines",customColor:"Custom Color",ccOutlines:"Custom Color Outlines"},leaf:{fullColor:"Full Color",lightGray:"Light Gray",mediumGray:"Medium Gray",darkGray:"Dark Gray",lgOutlines:"Light Gray Outlines",mdOutlines:"Medium Gray Outlines",dgOutlines:"Dark Gray Outlines",colorOutlines:"Color Outlines",customColor:"Custom Color",ccOutlines:"Custom Color Outlines"},pill:{fullColor:"Full Color",lightGray:"Light Gray",mediumGray:"Medium Gray",darkGray:"Dark Gray",lgOutlines:"Light Gray Outlines",mdOutlines:"Medium Gray Outlines",dgOutlines:"Dark Gray Outlines",colorOutlines:"Color Outlines",customColor:"Custom Color",ccOutlines:"Custom Color Outlines"},threeDee:{fullColor:"Full Color",lightGray:"Light Gray",mediumGray:"Medium Gray",darkGray:"Dark Gray"},connected:{fullColor:"Full Color",lightGray:"Light Gray",mediumGray:"Medium Gray",darkGray:"Dark Gray",lgOutlines:"Light Gray Outlines",mdOutlines:"Medium Gray Outlines",dgOutlines:"Dark Gray Outlines",colorOutlines:"Color Outlines",customColor:"Custom Color",ccOutlines:"Custom Color Outlines"},shift:{fullColor:"Full Color",lightGray:"Light Gray",mediumGray:"Medium Gray",darkGray:"Dark Gray",lgOutlines:"Light Gray Outlines",mdOutlines:"Medium Gray Outlines",dgOutlines:"Dark Gray Outlines",colorOutlines:"Color Outlines",customColor:"Custom Color",ccOutlines:"Custom Color Outlines"}};if(0===h('select[name="visualTheme"]').length){return}var H=h('select[name="visualTheme"]').val();var E=h('select[name="dColorSet"]').val();var D=h('select[name="iColorSet"]').val();var G=h('select[name="oColorSet"]').val();h('select[name="dColorSet"] option, select[name="iColorSet"] option, select[name="oColorSet"] option').remove();h.each(F[H],function(I,J){if(I===E){h('select[name="dColorSet"]').append('<option value="'+I+'" selected>'+J+"</option>")}else{h('select[name="dColorSet"]').append('<option value="'+I+'">'+J+"</option>")}if(I===D){h('select[name="iColorSet"]').append('<option value="'+I+'" selected>'+J+"</option>")}else{h('select[name="iColorSet"]').append('<option value="'+I+'">'+J+"</option>")}if(I===G){h('select[name="oColorSet"]').append('<option value="'+I+'" selected>'+J+"</option>")}else{h('select[name="oColorSet"]').append('<option value="'+I+'">'+J+"</option>")}if(E=="customColor"||E=="ccOutlines"||D=="customColor"||D=="ccOutlines"||G=="customColor"||G=="ccOutlines"){h(".customColor_wrapper").slideDown();a()}else{h(".customColor_wrapper").slideUp()}});h('select[name="dColorSet"], select[name="iColorSet"], select[name="oColorSet"]').on("change",x);h('select[name="visualTheme"]').on("change",function(){var R=h('select[name="visualTheme"]').val();var I=h('select[name="dColorSet"]').val();var K=h('select[name="iColorSet"]').val();var P=h('select[name="oColorSet"]').val();var M=0;var N=F[R];var O=N.hasOwnProperty(I);var L=N.hasOwnProperty(K);var J=N.hasOwnProperty(P);h('select[name="dColorSet"] option, select[name="iColorSet"] option, select[name="oColorSet"] option').remove();h.each(F[R],function(S,T){if(S===I||(O==false&&M==0)){h('select[name="dColorSet"]').append('<option value="'+S+'" selected>'+T+"</option>")}else{h('select[name="dColorSet"]').append('<option value="'+S+'">'+T+"</option>")}if(S===K||(L==false&&M==0)){h('select[name="iColorSet"]').append('<option value="'+S+'" selected>'+T+"</option>")}else{h('select[name="iColorSet"]').append('<option value="'+S+'">'+T+"</option>")}if(S===P||(J==false&&M==0)){h('select[name="oColorSet"]').append('<option value="'+S+'" selected>'+T+"</option>")}else{h('select[name="oColorSet"]').append('<option value="'+S+'">'+T+"</option>")}++M});if("undefined"===typeof socialWarfarePlugin.lastClass){console.log("boom");socialWarfarePlugin.lastClass="swp_flatFresh swp_d_fullColor swp_i_fullColor swp_o_fullColor"}var Q="swp_"+R+" swp_d_"+I+" swp_i_"+K+" swp_o_"+P;h(".nc_socialPanel").removeClass(socialWarfarePlugin.lastClass).addClass(Q);socialWarfarePlugin.lastClass=Q})}function A(){h('select[name="buttonSize"],select[name="buttonFloat"]').on("change",function(){h(".nc_socialPanel").css({width:"100%"});var D=h(".nc_socialPanel").width();var F=h('select[name="buttonSize"]').val();var G=h('select[name="buttonFloat"]').val();var E;if((G=="fullWidth"&&F!=1)||F>=1){E=D/F;h(".nc_socialPanel").css("cssText","width:"+E+"px!important;");h(".nc_socialPanel").css({transform:"scale("+F+")","transform-origin":"left"})}else{if(G!="fullWidth"&&F<1){E=D/F;h(".nc_socialPanel").css({transform:"scale("+F+")","transform-origin":G})}}socialWarfarePlugin.activateHoverStates()})}function p(){var D=h('select[name="cttTheme"]');D.on("change",function(){var E=h('select[name="cttTheme"]').val();h(".swp_CTT").attr("class","swp_CTT").addClass(E)});D.trigger("change")}function y(D,E){h(".registration-wrapper."+E).attr("registration",D);if("pro"==E){h(".sw-admin-wrapper").attr("sw-registered",D);h(".sw-top-menu").attr("sw-registered",D)}}function t(E,D){var G=false;var F={action:"swp_register_plugin",security:swpAdminOptionsData.registerNonce,activity:"register",name_key:E,item_id:D,license_key:h('input[name="'+E+'_license_key"]').val()};u();console.log(F);h.post(ajaxurl,F,function(H){console.log(H);H=JSON.parse(H);console.log(H);if(!H.success){alert("Failure: "+H.data)}else{y("1",E);G=true}i()});return G}function k(G,F){var E=false;var D={action:"swp_unregister_plugin",security:swpAdminOptionsData.registerNonce,activity:"unregister",name_key:G,item_id:F,};console.log(D);u();h.post(ajaxurl,D,function(H){console.log(H);H=JSON.parse(H);if(!H.success){alert("Failure: "+H.data)}else{h('input[name="'+G+'_license_key"]').val("");y("0",G);E=true}i()});return E}function e(){h(".register-plugin").on("click",function(){var E=h(this).attr("swp-addon");var D=h(this).attr("swp-item-id");console.log(E);t(E,D);return false});h(".unregister-plugin").on("click",function(){var E=h(this).attr("swp-addon");var D=h(this).attr("swp-item-id");console.log(E);k(E,D);return false})}function c(){h(".sw-buttons-sort.sw-active").sortable({connectWith:".sw-buttons-sort.sw-inactive",update:function(){C()}});h(".sw-buttons-sort.sw-inactive").sortable({connectWith:".sw-buttons-sort.sw-active",update:function(){C()}})}function f(){h(".sw-system-status").on("click",function(D){D.preventDefault?D.preventDefault():(D.returnValue=false);h(".system-status-wrapper").slideToggle();B(h(".system-status-container").get(0))})}function g(){h(".sw-premium-blocker").tooltip({items:".sw-premium-blocker",content:"<i></i>Unlock this feature by registering your license.",position:{my:"center top",at:"center top"},tooltipClass:"sw-admin-hover-notice",open:function(D,E){if(typeof(D.originalEvent)==="undefined"){return false}var F=h(E.tooltip).attr("id");h("div.ui-tooltip").not("#"+F).remove()},close:function(D,E){E.tooltip.hover(function(){h(this).stop(true).fadeTo(400,1)},function(){h(this).fadeOut("400",function(){h(this).remove()})})}})}function s(){var D;h(".swp_upload_image_button").click(function(F){F.preventDefault();var E=h(this).attr("for");if(D){D.open();return}D=wp.media.frames.file_frame=wp.media({title:"Choose Image",button:{text:"Choose Image"},multiple:false});D.on("select",function(){var G=D.state().get("selection").first().toJSON();h('input[name="'+E+'"').val(G.url)});D.open()})}h(document).ready(function(){m();b();l();v();q();z();d();p();A();e();c();f();g();s()})})(this,jQuery);