(function(m,f,i){m.onload=function(){var F="[name=default_colors],[name=hover_colors], [name=single_colors]";var E="[name=float_default_colors], [name=float_hover_colors], [name=float_single_colors]";f("[name=custom_color],[name=custom_color_outlines],[name=float_custom_color],[name=float_custom_color_outlines]").parent().parent().hide();f(F).each(function(J,H){var K=f(H).val();var I=f("[name=custom_color]").parent().parent();var G=f("[name=custom_color_outlines]").parent().parent();if(K.indexOf("custom")!==-1){if(K.indexOf("outlines")>0){G.show()}else{I.show()}}});f(E).each(function(J,H){var K=f(H).val();var I=f("[name=float_custom_color]").parent().parent();var G=f("[name=float_custom_color_outlines]").parent().parent();if(K.indexOf("custom")!==-1){K.indexOf("outlines")>0?G.show():I.show()}});f(F).on("change",function(J){var I=J.target.value;var H=f("[name=custom_color]").parent().parent();var G=f("[name=custom_color_outlines]").parent().parent();p(J,F,H,G,I)});f(E).on("change",function(J){var I=J.target.value;var H=f("[name=float_custom_color]").parent().parent();var G=f("[name=float_custom_color_outlines]").parent().parent();H.hide();G.hide();p(J,E,H,G,I)})};function p(J,F,H,E){var I='<div id="color-notice"><p><span class="color-dismiss"></span><b>Note:</b> Custom colors will not show up in the preview, but will on your site.</p></div>';var L=false;var K=J.target.value;var G={customColor:false,customOutlines:false};f(F).each(function(N,M){var O=f(M).val();if(O.indexOf("custom")!==-1){if(O.indexOf("outlines")>0){G.customOutlines=true}else{G.customColor=true}}});G.customColor?H.slideDown():H.slideUp();G.customOutlines?E.slideDown():E.slideUp();if(G.customColor||G.customOutlines){console.log(I);f("body").append(I);f(".color-dismiss").on("click",function(){f("#color-notice").fadeOut("slow")})}else{if(f("#color-notice")){f(I).fadeOut("slow")}}}function C(F){var E,G;if(document.body.createTextRange){E=document.body.createTextRange();E.moveToElementText(F);E.select()}else{if(m.getSelection){G=m.getSelection();E=document.createRange();E.selectNodeContents(F);G.removeAllRanges();G.addRange(E)}}}function r(){var E={};f("form.sw-admin-settings-form input, form.sw-admin-settings-form select, form.sw-admin-settings-form textarea").each(function(){var G=f(this);var F=G.attr("name");var H;if("checkbox"===G.attr("type")){H=G.prop("checked")}else{H=G.val()}E[F]=H});E.order_of_icons={};f(".sw-active i").each(function(){var F=f(this).data("network");E.order_of_icons[F]=F});return E}function k(){var F=f(".sw-top-menu").offset();var E=f(".sw-top-menu").width();f(".sw-top-menu").css({position:"fixed",left:F.left,top:F.top,width:E});f(".sw-admin-wrapper").css("padding-top","75px")}function w(){f(".sw-tab-selector").on("click",function(F){F.preventDefault();f("html, body").animate({scrollTop:0},300);var E=f(this).attr("data-link");f(".sw-admin-tab").hide();f("#"+E).show();f(".sw-header-menu li").removeClass("sw-active-tab");f(this).parents("li").addClass("sw-active-tab");if("swp_styles"===E){socialWarfarePlugin.activateHoverStates()}swpConditionalFields()})}function q(){f(".sw-checkbox-toggle").on("click",function(){var E=f(this).attr("status");var F=f(this).attr("field");if("on"===E){f(this).attr("status","off");f(F).prop("checked",false)}else{f(this).attr("status","on");f(F).prop("checked",true)}D();swpConditionalFields()})}function b(){f("form.sw-admin-settings-form input, form.sw-admin-settings-form select").on("change",function(){swpConditionalFields();socialWarfarePlugin.newOptions=r();D()});socialWarfarePlugin.defaultOptions=r()}function D(){socialWarfarePlugin.newOptions=r();if(JSON.stringify(socialWarfarePlugin.newOptions)!==JSON.stringify(socialWarfarePlugin.defaultOptions)){f(".sw-save-settings").removeClass("sw-navy-button").addClass("sw-red-button")}else{f(".sw-save-settings").removeClass("sw-red-button").addClass("sw-navy-button")}}function l(){f(".sw-save-settings").on("click",function(F){F.preventDefault?F.preventDefault():(F.returnValue=false);v();var E=r();var G={action:"swp_store_settings",security:swpAdminOptionsData.optionsNonce,settings:E};f.post(ajaxurl,G,function(H){g();socialWarfarePlugin.defaultOptions=r();D()})})}function v(){f("body").append('<div class="sw-loading-bg"><div class="sw-loading-message">Saving Changes</div></div>')}function g(){f(".sw-loading-message").html("Success!").removeClass("sw-loading-message").addClass("sw-loading-complete");f(".sw-loading-bg").delay(1000).fadeOut(1000);setTimeout(function(){f(".sw-loading-bg").remove()},2000)}function a(){var J=f('select[name="button_shape"]').val();var G=f('select[name="default_colors"]').val();var E=f('select[name="single_colors"]').val();var H=f('select[name="hover_colors"]').val();f("style.swp_customColorStuff").remove();var F=f('input[name="custom_color"]').val();var I="";if(G=="custom_color"||E=="custom_color"||H=="custom_color"){I=".swp_social_panel.swp_default_customColor a, html body .swp_social_panel.swp_individual_customColor .nc_tweetContainer:hover a, body .swp_social_panel.swp_other_customColor:hover a {color:white} .swp_social_panel.swp_default_customColor .nc_tweetContainer, html body .swp_social_panel.swp_individual_customColor .nc_tweetContainer:hover, body .swp_social_panel.swp_other_customColor:hover .nc_tweetContainer {background-color:"+F+";border:1px solid "+F+";}"}if(G=="custom_color_outlines"||E=="custom_color_outlines"||H=="custom_color_outlines"){I=I+" .swp_social_panel.swp_default_custom_color_outlines a, html body .swp_social_panel.swp_individual_custom_color_outlines .nc_tweetContainer:hover a, body .swp_social_panel.swp_other_custom_color_outlines:hover a { color:"+F+"; } .swp_social_panel.swp_default_custom_color_outlines .nc_tweetContainer, html body .swp_social_panel.swp_individual_custom_color_outlines .nc_tweetContainer:hover, body .swp_social_panel.swp_other_custom_color_outlines:hover .nc_tweetContainer { background:transparent; border:1px solid "+F+"; }"}f("head").append('<style type="text/css" class="swp_customColorStuff">'+I+"</style>")}function x(){var J=F("button_shape");var G=F("default_colors");var E=F("single_colors");var H=F("hover_colors");function F(K){var M=f('select[name="'+K+'"]').val();if(M.indexOf("custom")===0){var L=K.slice(0,K.indexOf("_"));return L+"_full_color"}return M}var I="swp_"+J+" swp_default_"+G+" swp_individual_"+E+" swp_other_"+H;if("undefined"===typeof socialWarfarePlugin.lastClass){socialWarfarePlugin.lastClass="swp_flat_fresh swp_default_full_color swp_individual_full_color swp_other_full_color"}var I="swp_"+J+" swp_default_"+G+" swp_individual_"+E+" swp_other_"+H;f(".swp_social_panel").removeClass("swp_other_medium_gray");f(".swp_social_panel").removeClass(socialWarfarePlugin.lastClass).addClass(I);socialWarfarePlugin.lastClass=I}function A(){var I={full_color:"Full Color",light_gray:"Light Gray",medium_gray:"Medium Gray",dark_gray:"Dark Gray",light_gray_outlines:"Light Gray Outlines",medium_gray_outlines:"Medium Gray Outlines",dark_gray_outlines:"Dark Gray Outlines",color_outlines:"Color Outlines",custom_color:"Custom Color",custom_color_outlines:"Custom Color Outlines"};var G={flat_fresh:I,leaf:I,pill:I,three_dee:{full_color:"Full Color",light_gray:"Light Gray",medium_gray:"Medium Gray",dark_gray:"Dark Gray"},connected:I,shift:I,boxed:I};if(0===f('select[name="button_shape"]').length){return}var J=f('select[name="button_shape"]').val();var F=f('select[name="default_colors"]').val();var E=f('select[name="single_colors"]').val();var H=f('select[name="hover_colors"]').val();f('select[name="default_colors"] option, select[name="single_colors"] option, select[name="hover_colors"] option').remove();f.each(G[J],function(K,L){if(K===F){f('select[name="default_colors"]').append('<option value="'+K+'" selected>'+L+"</option>")}else{f('select[name="default_colors"]').append('<option value="'+K+'">'+L+"</option>")}if(K===E){f('select[name="single_colors"]').append('<option value="'+K+'" selected>'+L+"</option>")}else{f('select[name="single_colors"]').append('<option value="'+K+'">'+L+"</option>")}if(K===H){f('select[name="hover_colors"]').append('<option value="'+K+'" selected>'+L+"</option>")}else{f('select[name="hover_colors"]').append('<option value="'+K+'">'+L+"</option>")}if(F=="custom_color"||F=="custom_color_outlines"||E=="custom_color"||E=="custom_color_outlines"||H=="custom_color"||H=="custom_color_outlines"){f(".customColor_wrapper").slideDown();a()}else{f(".customColor_wrapper").slideUp()}});f('select[name="default_colors"], select[name="single_colors"], select[name="hover_colors"]').on("change",x);f('select[name="button_shape"]').on("change",function(){var T=f('select[name="button_shape"]').val();var K=f('select[name="default_colors"]').val();var M=f('select[name="single_colors"]').val();var R=f('select[name="hover_colors"]').val();var O=0;var P=G[T];var Q=P.hasOwnProperty(K);var N=P.hasOwnProperty(M);var L=P.hasOwnProperty(R);f('select[name="default_colors"] option, select[name="single_colors"] option, select[name="hover_colors"] option').remove();f.each(G[T],function(U,V){if(U===K||(Q==false&&O==0)){f('select[name="default_colors"]').append('<option value="'+U+'" selected>'+V+"</option>")}else{f('select[name="default_colors"]').append('<option value="'+U+'">'+V+"</option>")}if(U===M||(N==false&&O==0)){f('select[name="single_colors"]').append('<option value="'+U+'" selected>'+V+"</option>")}else{f('select[name="single_colors"]').append('<option value="'+U+'">'+V+"</option>")}if(U===R||(L==false&&O==0)){f('select[name="hover_colors"]').append('<option value="'+U+'" selected>'+V+"</option>")}else{f('select[name="hover_colors"]').append('<option value="'+U+'">'+V+"</option>")}++O});if("undefined"===typeof socialWarfarePlugin.lastClass){socialWarfarePlugin.lastClass="swp_flat_fresh swp_default_full_color swp_individual_full_color swp_other_full_color"}var S="swp_"+T+" swp_default_"+K+" swp_individual_"+M+" swp_other_"+R;f(".swp_social_panel").removeClass(socialWarfarePlugin.lastClass).addClass(S);socialWarfarePlugin.lastClass=S})}function B(){f('select[name="button_size"],select[name="button_alignment"]').on("change",function(){f(".swp_social_panel").css({width:"100%"});var E=f(".swp_social_panel").width();var G=f('select[name="button_size"]').val();var H=f('select[name="button_alignment"]').val();var F;if((H=="full_width"&&G!=1)||G>=1){F=E/G;f(".swp_social_panel").css("cssText","width:"+F+"px!important;");f(".swp_social_panel").css({transform:"scale("+G+")","transform-origin":"left"})}else{if(H!="full_width"&&G<1){F=E/G;f(".swp_social_panel").css({transform:"scale("+G+")","transform-origin":H})}}socialWarfarePlugin.activateHoverStates()})}function o(){var E=f('select[name="ctt_theme"]');E.on("change",function(){var F=f('select[name="ctt_theme"]').val();f(".swp_CTT").attr("class","swp_CTT").addClass(F)});E.trigger("change")}function z(F,G){var E=f(".sw-admin-wrapper");var H=E.attr("swp-addons");var I=E.attr("swp-registrations");f(".registration-wrapper."+G).attr("registration",F);if(1===parseInt(F)){E.attr("sw-registered",F);f(".sw-top-menu").attr("sw-registered",F);t(E,"swp-registrations",G)}else{y(E,"swp-registrations",G)}}function y(G,H,F){var I=f(G).attr(H);var K=I.indexOf(F);if(K===-1){return}var E=K+F.length;var J=I.slice(0,K)+I.slice(E);f(G).attr(H,J)}function t(F,G,E){var H=f(F).attr(G);if(H.includes(E)){return}f(F).attr(G,H+E)}function u(F,E){var H=false;var G={action:"swp_register_plugin",security:swpAdminOptionsData.registerNonce,activity:"register",name_key:F,item_id:E,license_key:f('input[name="'+F+'_license_key"]').val()};v();f.post(ajaxurl,G,function(I){I=JSON.parse(I);if(!I.success){alert("Failure: "+I.data)}else{z("1",F);H=true}m.location.reload(true);g()});return H}function j(H,G){var F=false;var E={action:"swp_unregister_plugin",security:swpAdminOptionsData.registerNonce,activity:"unregister",name_key:H,item_id:G,};v();f.post(ajaxurl,E,function(I){I=JSON.parse(I);if(!I.success){alert("Failure: "+I.data)}else{f('input[name="'+H+'_license_key"]').val("");z("0",H);F=true}m.location.reload(true);g()});return F}function d(){f(".register-plugin").on("click",function(){var F=f(this).attr("swp-addon");var E=f(this).attr("swp-item-id");u(F,E);return false});f(".unregister-plugin").on("click",function(){var F=f(this).attr("swp-addon");var E=f(this).attr("swp-item-id");j(F,E);return false})}function c(){f(".sw-buttons-sort.sw-active").sortable({connectWith:".sw-buttons-sort.sw-inactive",update:function(){D()}});f(".sw-buttons-sort.sw-inactive").sortable({connectWith:".sw-buttons-sort.sw-active",update:function(){D()}})}function e(){f(".sw-system-status").on("click",function(E){E.preventDefault?E.preventDefault():(E.returnValue=false);f(".system-status-wrapper").slideToggle();C(f(".system-status-container").get(0))})}function s(){var E;f(".swp_upload_image_button").click(function(G){G.preventDefault();var F=f(this).attr("for");if(E){E.open();return}E=wp.media.frames.file_frame=wp.media({title:"Choose Image",button:{text:"Choose Image"},multiple:false});E.on("select",function(){var H=E.state().get("selection").first().toJSON();f('input[name="'+F+'"').val(H.url)});E.open()})}function h(){var F=f("#ctt_preview");var E=f("select[name=ctt_theme]");if(!F.length){F=f('<style id="ctt_preview"></style>');f("head").append(F)}if(f(E).val()==="none"){n()}f(E).on("change",function(G){if(G.target.value==="none"){n()}});f("textarea[name=ctt_css]").on("keyup",n)}function n(){var F=f("#ctt_preview");var E=f("textarea[name=ctt_css]");f(F).text(f(E).val())}f(document).ready(function(){l();b();k();w();q();A();swpConditionalFields();o();B();d();c();e();s();h()})})(this,jQuery);