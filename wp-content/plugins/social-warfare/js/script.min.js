/*!
 * jQuery throttle / debounce - v1.1 - 3/7/2010
 * http://benalman.com/projects/jquery-throttle-debounce-plugin/
 *
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
var socialWarfarePlugin=socialWarfarePlugin||{};(function(c,d){var b;var a=c.socialWarfarePlugin;a.throttle=b=function(g,f,k,h){var i,e=0;if(typeof f!=="boolean"){h=k;k=f;f=d}function j(){var p=this,n=+new Date()-e,o=arguments;function m(){e=+new Date();k.apply(p,o)}function l(){i=d}if(h&&!i){m()}i&&clearTimeout(i);if(h===d&&n>g){m()}else{if(f!==true){i=setTimeout(h?l:m,h===d?g-n:g)}}}if(a.guid){j.guid=k.guid=k.guid||a.guid++}return j};a.debounce=function(e,f,g){return g===d?b(e,f,false):b(e,g,f!==false)}})(this);(function(h,g,d){var i=h.socialWarfarePlugin;function j(n){return parseInt(n,10)}function a(o){var n=g.Event(o);g(h).trigger(n)}var l={};socialWarfarePlugin.fetchShares=function(){g.when(g.get("https://graph.facebook.com/?fields=og_object{likes.summary(true).limit(0)},share&id="+swp_post_url),(swp_post_recovery_url?g.get("https://graph.facebook.com/?fields=og_object{likes.summary(true).limit(0)},share&id="+swp_post_recovery_url):"")).then(function(w,v){if("undefined"!==typeof w[0].share){console.log(w);var u=j(w[0].share.share_count);var t=j(w[0].share.comment_count);if("undefined"!==typeof w[0].og_object){var s=j(w[0].og_object.likes.summary.total_count)}else{var s=0}var n=u+t+s;if(swp_post_recovery_url){console.log(v);if(typeof v[0].share!=="undefined"){var r=j(v[0].share.share_count);var q=j(v[0].share.comment_count)}else{var r=0,q=0}if(typeof v[0].og_object!=="undefined"){var o=j(v[0].og_object.likes.summary.total_count)}else{var o=0}var p=r+q+o;if(n!==p){n=n+p}}l={action:"swp_facebook_shares_update",post_id:swp_post_id,activity:n};g.post(swp_admin_ajax,l,function(x){console.log("Facebook Shares Response: "+n)})}})};i.activateHoverStates=function(){a("pre_activate_buttons");g(".nc_socialPanel:not(.nc_socialPanelSide) .nc_tweetContainer").on("mouseenter",function(){if(g(this).hasClass("swp_nohover")){}else{console.log("fired");k();var p=g(this).find(".swp_share").outerWidth();var o=g(this).find("i.sw").outerWidth();var q=g(this).width();var n=1+((p+35)/q);g(this).find(".iconFiller").width(p+o+25+"px");g(this).css({flex:n+" 1 0%"})}});g(".nc_socialPanel:not(.nc_socialPanelSide)").on("mouseleave",function(){k()})};function k(){g(".nc_socialPanel:not(.nc_socialPanelSide) .nc_tweetContainer:not(.swp_nohover) .iconFiller").removeAttr("style");g(".nc_socialPanel:not(.nc_socialPanelSide) .nc_tweetContainer:not(.swp_nohover)").removeAttr("style")}function f(){if(g(".nc_wrapper").length){g(".nc_wrapper").remove()}var q=g(".nc_socialPanel").not('[data-float="float_ignore"]').first();var p=g(".nc_socialPanel").index(q);var t=q.attr("data-float");var u=q.attr("data-align");if(t){var o=g(".nc_socialPanel").attr("data-floatColor");g('<div class="nc_wrapper" style="background-color:'+o+'"></div>').appendTo("body");var n=q.attr("data-float");q.clone().appendTo(".nc_wrapper");g(".nc_wrapper").hide().addClass((n=="floatLeft"?"floatBottom":n));var r=q.outerWidth(true);var s=q.offset();g(".nc_socialPanel").last().addClass("nc_floater").css({width:r,left:(u=="center"?0:s.left)});g(".nc_socialPanel .swp_count").css({transition:"padding .1s linear"});g(".nc_socialPanel").eq(0).addClass("swp_one");g(".nc_socialPanel").eq(2).addClass("swp_two");g(".nc_socialPanel").eq(1).addClass("swp_three")}}function e(){var u=g(".nc_socialPanel");var C=u.not('[data-float="float_ignore"]').eq(0).attr("data-float");var y=g(h);var n=y.height();var w=g(".nc_wrapper");var r=g(".nc_socialPanelSide").filter(":not(.mobile)");var s=g(".nc_socialPanel").attr("data-position");var o=r.attr("data-screen-width");var A=u.eq(0).offset();var p=y.scrollTop();var B=g(h).scrollTop();if(typeof h.swpOffsets=="undefined"){h.swpOffsets={}}var q=false;if(C=="floatLeft"){var x=g(".nc_socialPanelSide").attr("data-mobileFloat");if(g(".nc_socialPanel").not(".nc_socialPanelSide").length){g(".nc_socialPanel").not(".nc_socialPanelSide, .nc_floater").each(function(){var D=g(this).offset();var E=g(this).height();if(D.top+E>p&&D.top<p+n){q=true}});if(A.left<100||g(h).width()<o){q=true;if(x=="bottom"){C="floatBottom"}}else{if(q){q==true}else{q=false}}}else{if(g(h).width()>o){q=false}else{q=true;if(x=="bottom"){C="floatBottom"}}}var v=r.attr("data-transition");if(v=="slide"){if(q==true){r.css({left:"-100px"},200)}else{r.css({left:"5px"})}}else{if(v=="fade"){if(q==true){r.fadeOut(200)}else{r.fadeIn(200)}}}}if(C=="floatBottom"||C=="floatTop"){q=false;g(".nc_socialPanel").not(".nc_socialPanelSide, .nc_floater").each(function(){var D=g(this).offset();var E=g(this).height();if(D.top+E>p&&D.top<p+n){q=true}});if(q){w.hide();if(C=="floatBottom"){g("body").animate({"padding-bottom":h.bodyPaddingBottom+"px"},0)}else{if(C=="floatTop"){g("body").animate({"padding-top":h.bodyPaddingTop+"px"},0)}}}else{var z,t;w.show();a("floating_bar_revealed");if(C=="floatBottom"){z=h.bodyPaddingBottom+50;g("body").animate({"padding-bottom":z+"px"},0)}else{if(C=="floatTop"){t=g(".nc_socialPanel").not(".nc_socialPanelSide, .nc_wrapper .nc_socialPanel").first().offset();if(t.top>p+n){z=h.bodyPaddingTop+50;g("body").animate({"padding-top":z+"px"},0)}}}}}}function m(){if(0!==g(".nc_socialPanel").length){f();i.activateHoverStates();c();g(h).scrollTop();g(h).scroll(i.throttle(50,function(){e()}));g(h).trigger("scroll");g(".nc_socialPanel").css({opacity:1})}}function b(){var o={wrap:'<div class="sw-pinit" />',pageURL:document.URL};var n=g.extend(o,n);g(".swp-content-locator").parent().find("img").each(function(){var r=g(this);if(r.outerHeight()<swpPinIt.minHeight||r.outerWidth()<swpPinIt.minWidth){return}var s=false;if("undefined"!==typeof swpPinIt.image_source){s=swpPinIt.image_source}else{if(r.data("media")){s=r.data("media")}else{if(g(this).attr("data-lazy-src")){s=g(this).attr("data-lazy-src")}else{if(r[0].src){s=r[0].src}}}}if(false===s){return}if(r.hasClass("no_pin")){return}var u="";if("undefined"!==typeof swpPinIt.image_description){u=swpPinIt.image_description}else{if(r.attr("title")){u=r.attr("title")}else{if(r.attr("alt")){u=r.attr("alt")}}}var q="http://pinterest.com/pin/create/bookmarklet/?media="+encodeURI(s)+"&url="+encodeURI(n.pageURL)+"&is_video=false&description="+encodeURIComponent(u);var t=r.attr("class");var p=r.attr("style");r.removeClass().attr("style","").wrap(n.wrap);r.after('<a href="'+q+'" class="sw-pinit-button sw-pinit-'+swpPinIt.vLocation+" sw-pinit-"+swpPinIt.hLocation+'">Save</a>');r.parent(".sw-pinit").addClass(t).attr("style",p);g(".sw-pinit .sw-pinit-button").on("click",function(){h.open(g(this).attr("href"),"Pinterest","width=632,height=253,status=0,toolbar=0,menubar=0,location=1,scrollbars=1");if(typeof ga=="function"&&true===swpClickTracking){var v="pin_image";console.log(v+" Button Clicked");ga("send","event","social_media","swp_"+v+"_share")}return false})})}function c(){g(".nc_tweet, a.swp_CTT").off("click");g(".nc_tweet, a.swp_CTT").on("click",function(s){if(g(this).hasClass("noPop")){return false}console.log(g(this));if(g(this).attr("data-link")){s.preventDefault?s.preventDefault():(s.returnValue=false);var p=g(this).attr("data-link");console.log(p);var o,q,n;p=p.replace("â€™","'");if(g(this).hasClass("pinterest")||g(this).hasClass("buffer_link")||g(this).hasClass("flipboard")){o=550;q=775}else{o=270;q=500}n=h.open(p,"_blank","height="+o+",width="+q);if(typeof ga=="function"&&true===swpClickTracking){if(g(this).hasClass("nc_tweet")){var r=g(this).parents(".nc_tweetContainer").attr("data-network")}else{if(g(this).hasClass("swp_CTT")){var r="ctt"}}console.log(r+" Button Clicked");ga("send","event","social_media","swp_"+r+"_share")}return false}})}g(h).on("load",function(){if("undefined"!==typeof swpPinIt&&swpPinIt.enabled){b()}});g(document).ready(function(){c();m();h.bodyPaddingTop=j(g("body").css("padding-top").replace("px",""));h.bodyPaddingBottom=j(g("body").css("padding-bottom").replace("px",""));var p=false;g(".nc_socialPanel").hover(function(){p=true},function(){p=false});g(h).resize(i.debounce(250,function(){if(g(".nc_socialPanel").length&&false!==p){}else{h.swpAdjust=1;m()}}));g(document.body).on("post-load",function(){m()});if(0!==g(".nc_socialPanelSide").length){var n=g(".nc_socialPanelSide").height();var q=g(h).height();var o=j((q/2)-(n/2));setTimeout(function(){g(".nc_socialPanelSide").animate({top:o},0)},105)}if(1===g(".swp-content-locator").parent().children().length){g(".swp-content-locator").parent().hide()}})})(this,jQuery);(function(k){var b=/iPhone/i,m=/iPod/i,j=/iPad/i,o=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,p=/Android/i,l=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,h=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,g=/Windows Phone/i,q=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,n=/BlackBerry/i,a=/BB10/i,c=/Opera Mini/i,d=/(CriOS|Chrome)(?=.*\bMobile\b)/i,s=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,i=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i");var f=function(t,u){return t.test(u)};var e=function(v){var u=v||navigator.userAgent;var t=u.split("[FBAN");if(typeof t[1]!=="undefined"){u=t[0]}t=u.split("Twitter");if(typeof t[1]!=="undefined"){u=t[0]}this.apple={phone:f(b,u),ipod:f(m,u),tablet:!f(b,u)&&f(j,u),device:f(b,u)||f(m,u)||f(j,u)};this.amazon={phone:f(l,u),tablet:!f(l,u)&&f(h,u),device:f(l,u)||f(h,u)};this.android={phone:f(l,u)||f(o,u),tablet:!f(l,u)&&!f(o,u)&&(f(h,u)||f(p,u)),device:f(l,u)||f(h,u)||f(o,u)||f(p,u)};this.windows={phone:f(g,u),tablet:f(q,u),device:f(g,u)||f(q,u)};this.other={blackberry:f(n,u),blackberry10:f(a,u),opera:f(c,u),firefox:f(s,u),chrome:f(d,u),device:f(n,u)||f(a,u)||f(c,u)||f(s,u)||f(d,u)};this.seven_inch=f(i,u);this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch;this.phone=this.apple.phone||this.android.phone||this.windows.phone;this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet;if(typeof window==="undefined"){return this}};var r=function(){var t=new e();t.Class=e;return t};if(typeof module!=="undefined"&&module.exports&&typeof window==="undefined"){module.exports=e}else{if(typeof module!=="undefined"&&module.exports&&typeof window!=="undefined"){module.exports=r()}else{if(typeof define==="function"&&define.amd){define("swp_isMobile",[],k.swp_isMobile=r())}else{k.swp_isMobile=r()}}}})(this);