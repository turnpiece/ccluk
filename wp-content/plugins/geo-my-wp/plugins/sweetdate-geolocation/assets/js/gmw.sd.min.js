jQuery(document).ajaxStart(function(){var e=jQuery("#gmw-address-field-sdate-geo").val();jQuery.trim(e).length?(GMW.set_cookie("gmw_sdate_geo_address",e,1),GMW.set_cookie("gmw_sdate_geo_lat",jQuery("#gmw-lat-sdate-geo").val(),1),GMW.set_cookie("gmw_sdate_geo_lng",jQuery("#gmw-lng-sdate-geo").val(),1)):(GMW.set_cookie("gmw_sdate_geo_address","",1),GMW.set_cookie("gmw_sdate_geo_lat","",1),GMW.set_cookie("gmw_sdate_geo_lng","",1)),GMW.set_cookie("gmw_sdate_geo_radius",jQuery("#gmw-sdate-geo-radius-dropdown").val(),1),GMW.set_cookie("gmw_sdate_geo_orderby",jQuery("#gmw-sdate-geo-orderby-dropdown").val(),1)}),jQuery(document).ready(function(e){function t(t,s){var a=t.latitude,o=t.longitude;GMW.set_cookie("gmw_sdate_geo_lat",a,1),GMW.set_cookie("gmw_sdate_geo_lng",o,1),e("#gmw-lat-sdate-geo").val(a),e("#gmw-lng-sdate-geo").val(o),e("#gmw-address-field-sdate-geo").prop("disabled",!1),e("#gmw-address-field-sdate-geo").hasClass("enter-clicked")&&(e("#gmw-address-field-sdate-geo").removeClass("enter-clicked"),setTimeout(function(){jQuery("#horizontal_search").submit()},500))}function s(t){return GMW.set_cookie("gmw_sdate_geo_lat","",1),GMW.set_cookie("gmw_sdate_geo_lng","",1),jQuery("#gmw-lat-sdate-geo").val(""),jQuery("#gmw-lng-sdate-geo").val(""),e("#gmw-address-field-sdate-geo").prop("disabled",!1),e("#gmw-address-field-sdate-geo").hasClass("enter-clicked")&&(e("#gmw-address-field-sdate-geo").removeClass("enter-clicked"),alert("We could not find the address your entered. Please try a different address")),!1}jQuery(".gmw-locator-button").click(function(){GMW.locator_button_success=function(t){e("#gmw-lat-sdate-geo").val(t.latitude),e("#gmw-lng-sdate-geo").val(t.longitude),e("#gmw-address-field-sdate-geo").val(t.formatted_address),e(".gmw-locator-button").removeClass("animate-spin"),setTimeout(function(){e("#gmw-address-field-sdate-geo").closest("form").submit()},500)},GMW.locator_button_failed=function(t){alert("Geocoder failed due to: "+t),e(".gmw-locator-button").removeClass("animate-spin")},GMW.locator_button(jQuery(this))}),e("#horizontal_search").on("submit",function(e){var t=jQuery("#gmw-address-field-sdate-geo").val();return GMW.set_cookie("gmw_sdate_geo_address",t,1),GMW.set_cookie("gmw_sdate_geo_lat",jQuery("#gmw-lat-sdate-geo").val(),1),GMW.set_cookie("gmw_sdate_geo_lng",jQuery("#gmw-lng-sdate-geo").val(),1),GMW.set_cookie("gmw_sdate_geo_radius",jQuery("#gmw-sdate-geo-radius-dropdown").val(),1),GMW.set_cookie("gmw_sdate_geo_orderby",jQuery("#gmw-sdate-geo-orderby-dropdown").val(),1),!0}),e("#gmw-map-wrapper-sdate_geo").detach().insertBefore("#members-dir-list"),e("#gmw-address-field-sdate-geo").focus(function(){e(this).attr("data-last_address",e(this).val())}),e("#gmw-address-field-sdate-geo").focusout(function(){if(e("#gmw-address-field-sdate-geo").hasClass("focusout-enter-clicked"))return void e("#gmw-address-field-sdate-geo").removeClass("focusout-enter-clicked");var a=e(this).val(),o=e(this).attr("data-last_address"),d=e("#gmw-lat-sdate-geo").val(),r=e("#gmw-lng-sdate-geo").val();setTimeout(function(){!e.trim(a).length||a==o&&e.trim(d).length&&e.trim(r).length||GMW.geocoder(a,t,s)},300)}),e("#gmw-address-field-sdate-geo").keypress(function(a){if(13!=a.which)e("#gmw-lat-sdate-geo").val(""),e("#gmw-lng-sdate-geo").val("");else{a.preventDefault(),e(this).prop("disabled",!0),e(this).addClass("enter-clicked"),e(this).addClass("focusout-enter-clicked");var o=e(this).val(),d=e(this).attr("data-last_address"),r=e("#gmw-lat-sdate-geo").val(),l=e("#gmw-lng-sdate-geo").val();!e.trim(o).length||o==d&&e.trim(r).length&&e.trim(l).length?(e(this).prop("disabled",!1),e(this).removeClass("enter-clicked"),e("#horizontal_search").submit()):GMW.geocoder(o,t,s)}}),e("#members-all").on("click",function(){e("#gmw-address-field-sdate-geo, #members_search").val(""),GMW.set_cookie("gmw_sdate_geo_address","",1),GMW.set_cookie("gmw_sdate_geo_lat","",1),GMW.set_cookie("gmw_sdate_geo_lng","",1)})}),"google_maps"===gmwVars.mapsProvider&&GMW.add_filter("gmw_map_init",function(e){return e.markerGroupingTypes.markers_clusterer={init:function(e){"function"==typeof MarkerClusterer&&(e.clusters=new MarkerClusterer(e.map,e.markers,{imagePath:e.clustersPath,clusterClass:e.prefix+"-cluster cluster",maxZoom:15}))},clear:function(e){"function"==typeof MarkerClusterer&&0!=e.clusters&&e.clusters.clearMarkers()},addMarker:function(e,t){t.clusters.addMarker(e)},markerClick:function(e,t){google.maps.event.addListener(e,"click",function(){t.markerClick(this)})}},e});
