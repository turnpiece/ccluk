function gmwGetDirections(e,i){return i=i||gmwVars.mapsProvider,jQuery("#get-directions-submit-"+e).removeClass("gmw-icon-search").addClass("gmw-icon-spin-light animate-spin"),jQuery("#gmw-directions-panel-wrapper-"+e).html(""),"undefined"==typeof GMW_Directions_Providers[i]?console.log(i+" directions provider not found"):void GMW_Directions_Providers[i](e)}var GMW_Directions_Providers={google_maps:function(e){"undefined"==typeof GMW_Directions[e]&&(GMW_Directions[e]={id:e,service:new google.maps.DirectionsService,display:new google.maps.DirectionsRenderer({suppressMarkers:!1})});var i,t=GMW_Directions[e];"undefined"!=typeof GMW_Maps[e]&&(i=GMW_Maps[e],null!=i.directions&&(i.directions.setMap(null),i.directions=null),i.directions=t.display,i.directions.setMap(i.map)),t.display.setPanel(document.getElementById("gmw-directions-panel-wrapper-"+e));var o=jQuery("#origin-field-"+e).val(),n=jQuery("#destination-field-"+e).val(),s=jQuery("#travel-mode-options-"+e+" li a.active").attr("id"),r=jQuery("#get-directions-form-"+e+" .unit-system-trigger:checked").val(),d=jQuery("#route-avoid-highways-trigger-"+e).is(":checked")?!0:!1,a=jQuery("#route-avoid-tolls-trigger-"+e).is(":checked")?!0:!1,l={origin:o,destination:n,travelMode:google.maps.TravelMode[s],unitSystem:google.maps.UnitSystem[r],provideRouteAlternatives:!0,avoidHighways:d,avoidTolls:a};t.service.route(l,function(i,o){if(o==google.maps.DirectionsStatus.OK)t.display.setDirections(i);else{var n;n="ZERO_RESULTS"==o?"No route could be found between the origin and destination.":"UNKNOWN_ERROR"==o?"A directions request could not be processed due to a server error. The request may succeed if you try again.":"REQUEST_DENIED"==o?"This webpage is not allowed to use the directions service.":"OVER_QUERY_LIMIT"==o?"The webpage has gone over the requests limit in too short a period of time.":"NOT_FOUND"==o?"At least one of the origin, destination, or waypoints could not be geocoded.":"INVALID_REQUEST"==o?"The DirectionsRequest provided was invalid.":"There was an unknown error in your request. Requeststatus: nn"+o,jQuery("#gmw-directions-panel-wrapper-"+e).html('<div id="error-message">'+n+"</div>")}jQuery("#get-directions-submit-"+e).removeClass("gmw-icon-spin-light animate-spin").addClass("gmw-icon-search")})}},GMW_Directions={};jQuery(document).ready(function(e){e(document).on("click",".get-directions-submit",function(i){i.preventDefault(),elementId=e(this).closest("form").find(".element-id").val(),gmwGetDirections(elementId)}),e(document).on("keypress",".gmw-directions-form-wrapper .address-field-wrapper input",function(i){13==i.keyCode&&(i.preventDefault(),elementId=e(this).closest("form").find(".element-id").val(),gmwGetDirections(elementId))}),e(document).on("click",".gmw-directions-form-wrapper .travel-mode-options a.travel-mode-trigger",function(i){i.preventDefault(),e(".travel-mode-options li a").removeClass("active"),e(this).addClass("active"),elementId=e(this).closest("form").find(".element-id").val(),gmwGetDirections(elementId)}),e(document).on("change",".gmw-directions-form-wrapper .unit-system-options .unit-system-trigger",function(i){elementId=e(this).closest("form").find(".element-id").val(),e("#unit-system-options-"+elementId+" label").removeClass("active"),e(this).closest("label").addClass("active"),gmwGetDirections(elementId)}),e(document).on("click",".gmw-iw-close-button",function(e){"undefined"!=typeof directionsDisplay&&directionsDisplay.setMap(null)}),e(document).on("click",".gmw-directions-form-wrapper .route-avoid-trigger",function(i){elementId=e(this).closest("form").find(".element-id").val(),gmwGetDirections(elementId)})});