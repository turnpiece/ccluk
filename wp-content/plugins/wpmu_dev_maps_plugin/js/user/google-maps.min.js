/*! Google Maps Pro - v2.9.5
 * http://premium.wpmudev.org/project/wordpress-google-maps-plugin
 * Copyright (c) 2018; * Licensed GPLv2+ */
window.AgmMapHandler=null,window._agm=window._agm||{},_agm.initialized=!1,jQuery(function(){function a(){window._agmMapIsLoaded?(jQuery.each(_agmMaps,function(a,b){new window.AgmMapHandler(b.selector,b.data)}),_agm.initialized=!0):window.setTimeout(a,100)}_agm.initialized=!1,window.AgmMapHandler=function(a,b){var c,d,e,f,g,h="map_"+Math.floor(Math.random()*(new Date).getTime())+"_preview",i=jQuery(a),j=[],k=!1,l=null,m=function(){return jQuery(a+" .agm_mh_directions_container").remove(),!1},n=function(){var a='<div class="agm_mh_directions_container agm_mh_container">';a+='<div style="width:300px"><span style="float:right"><input type="button" class="agm_mh_close_directions" value="'+l10nStrings.close+'" /> </span><div><a href="#" class="agm_mh_travel_type"><img src="'+_agm.root_url+'/img/system/car_on.png"></a><a href="#" class="agm_mh_travel_type"><img src="'+_agm.root_url+'/img/system/bike_off.png"></a><a href="#" class="agm_mh_travel_type"><img src="'+_agm.root_url+'/img/system/walk_off.png"></a><a href="#" class="agm_mh_travel_type"><img src="'+_agm.root_url+'/img/system/bus_off.png"></a></div></div><div><img src="'+_agm.root_url+'/img/system/a.png">&nbsp;<input size="32" type="text" class="agm_waypoint_a" /></div><div><a href="#" class="agm_mh_swap_direction_waypoints"><img src="'+_agm.root_url+'/img/system/swap.png"></a></div><div><img src="'+_agm.root_url+'/img/system/b.png">&nbsp;<input size="32" type="text"  class="agm_waypoint_b" /></div><div><input type="button" class="agm_mh_get_directions" value="'+l10nStrings.get_directions+'" /></div><div class="agm_mh_directions_panel agm_mh_container"></div>',a+="</div>",i.append(a)},o=function(){var b=jQuery(this),c=b.find("img"),d=jQuery(a+" .agm_mh_travel_type img");return d.each(function(){jQuery(this).attr("src",jQuery(this).attr("src").replace(/_on\./,"_off."))}),c.attr("src").match(/car_off\.png/)?f=window.google.maps.DirectionsTravelMode.DRIVING:c.attr("src").match(/bike_off\.png/)?f=window.google.maps.DirectionsTravelMode.BICYCLING:c.attr("src").match(/walk_off\.png/)?f=window.google.maps.DirectionsTravelMode.WALKING:c.attr("src").match(/bus_off\.png/)&&(f=window.google.maps.DirectionsTravelMode.TRANSIT),c.attr("src",c.attr("src").replace(/_off\./,"_on.")),!1},p=function(){jQuery(a+" .agm_mh_directions_container").is(":visible")||n();var c=v(jQuery(this).attr("href")),d=j[c];if(b.defaults&&b.defaults.directions_snapping){var e=new window.google.maps.Geocoder;e.geocode({latLng:d.getPosition()},function(b,c){c===window.google.maps.GeocoderStatus.OK?(jQuery(a+" .agm_waypoint_b").val(b[0].formatted_address),jQuery(document).trigger("agm_google_maps-user-directions-waypoint_populated",[b[0].formatted_address,d,i]),jQuery(document).trigger("agm:dir_waypoint",[b[0].formatted_address,d,i])):window.alert(l10nStrings.geocoding_error)})}else{var f=d.getPosition();jQuery(a+" .agm_waypoint_b").val(f),jQuery(document).trigger("agm_google_maps-user-directions-waypoint_populated",[f,d,i]),jQuery(document).trigger("agm:dir_waypoint",[f,d,i])}return!1},q=function(){var b=jQuery(a+" .agm_waypoint_a").val();return jQuery(a+" .agm_waypoint_a").val(jQuery(a+" .agm_waypoint_b").val()),jQuery(a+" .agm_waypoint_b").val(b),!1},r=function(){var c=jQuery(a+" .agm_waypoint_a").val(),g=jQuery(a+" .agm_waypoint_b").val();if(!c||!g)return window.alert(l10nStrings.missing_waypoint),!1;var h=0;"defaults"in b&&"units"in b.defaults?h=b.defaults.units:"units"in b&&(h=b.units);var i={origin:c,destination:g,unitSystem:h,travelMode:f};return d.setPanel(jQuery(a+" .agm_mh_directions_panel").get(0)),e.route(i,function(a,b){b===window.google.maps.DirectionsStatus.OK?d.setDirections(a):window.alert(l10nStrings.oops_no_directions)}),!1},s=function(){var a=!1;jQuery.each(j,function(b,d){if(!a)return a=d,!0;var e={origin:a.getPosition(),destination:d.getPosition(),travelMode:window.google.maps.DirectionsTravelMode.DRIVING},f=new window.google.maps.DirectionsRenderer({draggable:!0}),g=new window.google.maps.DirectionsService;f.setMap(c),g.route(e,function(a,b){b===window.google.maps.DirectionsStatus.OK&&f.setDirections(a)}),a=d})},t=function(a,b,d,e,f,g){g=void 0===g||isNaN(g)?j.length:g,e=e.match(/^https?:\/\//)?e:_agm.root_url+"/img/"+e;var h="";void 0!==f&&void 0!==f.identifier&&(h="agm-id-"+f.identifier),c.setCenter(b);var i=new window.google.maps.Marker({title:a,map:c,icon:e,draggable:!1,clickable:!0,position:b}),l='<div class="agm_mh_info_content"><div class="agm_mh_info_title">'+a+'</div><img class="agm_mh_info_icon marker-icon-32" src="'+e+'" /><div class="agm_mh_info_body">'+d+"</div>"+x(g)+y(g,1)+"</div>",m=new window.google.maps.InfoWindow({content:l});window.google.maps.event.addListener(i,"click",function(){i.show_info=!0,jQuery(document).trigger("agm_google_maps-user-marker_click",[g,a,d,i,c]),jQuery(document).trigger("agm:marker_click",[g,a,d,i,c]),i.show_info===!0&&m.open(c,i)}),i._agmBody=d,i._agmInfo=m,i._identifier=h,j[g]=i,k=!0,jQuery(document).trigger("agm_google_maps-user-adding_marker",[i,g,c,f]),jQuery(document).trigger("agm:add_marker",[i,g,c,f]),c._agm_add_marker(i),z()},u=function(){b.markers&&jQuery.each(b.markers,function(a,b){t(b.title,new window.google.maps.LatLng(b.position[0],b.position[1]),b.body,b.icon,b)})},v=function(a){var b=a.replace(/[^0-9]+/,"");return parseInt(b,10)},w=function(){var a=jQuery(this),d=v(a.attr("href")),e=jQuery.extend([],j);"function"==typeof l&&e.sort(l);var f=e[d];if(c.setCenter(f.getPosition()),parseInt(b.street_view,10)){var g=c.getStreetView();g.setPosition(c.getCenter()),g.setVisible(!0)}return jQuery(document).trigger("agm_google_maps-user-map_centered_to_marker",[f,c]),jQuery(document).trigger("agm:centered",[f,c]),!1},x=function(a){return'<a href="#agm_mh_marker-'+a+'" class="agm_mh_marker_item_directions">'+l10nStrings.directions+"</a>"},y=function(a,c){return"show_posts"in b&&b.show_posts&&parseInt(b.show_posts,10)?'<div class="agm_post_links_container"><input type="hidden" value="'+a+'" /></div>':""},z=function(){if(!b.show_markers||!parseInt(b.show_markers,10))return!1;if(!k)return!1;var a=(new Date).getTime(),c=10;if(isNaN(b.update_list_timer)&&(b.update_list_at=a+c,b.update_list_timer=window.setTimeout(z,c+1)),a<b.update_list_at)return!1;var d=jQuery.extend([],j);"function"==typeof l&&d.sort(l);var e,f,g,i,m='<ul class="agm_mh_marker_list">';for(e=0;e<d.length;e+=1){if(f=d[e],void 0===f)return!1;i=f.getIcon();try{i=i.url?i.url:i}catch(n){i=f.getIcon()}g='<li style="clear:both" class="'+f._identifier+'"><a href="#agm_mh_marker-'+e+'" class="agm_mh_marker_item"><img src="'+i+'" class="marker-icon-32" /><div class="agm_mh_marker_item_content"><div><b>'+f.getTitle()+"</b></div><div>"+f._agmBody+"</div></div></a>"+x(e)+y(e)+'<div style="clear:both"></div></li>',m+=g}m+="</ul>",jQuery("#agm_mh_markers_"+h).html(m),k=!1},A=function(a,b,c){var d,e,f;if(b.length){for(b="agm-id-"+b,d=j.length-1;d>=0;d-=1)if(void 0!==j[d]&&j[d]._identifier===b){j[d].setMap(null),f=d;break}e=new window.google.maps.LatLng(c.position[0],c.position[1]),t(c.title,e,c.body,c.icon,c,f)}},B=function(a,b){var c;if(b.length)for(b="agm-id-"+b,c=j.length-1;c>=0;c-=1)if(j[c]._identifier===b){j[c].setMap(null),j.splice(c,1),k=!0,z();break}},C=function(a,b){"function"==typeof a&&void 0===b&&(b=a),"function"==typeof b&&("function"==typeof l&&l.toString()===b.toString()||(l=b,k=!0))},D=function(){return!!("show_posts"in b&&b.show_posts&&parseInt(b.show_posts,10))&&void jQuery(a+" .agm_post_links_container").each(function(){var a=jQuery(this),d=a.find("input:hidden").val();if(!d)return!0;var e=b.markers[d];if(!e)return!0;var f=!1;return!(f="post_ids"in e&&e.post_ids&&e.post_ids.length?e.post_ids:b.post_ids)||void jQuery.post(_agm.ajax_url,{action:"agm_get_post_titles",post_ids:f},function(b){if(!b.posts)return!0;var e='<div class="agm_associated_posts_list_title">'+l10nStrings.posts+"</div>";e+='<ul class="agm_associated_posts_list_items">';var f="";jQuery.each(b.posts,function(a,b){a>2&&(f='style="display:none;"'),e+="<li "+f+'><a href="'+b.permalink+'">'+b.post_title+"</a></li>"}),e+="</ul>",f&&(e+='<a href="#" class="agm_toggle_hidden_post_links">'+l10nStrings.showAll+"</a>"),a.html(e);var g=j[d],h=jQuery(g._agmInfo.getContent());h.find(".agm_post_links_container").html(e);var i='<div class="agm_mh_info_content">'+h.html()+"</div>";g._agmInfo.setContent(i),jQuery("body").on("click",".agm_toggle_hidden_post_links",function(){var a=jQuery(this).parents(".agm_post_links_container").first();return a.find(".agm_associated_posts_list_items li:hidden").length?(a.find(".agm_associated_posts_list_items li:hidden").show(),jQuery(this).text(l10nStrings.hide)):(a.find(".agm_associated_posts_list_items li:gt(2)").hide(),jQuery(this).text(l10nStrings.showAll)),!1}),jQuery(document).trigger("agm_google_maps-user-post_titles_loaded",[g,b,c]),jQuery(document).trigger("agm:post_titles",[g,b,c])})})},E=function(){var k,l,n,v=!1;try{k=parseInt(b.width,10)>0?b.width:b.defaults.width,l=parseInt(b.height,10)>0?b.height:b.defaults.height}catch(x){k=parseInt(b.width,10)>0?b.width:200,l=parseInt(b.height,10)>0?b.height:200}k=k.toString().indexOf("%")?k:parseInt(k,10);try{"units"in b.defaults?b.defaults.units=window.google.maps.UnitSystem[b.defaults.units]:b.defaults.units=window.google.maps.UnitSystem.METRIC}catch(x){b.units=window.google.maps.UnitSystem.METRIC}if(b.zoom=parseInt(b.zoom,10)?parseInt(b.zoom,10):1,b.map_type=b.map_type?b.map_type:"ROADMAP",b.map_alignment=b.map_alignment||b.defaults.map_alignment,b.image_size=b.image_size||b.defaults.image_size,b.image_limit=b.image_limit||b.defaults.image_limit,b.street_view="street_view"in b?b.street_view:0,i.wrap('<div id="map_'+h+'_alignment_container"></div>'),g=jQuery("#map_"+h+"_alignment_container"),i.html('<div id="'+h+'"></div>'),jQuery("#"+h).width(k).height(parseInt(l,10)),i.width(k),b.show_map&&parseInt(b.show_map,10)||jQuery("#"+h).css({position:"absolute",left:"-120000px"}),c=new window.google.maps.Map(jQuery("#"+h).get(0),{zoom:parseInt(b.zoom,10)?parseInt(b.zoom,10):1,minZoom:1,center:new window.google.maps.LatLng(40.7171,(-74.0039)),mapTypeId:window.google.maps.MapTypeId[b.map_type]}),d=new window.google.maps.DirectionsRenderer({draggable:!0}),e=new window.google.maps.DirectionsService,d.setMap(c),f=window.google.maps.DirectionsTravelMode.DRIVING,i.append('<div id="agm_mh_footer" class="agm_mh_footer"><div class="agm_mh_container" id="agm_mh_markers_'+h+'"></div></div>'),u(),window.setTimeout(function(){D()},20),parseInt(b.street_view,10)){var y=c.getStreetView(),z=null;z=b.street_view_pos?new window.google.maps.LatLng(b.street_view_pos[0],b.street_view_pos[1]):c.getCenter(),y.setPosition(z),b.street_view_pov&&y.setPov({heading:parseInt(b.street_view_pov.heading,10),pitch:parseInt(b.street_view_pov.pitch,10),zoom:parseInt(b.street_view_pov.zoom,10)}),y.setVisible(!0)}var E=!1;try{b.plot_routes&&(E=!0)}catch(x){}switch(E&&s(),jQuery(document).trigger("agm_google_maps-user-map_initialized",[c,b,j]),jQuery(document).trigger("agm:init",[c,b,j]),jQuery(document).trigger("agm_google_maps-user-map_postprocess_markers",[b,j,t]),jQuery(document).trigger("agm:postprocess_markers",[b,j,t]),jQuery(document).trigger("agm_google_maps-user-sort_function",[c,b,C]),jQuery(document).trigger("agm:sort",[c,b,C]),b.map_alignment){case"right":i.css({"float":"right"});break;case"center":i.css({margin:"0 auto"});break;default:i.css({"float":"left"})}g.append('<div style="clear:both"></div>'),jQuery("body").on("click",a+" .agm_mh_travel_type",o),jQuery("body").on("click",a+" .agm_mh_swap_direction_waypoints",q),jQuery("body").on("click",a+" .agm_mh_close_directions",m),jQuery("body").on("click",a+" .agm_mh_get_directions",r),jQuery("body").on("click",a+" .agm_mh_marker_item",w),jQuery("body").on("click",a+" .agm_mh_marker_item_directions",p),i.on("agm:update_marker",A),i.on("agm:remove_marker",B),i.on("agm:sort_function",C),n=window.setInterval(function(){if(v&&i.is(":visible")){var a=c.getCenter();window.google.maps.event.trigger(c,"resize"),c.setCenter(a),jQuery(document).trigger("agm:after_init",[c,b,j]),window.clearInterval(n)}},300),window.google.maps.event.addListenerOnce(c,"idle",function(){v=!0})};E()},a();var b=function(){var a=function(a){a.preventDefault(),a.stopPropagation();for(var b,c,d,e=jQuery(this).attr("id")+"-container",f=jQuery("body"),g=jQuery("html"),h=jQuery("#"+e),i=jQuery('<div class="agm-modal-back"></div>').appendTo(f),j=f.css("overflow"),k=g.css("overflow"),l=h.data("width"),m=h.data("height"),n=h.find(".agm_google_maps"),o="#"+n.attr("id"),p=_agmMaps.length-1;p>=0;p--)if(_agmMaps[p].selector===o){d=_agmMaps[p];break}if(h.show(),i.show(),l.toString().length&&!isNaN(l)||(l=d.data.defaults.width),m.toString().length&&!isNaN(m)||(m=d.data.defaults.height),l.toString().length&&!isNaN(l)&&(b=l/2*-1,h.css({width:l,"margin-left":b})),m.toString().length&&!isNaN(m)){if(m=parseInt(m),parseInt(d.data.show_markers)){var q=jQuery("#agm_mh_footer",h),r=2;d.data.markers.length>2&&(r=d.data.markers.length<5?d.data.markers.length:5),q.css({top:m,bottom:0}),m+=68*r}c=m/2*-1,h.css({height:m,"margin-top":c})}return f.css("overflow","hidden"),g.css("overflow","hidden"),h.one("agm:close",function(){f.css("overflow",j),g.css("overflow",k),h.hide(),i.remove()}),i.click(function(){h.trigger("agm:close")}),!1};jQuery("body").on("click",".agm-map-popup",a)};b()});