/*! Google Maps - v2.9.3
 * http://premium.wpmudev.org/project/wordpress-google-maps-plugin
 * Copyright (c) 2017; * Licensed GPLv2+ */
window.AgmMapHandler=null,window._agm=window._agm||{},_agm.initialized=!1,jQuery(function(){function a(){window._agmMapIsLoaded?(jQuery.each(_agmMaps,function(a,b){new window.AgmMapHandler(b.selector,b.data)}),_agm.initialized=!0):window.setTimeout(a,100)}_agm.initialized=!1,window.AgmMapHandler=function(a,c){var d,e,f,g,h,i,j="map_"+Math.floor(Math.random()*(new Date).getTime())+"_preview",k=jQuery(a),l=!1,m=[],n=!1,o=null,p=function(){return jQuery(a+" .agm_mh_directions_container").remove(),!1},q=function(){var a='<div class="agm_mh_directions_container agm_mh_container">';a+='<div style="width:300px"><span style="float:right"><input type="button" class="agm_mh_close_directions" value="'+l10nStrings.close+'" /> </span><div><a href="#" class="agm_mh_travel_type"><img src="'+_agm.root_url+'/img/system/car_on.png"></a><a href="#" class="agm_mh_travel_type"><img src="'+_agm.root_url+'/img/system/bike_off.png"></a><a href="#" class="agm_mh_travel_type"><img src="'+_agm.root_url+'/img/system/walk_off.png"></a><a href="#" class="agm_mh_travel_type"><img src="'+_agm.root_url+'/img/system/bus_off.png"></a></div></div><div><img src="'+_agm.root_url+'/img/system/a.png">&nbsp;<input size="32" type="text" class="agm_waypoint_a" /></div><div><a href="#" class="agm_mh_swap_direction_waypoints"><img src="'+_agm.root_url+'/img/system/swap.png"></a></div><div><img src="'+_agm.root_url+'/img/system/b.png">&nbsp;<input size="32" type="text"  class="agm_waypoint_b" /></div><div><input type="button" class="agm_mh_get_directions" value="'+l10nStrings.get_directions+'" /></div><div class="agm_mh_directions_panel agm_mh_container"></div>',a+="</div>",k.append(a)},r=function(){if("object"!=typeof window.google.maps.panoramio)return!1;if(c.show_panoramio_overlay&&parseInt(c.show_panoramio_overlay,10)){var a=c.panoramio_overlay_tag;l=new window.google.maps.panoramio.PanoramioLayer,a&&l.setTag(a),l.setMap(d)}},s=function(){var b=jQuery(this),c=b.find("img"),d=jQuery(a+" .agm_mh_travel_type img");return d.each(function(){jQuery(this).attr("src",jQuery(this).attr("src").replace(/_on\./,"_off."))}),c.attr("src").match(/car_off\.png/)?h=window.google.maps.DirectionsTravelMode.DRIVING:c.attr("src").match(/bike_off\.png/)?h=window.google.maps.DirectionsTravelMode.BICYCLING:c.attr("src").match(/walk_off\.png/)?h=window.google.maps.DirectionsTravelMode.WALKING:c.attr("src").match(/bus_off\.png/)&&(h=window.google.maps.DirectionsTravelMode.TRANSIT),c.attr("src",c.attr("src").replace(/_off\./,"_on.")),!1},t=function(){jQuery(a+" .agm_mh_directions_container").is(":visible")||q();var b=z(jQuery(this).attr("href")),d=m[b];if(c.defaults&&c.defaults.directions_snapping){var e=new window.google.maps.Geocoder;e.geocode({latLng:d.getPosition()},function(b,c){c===window.google.maps.GeocoderStatus.OK?(jQuery(a+" .agm_waypoint_b").val(b[0].formatted_address),jQuery(document).trigger("agm_google_maps-user-directions-waypoint_populated",[b[0].formatted_address,d,k]),jQuery(document).trigger("agm:dir_waypoint",[b[0].formatted_address,d,k])):window.alert(l10nStrings.geocoding_error)})}else{var f=d.getPosition();jQuery(a+" .agm_waypoint_b").val(f),jQuery(document).trigger("agm_google_maps-user-directions-waypoint_populated",[f,d,k]),jQuery(document).trigger("agm:dir_waypoint",[f,d,k])}return!1},u=function(){var b=jQuery(a+" .agm_waypoint_a").val();return jQuery(a+" .agm_waypoint_a").val(jQuery(a+" .agm_waypoint_b").val()),jQuery(a+" .agm_waypoint_b").val(b),!1},v=function(){var b=jQuery(a+" .agm_waypoint_a").val(),d=jQuery(a+" .agm_waypoint_b").val();if(!b||!d)return window.alert(l10nStrings.missing_waypoint),!1;var g=0;"defaults"in c&&"units"in c.defaults?g=c.defaults.units:"units"in c&&(g=c.units);var i={origin:b,destination:d,unitSystem:g,travelMode:h};return e.setPanel(jQuery(a+" .agm_mh_directions_panel").get(0)),f.route(i,function(a,b){b===window.google.maps.DirectionsStatus.OK?e.setDirections(a):window.alert(l10nStrings.oops_no_directions)}),!1},w=function(){var a=!1;jQuery.each(m,function(b,c){if(!a)return a=c,!0;var e={origin:a.getPosition(),destination:c.getPosition(),travelMode:window.google.maps.DirectionsTravelMode.DRIVING},f=new window.google.maps.DirectionsRenderer({draggable:!0}),g=new window.google.maps.DirectionsService;f.setMap(d),g.route(e,function(a,b){b===window.google.maps.DirectionsStatus.OK&&f.setDirections(a)}),a=c})},x=function(a,b,c,e,f,g){g=void 0===g||isNaN(g)?m.length:g,e=e.match(/^https?:\/\//)?e:_agm.root_url+"/img/"+e;var h="";void 0!==f&&void 0!==f.identifier&&(h="agm-id-"+f.identifier),d.setCenter(b);var i=new window.google.maps.Marker({title:a,map:d,icon:e,draggable:!1,clickable:!0,position:b}),j='<div class="agm_mh_info_content"><div class="agm_mh_info_title">'+a+'</div><img class="agm_mh_info_icon marker-icon-32" src="'+e+'" /><div class="agm_mh_info_body">'+c+"</div>"+B(g)+C(g,1)+"</div>",k=new window.google.maps.InfoWindow({content:j});window.google.maps.event.addListener(i,"click",function(){i.show_info=!0,jQuery(document).trigger("agm_google_maps-user-marker_click",[g,a,c,i,d]),jQuery(document).trigger("agm:marker_click",[g,a,c,i,d]),i.show_info===!0&&k.open(d,i)}),i._agmBody=c,i._agmInfo=k,i._identifier=h,m[g]=i,n=!0,jQuery(document).trigger("agm_google_maps-user-adding_marker",[i,g,d,f]),jQuery(document).trigger("agm:add_marker",[i,g,d,f]),d._agm_add_marker(i),D()},y=function(){c.markers&&jQuery.each(c.markers,function(a,b){x(b.title,new window.google.maps.LatLng(b.position[0],b.position[1]),b.body,b.icon,b)})},z=function(a){var b=a.replace(/[^0-9]+/,"");return parseInt(b,10)},A=function(){var a=jQuery(this),b=z(a.attr("href")),e=jQuery.extend([],m);"function"==typeof o&&e.sort(o);var f=e[b];if(d.setCenter(f.getPosition()),parseInt(c.street_view,10)){var g=d.getStreetView();g.setPosition(d.getCenter()),g.setVisible(!0)}return jQuery(document).trigger("agm_google_maps-user-map_centered_to_marker",[f,d]),jQuery(document).trigger("agm:centered",[f,d]),!1},B=function(a){return'<a href="#agm_mh_marker-'+a+'" class="agm_mh_marker_item_directions">'+l10nStrings.directions+"</a>"},C=function(a,b){return"show_posts"in c&&c.show_posts&&parseInt(c.show_posts,10)?'<div class="agm_post_links_container"><input type="hidden" value="'+a+'" /></div>':""},D=function(){if(!c.show_markers||!parseInt(c.show_markers,10))return!1;if(!n)return!1;var a=(new Date).getTime(),b=10;if(isNaN(c.update_list_timer)&&(c.update_list_at=a+b,c.update_list_timer=window.setTimeout(D,b+1)),a<c.update_list_at)return!1;var d=jQuery.extend([],m);"function"==typeof o&&d.sort(o);var e,f,g,h,i='<ul class="agm_mh_marker_list">';for(e=0;e<d.length;e+=1){if(f=d[e],void 0===f)return!1;h=f.getIcon();try{h=h.url?h.url:h}catch(k){h=f.getIcon()}g='<li style="clear:both" class="'+f._identifier+'"><a href="#agm_mh_marker-'+e+'" class="agm_mh_marker_item"><img src="'+h+'" class="marker-icon-32" /><div class="agm_mh_marker_item_content"><div><b>'+f.getTitle()+"</b></div><div>"+f._agmBody+"</div></div></a>"+B(e)+C(e)+'<div style="clear:both"></div></li>',i+=g}i+="</ul>",jQuery("#agm_mh_markers_"+j).html(i),n=!1},E=function(a,b,c){var d,e,f;if(b.length){for(b="agm-id-"+b,d=m.length-1;d>=0;d-=1)if(void 0!==m[d]&&m[d]._identifier===b){m[d].setMap(null),f=d;break}e=new window.google.maps.LatLng(c.position[0],c.position[1]),x(c.title,e,c.body,c.icon,c,f)}},F=function(a,b){var c;if(b.length)for(b="agm-id-"+b,c=m.length-1;c>=0;c-=1)if(m[c]._identifier===b){m[c].setMap(null),m.splice(c,1),n=!0,D();break}},G=function(a,b){"function"==typeof a&&void 0===b&&(b=a),"function"==typeof b&&("function"==typeof o&&o.toString()===b.toString()||(o=b,n=!0))},H=function(){return!!("show_posts"in c&&c.show_posts&&parseInt(c.show_posts,10))&&void jQuery(a+" .agm_post_links_container").each(function(){var a=jQuery(this),b=a.find("input:hidden").val();if(!b)return!0;var e=c.markers[b];if(!e)return!0;var f=!1;return!(f="post_ids"in e&&e.post_ids&&e.post_ids.length?e.post_ids:c.post_ids)||void jQuery.post(_agm.ajax_url,{action:"agm_get_post_titles",post_ids:f},function(c){if(!c.posts)return!0;var e='<div class="agm_associated_posts_list_title">'+l10nStrings.posts+"</div>";e+='<ul class="agm_associated_posts_list_items">';var f="";jQuery.each(c.posts,function(a,b){a>2&&(f='style="display:none;"'),e+="<li "+f+'><a href="'+b.permalink+'">'+b.post_title+"</a></li>"}),e+="</ul>",f&&(e+='<a href="#" class="agm_toggle_hidden_post_links">'+l10nStrings.showAll+"</a>"),a.html(e);var g=m[b],h=jQuery(g._agmInfo.getContent());h.find(".agm_post_links_container").html(e);var i='<div class="agm_mh_info_content">'+h.html()+"</div>";g._agmInfo.setContent(i),jQuery("body").on("click",".agm_toggle_hidden_post_links",function(){var a=jQuery(this).parents(".agm_post_links_container").first();return a.find(".agm_associated_posts_list_items li:hidden").length?(a.find(".agm_associated_posts_list_items li:hidden").show(),jQuery(this).text(l10nStrings.hide)):(a.find(".agm_associated_posts_list_items li:gt(2)").hide(),jQuery(this).text(l10nStrings.showAll)),!1}),jQuery(document).trigger("agm_google_maps-user-post_titles_loaded",[g,c,d]),jQuery(document).trigger("agm:post_titles",[g,c,d])})})},I=function(){var l,n,o,q=!1;try{l=parseInt(c.width,10)>0?c.width:c.defaults.width,n=parseInt(c.height,10)>0?c.height:c.defaults.height}catch(z){l=parseInt(c.width,10)>0?c.width:200,n=parseInt(c.height,10)>0?c.height:200}l=l.toString().indexOf("%")?l:parseInt(l,10);try{"units"in c.defaults?c.defaults.units=window.google.maps.UnitSystem[c.defaults.units]:c.defaults.units=window.google.maps.UnitSystem.METRIC}catch(z){c.units=window.google.maps.UnitSystem.METRIC}if(c.zoom=parseInt(c.zoom,10)?parseInt(c.zoom,10):1,c.map_type=c.map_type?c.map_type:"ROADMAP",c.map_alignment=c.map_alignment||c.defaults.map_alignment,c.image_size=c.image_size||c.defaults.image_size,c.image_limit=c.image_limit||c.defaults.image_limit,c.show_panoramio_overlay="show_panoramio_overlay"in c?c.show_panoramio_overlay:0,c.panoramio_overlay_tag="panoramio_overlay_tag"in c?c.panoramio_overlay_tag:"",c.street_view="street_view"in c?c.street_view:0,k.wrap('<div id="map_'+j+'_alignment_container"></div>'),i=jQuery("#map_"+j+"_alignment_container"),k.html('<div id="'+j+'"></div>'),jQuery("#"+j).width(l).height(parseInt(n,10)),k.width(l),c.show_map&&parseInt(c.show_map,10)||jQuery("#"+j).css({position:"absolute",left:"-120000px"}),d=new window.google.maps.Map(jQuery("#"+j).get(0),{zoom:parseInt(c.zoom,10)?parseInt(c.zoom,10):1,minZoom:1,center:new window.google.maps.LatLng(40.7171,(-74.0039)),mapTypeId:window.google.maps.MapTypeId[c.map_type]}),e=new window.google.maps.DirectionsRenderer({draggable:!0}),f=new window.google.maps.DirectionsService,e.setMap(d),h=window.google.maps.DirectionsTravelMode.DRIVING,k.append('<div id="agm_mh_footer" class="agm_mh_footer"><div class="agm_mh_container" id="agm_mh_markers_'+j+'"></div></div>'),y(),r(),window.setTimeout(function(){H()},20),parseInt(c.street_view,10)){var B=d.getStreetView(),C=null;C=c.street_view_pos?new window.google.maps.LatLng(c.street_view_pos[0],c.street_view_pos[1]):d.getCenter(),B.setPosition(C),c.street_view_pov&&B.setPov({heading:parseInt(c.street_view_pov.heading,10),pitch:parseInt(c.street_view_pov.pitch,10),zoom:parseInt(c.street_view_pov.zoom,10)}),B.setVisible(!0)}c.show_images&&parseInt(c.show_images,10)&&(g=new b(d,k,c.image_limit,c.image_size),k.append(g.createMarkup()));var D=!1;try{c.plot_routes&&(D=!0)}catch(z){}switch(D&&w(),jQuery(document).trigger("agm_google_maps-user-map_initialized",[d,c,m]),jQuery(document).trigger("agm:init",[d,c,m]),jQuery(document).trigger("agm_google_maps-user-map_postprocess_markers",[c,m,x]),jQuery(document).trigger("agm:postprocess_markers",[c,m,x]),jQuery(document).trigger("agm_google_maps-user-sort_function",[d,c,G]),jQuery(document).trigger("agm:sort",[d,c,G]),c.map_alignment){case"right":k.css({"float":"right"});break;case"center":k.css({margin:"0 auto"});break;default:k.css({"float":"left"})}i.append('<div style="clear:both"></div>'),jQuery("body").on("click",a+" .agm_mh_travel_type",s),jQuery("body").on("click",a+" .agm_mh_swap_direction_waypoints",u),jQuery("body").on("click",a+" .agm_mh_close_directions",p),jQuery("body").on("click",a+" .agm_mh_get_directions",v),jQuery("body").on("click",a+" .agm_mh_marker_item",A),jQuery("body").on("click",a+" .agm_mh_marker_item_directions",t),k.on("agm:update_marker",E),k.on("agm:remove_marker",F),k.on("agm:sort_function",G),o=window.setInterval(function(){if(q&&k.is(":visible")){var a=d.getCenter();window.google.maps.event.trigger(d,"resize"),d.setCenter(a),jQuery(document).trigger("agm:after_init",[d,c,m]),window.clearInterval(o)}},300),window.google.maps.event.addListenerOnce(d,"idle",function(){q=!0})};I()};var b=function(a,b,c,d){var e="agm_panoramio_"+Math.floor(Math.random()*(new Date).getTime())+"_container",f=[],g=200,h=function(){var b=a.getBounds();if(!b)return window.setTimeout(h,100);var g="func_"+e+"_image_handler";window[g]=function(a){f=a.photos};var i=document.createElement("script"),j="http://www.panoramio.com/map/get_panoramas.php?set=full&from=0&to="+c+"&miny="+b.getSouthWest().lat()+"&minx="+b.getSouthWest().lng()+"&maxy="+b.getNorthEast().lat()+"&maxx="+b.getNorthEast().lng()+"&size="+d+"&callback="+g;i.type="text/javascript",i.src=j,document.body.appendChild(i)},i=function(){if(window.Galleria&&"function"==typeof window.Galleria)return!0;var a=document.createElement("script"),b=_agm.root_url+"/js/external/galleria/galleria-1.2.2.min.js";a.type="text/javascript",a.src=b,document.body.appendChild(a)},j=function(){if(window.Galleria&&"function"==typeof window.Galleria){if(window.Galleria&&window.Galleria.theme)return!0;var a=document.createElement("script"),b=_agm.root_url+"/js/external/galleria/themes/classic/galleria.classic.min.js";a.type="text/javascript",a.src=b,document.body.appendChild(a),l()}else window.setTimeout(j,300)},k=function(){f.length?j():window.setTimeout(k,1e3)},l=function(){if(window.Galleria&&window.Galleria.theme&&"function"==typeof window.Galleria&&"function"==typeof jQuery("#"+e+" div.agm_panoramio_image_list_container").galleria){n();var a=g?g:200;jQuery("#"+e+" div.agm_panoramio_image_list_container").galleria({width:b.width(),height:a})}else window.setTimeout(l,300)},m=function(){return'<div class="agm_panoramio_container" id="'+e+'"></div>'},n=function(){if(!jQuery("#"+e).length)return!1;var a='<div class="agm_panoramio_image_list_container"><ul class="agm_panoramio_image_list">',b=0;jQuery.each(f,function(c,d){var e=parseInt(d.height,10);g=e>g?e:g,a+='<li><img src="'+d.photo_file_url+'" title="'+d.photo_title+'" /></li>',b+=d.width}),a+="</ul></div>",jQuery("#"+e).html(a)},o=function(){h(),i(),k()};return o(),{createMarkup:m}};a();var c=function(){var a=function(a){a.preventDefault(),a.stopPropagation();for(var b,c,d,e=jQuery(this).attr("id")+"-container",f=jQuery("body"),g=jQuery("html"),h=jQuery("#"+e),i=jQuery('<div class="agm-modal-back"></div>').appendTo(f),j=f.css("overflow"),k=g.css("overflow"),l=h.data("width"),m=h.data("height"),n=h.find(".agm_google_maps"),o="#"+n.attr("id"),p=_agmMaps.length-1;p>=0;p--)if(_agmMaps[p].selector===o){d=_agmMaps[p];break}if(h.show(),i.show(),l.toString().length&&!isNaN(l)||(l=d.data.defaults.width),m.toString().length&&!isNaN(m)||(m=d.data.defaults.height),l.toString().length&&!isNaN(l)&&(b=l/2*-1,h.css({width:l,"margin-left":b})),m.toString().length&&!isNaN(m)){if(m=parseInt(m),parseInt(d.data.show_markers)){var q=jQuery("#agm_mh_footer",h),r=2;d.data.markers.length>2&&(r=d.data.markers.length<5?d.data.markers.length:5),q.css({top:m,bottom:0}),m+=68*r}c=m/2*-1,h.css({height:m,"margin-top":c})}return f.css("overflow","hidden"),g.css("overflow","hidden"),h.one("agm:close",function(){f.css("overflow",j),g.css("overflow",k),h.hide(),i.remove()}),i.click(function(){h.trigger("agm:close")}),!1};jQuery("body").on("click",".agm-map-popup",a)};c()});