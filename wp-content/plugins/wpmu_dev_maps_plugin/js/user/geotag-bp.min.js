/*! Google Maps Pro - v2.9.5
 * http://premium.wpmudev.org/project/wordpress-google-maps-plugin
 * Copyright (c) 2018; * Licensed GPLv2+ */
jQuery(function(){function a(){var a=parseFloat(jQuery("#agm-latitude").val()),c=parseFloat(jQuery("#agm-longitude").val()),d=jQuery("#agm-gwa-bp_map_editor"),e=jQuery("#agm-gwa-bp_map_editor-map"),f=new window.google.maps.LatLng(a,c),g=parseInt(jQuery(window).height()/3,10);d.length||(jQuery("body").append('<div id="agm-gwa-bp_map_editor" style="display:none"><div id="agm-gwa-bp_map_editor-map" style="width:100%; height:'+g+'px" ></div></div>'),d=jQuery("#agm-gwa-bp_map_editor"),e=jQuery("#agm-gwa-bp_map_editor-map")),window.tb_show("Edit Location","#TB_inline?width=640&height="+g+"&inlineId=agm-gwa-bp_map_editor");var h=new window.google.maps.Map(e.get(0),{zoom:12,minZoom:1,center:f,mapTypeId:window.google.maps.MapTypeId.ROADMAP}),i=new window.google.maps.Marker({title:"Me",map:h,icon:_agm.root_url+"/img/system/marker.png",draggable:!0,clickable:!1,position:f});return window.google.maps.event.addListener(i,"dragend",function(){var a=i.getPosition();jQuery("#agm-latitude").val(a.lat()),jQuery("#agm-longitude").val(a.lng()),b(a.lat(),a.lng())}),!1}function b(a,b){if(void 0===window.google)return!1;var d=new window.google.maps.Geocoder;d.geocode({latLng:new window.google.maps.LatLng(a,b)},function(a,b){return b===window.google.maps.GeocoderStatus.OK&&void c(a[0].formatted_address)})}function c(b){var c=jQuery("#agm-gwp-location_root"),d=c.find('label[for="agm-address"]'),e=c.find("#agm-gwp-formatted_address");new window.google.maps.Geocoder;e.length||(d.after('<a href="#change-address" id="agm-gwp-formatted_address" />'),e=c.find("#agm-gwp-formatted_address"),e.unbind("click").bind("click",a)),e.text(b)}function d(a,c){var d=jQuery("#agm-gwp-location_root"),e=d.find('label[for="agm-address"]');jQuery("#agm-latitude").val(a),jQuery("#agm-longitude").val(c),e.hide(),b(a,c)}function e(){var a=parseFloat(jQuery("#agm-latitude").val()),b=parseFloat(jQuery("#agm-longitude").val());if(a&&b)return d(a,b);if(navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(a){d(a.coords.latitude,a.coords.longitude)}),jQuery.ajaxSetup({beforeSend:function(a,b){if(!b.data.match(/\baction=post_update\b/)&&!b.data.match(/\baction=bpfb_update_activity_contents\b/))return!0;var c=parseFloat(jQuery("#agm-latitude").val()),d=parseFloat(jQuery("#agm-longitude").val()),e=jQuery("#agm-address").val(),f=c&&d?"&agm-latitude="+c+"&agm-longitude="+d:"&agm-address="+encodeURIComponent(e);b.data+=f}}),jQuery("#whats-new-options").length){jQuery("body").append(jQuery("<div id='agm-bp-height_test' />").append(jQuery("#whats-new-options").html()));var c=jQuery("#agm-bp-height_test").height();jQuery("#agm-bp-height_test").remove();var e=window.setInterval(function(){var a=jQuery('#whats-new-options[style*="height"]');return!!a.length&&(!(a.height()<=39)&&(a.height()>c?(window.clearInterval(e),!1):void a.height(c)))},500)}}function f(){(jQuery("#_wpnonce_post_update").length||jQuery("#whats-new-post-object").length)&&e()}f()}),jQuery(document).bind("agm_google_maps-user-adding_marker",function(a,b,c,d,e){return void 0!==e&&("disposition"in e&&("activity_marker"===e.disposition&&void(b._agm_disposition="activity_type")))});