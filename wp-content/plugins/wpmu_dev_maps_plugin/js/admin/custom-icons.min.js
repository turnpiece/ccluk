/*! Google Maps - v2.9.3
 * http://premium.wpmudev.org/project/wordpress-google-maps-plugin
 * Copyright (c) 2017; * Licensed GPLv2+ */
window.setTimeout(function(){var a=jQuery(window),b=jQuery("table.icons"),c=jQuery(".custom-icon-list"),d=jQuery(".add-custom-icon"),e=jQuery(".add-media-image"),f=jQuery(".custom-icon-url"),g=jQuery(".custom-icon-preview"),h=[],i=function(){var b,d=c.val();try{h=jQuery.parseJSON(d)}catch(e){}for(null!==h&&"object"==typeof h||(h=[]),b=0;b<h.length;b+=1)p(h[b]);a.resize()},j=function(){c.val(JSON.stringify(h))},k=function(a){if(f.val()!==f.data("last")){r(),f.data("last",f.val());var b=f.val();g.attr("src",b)}},l=function(a){s()},m=function(a){var b=f.val();f.val(""),f.data("last",""),r(),n(b)},n=function(b){var c;if(!(b||"").length)return!1;if(!b.match(/^https?:\/\//))return!1;for(c=0;c<h.length;c+=1)if(b===h[c])return!1;p(b),h.push(b),j(),a.resize()},o=function(){jQuery("tr.alternate",b).removeClass("alternate"),jQuery("tr:nth-child(even)",b).addClass("alternate")},p=function(a){var c,d,e,f,g,h=jQuery("<tr></tr>").appendTo(b);g=jQuery('<img style="position: absolute;left:-9999999px;top:-99999999px" />'),c=jQuery('<td style="text-align:center"><img src="" class="marker-icon-32" /></td>'),d=jQuery('<td class="url">'+a+"</td>"),e=jQuery("<td>...</td>"),f=jQuery('<td><button type="button" class="button remove">Remove</button></td></tr>'),c.appendTo(h),d.appendTo(h),e.appendTo(h),f.appendTo(h);var i=function(a){e.text(g.width()+" x "+g.height()),g.remove()};g.load(i).attr("src",a).appendTo(jQuery("body")),jQuery("img",c).attr("src",a),o()},q=function(b){var c,d=jQuery(this),e=d.parents("tr").first(),f=e.find(".url").text();for(c=h.length-1;c>=0;c-=1)if(f===h[c]){h.splice(c,1);break}e.remove(),o(),j(),a.resize()},r=function(a){g.hide(),d.addClass("disabled").prop("disabled",!0),d.text(d.data("disabled"))},s=function(a){g.show(),d.removeClass("disabled").prop("disabled",!1),d.text(d.data("enabled"))},t=function(a){var b=window.wp.media({title:"Choose an image",multiple:!1,library:{type:"image"},button:{text:"Use icon"}});b.on("close",function(){var a=b.state().get("selection").first(),c=(a||{}).toJSON?a.toJSON():{},d=c.url;n(d)}),b.open()};b.on("click",".remove",q),d.click(m),e.click(t),f.keyup(k),f.change(k),g.load(l),i(),r()},50);