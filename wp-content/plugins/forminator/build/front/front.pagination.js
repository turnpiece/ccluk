!function(t,i,n,a){"use strict";function o(n,a){this.element=t(n),this.$el=this.element,this.totalSteps=0,this.step=0,this.hashStep=!1,this.next_button=i.ForminatorFront.cform.pagination_next,this.prev_button=i.ForminatorFront.cform.pagination_prev,this.form_id=0,this.settings=t.extend({},e,a),this._defaults=e,this._name=s,this.init()}var s="forminatorFrontPagination",e={totalSteps:0,step:0,hashStep:0,inline_validation:!1};t.extend(o.prototype,{init:function(){this.$el.find("input[name=form_id]").length>0&&(this.form_id=this.$el.find("input[name=form_id]").val()),this.form_id&&"object"==typeof i.Forminator_Cform_Paginations&&"object"==typeof i.Forminator_Cform_Paginations[this.form_id]&&(i.Forminator_Cform_Paginations[this.form_id]["pagination-footer-button"]&&(this.prev_button=i.Forminator_Cform_Paginations[this.form_id]["pagination-footer-button-text"]),i.Forminator_Cform_Paginations[this.form_id]["pagination-right-button"]&&(this.next_button=i.Forminator_Cform_Paginations[this.form_id]["pagination-right-button-text"])),this.totalSteps=this.settings.totalSteps,this.step=this.settings.step,this.settings.hashStep&&this.step>0?this.go_to(this.step):this.go_to(0),this.render_navigation(),this.render_bar_navigation(),this.render_footer_navigation(),this.init_events(),this.update_buttons(),this.update_navigation()},init_events:function(){var t=this;this.$el.find(".forminator-pagination-prev").click(function(i){i.preventDefault(),t.handle_click("prev")}),this.$el.find(".forminator-pagination-next").click(function(i){i.preventDefault(),t.handle_click("next")}),this.$el.on("reset",function(i){t.on_form_reset(i)}),this.$el.on("forminator.front.pagination.focus.input",function(i,n){t.on_focus_input(i,n)})},on_form_reset:function(t){this.go_to(0),this.update_buttons()},on_focus_input:function(t,i){var n=this.get_page_of_input(i);this.go_to(n),this.update_buttons()},render_footer_navigation:function(){this.$el.hasClass("forminator-design--material")?this.$el.append('<div class="forminator-pagination--footer"><button class="forminator-button forminator-pagination-prev"><span class="forminator-button--mask" aria-label="hidden"></span><span class="forminator-button--text">'+this.prev_button+'</span></button><button class="forminator-button forminator-pagination-next"><span class="forminator-button--mask" aria-label="hidden"></span><span class="forminator-button--text">'+this.next_button+"</span></button></div>"):this.$el.append('<div class="forminator-pagination--footer"><button class="forminator-button forminator-pagination-prev">'+this.prev_button+'</button><button class="forminator-button forminator-pagination-next">'+this.next_button+"</button></div>")},render_bar_navigation:function(){var t=this.$el.find(".forminator-pagination--bar");t.length&&(t.html('<div class="forminator-bar--text">0%</div><div class="forminator-bar--progress"><span style="width: 0%"></span></div><div class="forminator-bar--text">100%</div>'),this.calculate_bar_percentage())},calculate_bar_percentage:function(){var t=this.totalSteps,i=this.step,n=this.$el;if(n.length){var a=Math.round(i/t*100);n.find(".forminator-bar--progress span").css("width",a+"%")}},render_navigation:function(){var i=this.$el.find(".forminator-pagination--nav");if(i.length){var n=this.$el.find(".forminator-pagination").not(".forminator-pagination-start"),a=this.$el.find(".forminator-pagination-start");this.$el.hasClass("forminator-design--material")?(n.each(function(){var n=t(this),a=n.data("label"),o=n.data("step")-1;i.append('<li class="forminator-nav-step forminator-nav-step-'+o+'"><span class="forminator-step-text">'+a+"</span></li>")}),a.each(function(){var a=t(this),o=a.data("label"),s=n.length;i.append('<li class="forminator-nav-step forminator-nav-step-'+s+'"><span class="forminator-step-text">'+o+"</span></li>")})):(n.each(function(){var n=t(this),a=n.data("label"),o=n.data("step")-1;i.append('<li class="forminator-nav-step forminator-nav-step-'+o+'"><span class="forminator-step-text">'+a+'</span><span class="forminator-step-dot" aria-label="hidden"></span></li>')}),a.each(function(){var a=t(this),o=a.data("label"),s=n.length;i.append('<li class="forminator-nav-step forminator-nav-step-'+s+'"><span class="forminator-step-text">'+o+'</span><span class="forminator-step-dot" aria-label="hidden"></span></li>')}))}},handle_click:function(t){if("prev"===t&&0!==this.step)this.go_to(this.step-1);else if("next"===t){if(this.settings.inline_validation&&!this.is_step_inputs_valid())return;this.go_to(this.step+1)}this.update_buttons()},is_step_inputs_valid:function(){var t=!0,i=0,n=this.$el.data("validator"),a=this.$el.find("[data-step="+this.step+"]");return void 0===n||(a.find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(":hidden:not(.forminator-wp-editor-required, .forminator-input-file-required)").not('[gramm="true"]').each(function(a,o){(t=n.element(o))||(0===i&&o.focus(),i++)}),0===i)},get_page_of_input:function(i){var n=this.step,a=t(i).closest(".forminator-pagination");if(a.length>0){var o=t(a).data("step");void 0!==o&&(n=+o)}return n},update_buttons:function(){if(0===this.step?this.$el.find(".forminator-pagination-prev").attr("disabled",!0):this.$el.find(".forminator-pagination-prev").removeAttr("disabled"),this.step===this.totalSteps&&(this.step--,this.$el.submit()),this.step===this.totalSteps-1){var t=this.$el.find(".forminator-pagination-submit").html();this.$el.hasClass("forminator-design--material")?this.$el.find(".forminator-pagination-next .forminator-button--text").html(t):this.$el.find(".forminator-pagination-next").html(t)}else this.$el.find(".forminator-pagination-next .forminator-button--text").html(this.next_button)},go_to:function(t){if(this.step=t,t===this.totalSteps)return!1;this.$el.find(".forminator-pagination").hide(),this.$el.find("[data-step="+t+"]").show();var i=this.$el.data("forminatorFront");void 0!==i&&i.responsive_captcha(),this.update_navigation()},update_navigation:function(){this.$el.find(".forminator-step-current").removeClass("forminator-step-current"),this.$el.find(".forminator-nav-step-"+this.step).addClass("forminator-step-current"),this.calculate_bar_percentage()}}),t.fn[s]=function(i){return this.each(function(){t.data(this,s)||t.data(this,s,new o(this,i))})}}(jQuery,window,document);