!function(t){formintorjs.define(["admin/addons/view"],function(n){var e=Backbone.View.extend({el:".sui-wrap",currentTab:"forminator-integrations",events:{"change .forminator-addon-toggle-enabled":"toggle_state","click .connect-integration":"connect_integration","click .forminator-integrations-wrapper .sui-vertical-tab a":"go_to_tab","change .forminator-integrations-wrapper .sui-sidenav-hide-lg select":"go_to_tab"},initialize:function(t){return this.listenTo(Forminator.Events,"forminator:addons:reload",this.render_addons_page),this.render()},render:function(){this.render_addons_page(),this.update_tab()},render_addons_page:function(){var n=this,e={};this.$el.find("#forminator-integrations-display").html('<div class="sui-notice sui-notice-sm sui-notice-loading"><p>Fetching integration listâ€¦</p></div>'),e.action="forminator_addon_get_addons",e._ajax_nonce=Forminator.Data.addonNonce,e.data={},t.post({url:Forminator.Data.ajaxUrl,type:"post",data:e}).done(function(t){t&&t.success&&n.$el.find("#forminator-integrations-page").html(t.data.data)}).always(function(){n.$el.find(".sui-notice-loading").remove()})},connect_integration:function(e){e.preventDefault();var a=t(e.target);a.hasClass("connect-integration")||(a=a.closest(".connect-integration"));var i=a.data("nonce"),o=a.data("slug"),r=a.data("title"),s=a.data("image"),d=a.data("imagex2"),c=a.data("action"),l=a.data("form-id"),u=a.data("multi-id");Forminator.Integrations_Popup.open(function(){new n({slug:o,nonce:i,action:c,form_id:l,multi_id:u,el:t(this)})},{title:r,image:s,image_x2:d})},go_to_tab:function(n){n.preventDefault();var e=t(n.target),a=e.attr("href"),i="";if(_.isUndefined(a)){i=e.val()}else i=a.replace("#","",a);_.isEmpty(i)||(this.currentTab=i),this.update_tab(),n.stopPropagation()},update_tab_select:function(){this.$el.find(".sui-sidenav-hide-lg select").val(this.currentTab),this.$el.find(".sui-sidenav-hide-lg select").trigger("sui:change")},update_tab:function(){this.clear_tabs(),this.$el.find("[data-tab-id="+this.currentTab+"]").addClass("current"),this.$el.find(".wpmudev-settings--box#"+this.currentTab).show()},clear_tabs:function(){this.$el.find(".sui-vertical-tab ").removeClass("current"),this.$el.find(".wpmudev-settings--box").hide()}});jQuery(document).ready(function(){new e})})}(jQuery);