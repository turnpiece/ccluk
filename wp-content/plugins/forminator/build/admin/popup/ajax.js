!function(a){formintorjs.define(["text!tpl/dashboard.html"],function(t){return Backbone.View.extend({className:"sui-box-body",events:{"click .wpmudev-action-done":"save","click .wpmudev-button-clear-exports":"clear_exports","click .forminator-radio--field":"show_poll_custom_input"},initialize:function(a){return a=_.extend({action:"",nonce:"",data:"",id:"",enable_loader:!0},a),this.action=a.action,this.nonce=a.nonce,this.data=a.data,this.id=a.id,this.enable_loader=a.enable_loader,this.render()},render:function(){var t=this,i={};if(i.action="forminator_load_"+this.action+"_popup",i._ajax_nonce=this.nonce,i.data=this.data,this.id&&(i.id=this.id),this.enable_loader){var o="";"sui-box-body"!==this.className&&(o+='<div class="sui-box-body">'),o+='<p class="fui-loading-dialog" aria-label="Loading content"><i class="sui-icon-loader sui-loading" aria-hidden="true"></i></p>',"sui-box-body"!==this.className&&(o+="</div>"),t.$el.html(o)}a.post({url:Forminator.Data.ajaxUrl,type:"post",data:i}).done(function(a){if(a&&a.success){t.$el.html(a.data),t.$el.find(".wpmudev-hidden-popup").show(400),Forminator.Utils.sui_delegate_events();var i=t.$el.find(".forminator-custom-form");i.length>0&&Forminator.Pagination.init(i),t.delegateEvents()}}).always(function(){t.$el.find(".fui-loading-dialog").remove()})},save:function(t){t.preventDefault();var i={},o=a(t.target).data("nonce");i.action="forminator_save_"+this.action+"_popup",i._ajax_nonce=o,a(".wpmudev-popup-form input, .wpmudev-popup-form select").each(function(){var t=a(this);i[t.attr("name")]=t.val()}),a.ajax({url:Forminator.Data.ajaxUrl,type:"POST",data:i,success:function(a){Forminator.Popup.close(!1,function(){window.location.reload()})}})},clear_exports:function(t){t.preventDefault();var i={},o=this,n=a(t.target).data("nonce"),e=a(t.target).data("form-id");i.action="forminator_clear_"+this.action+"_popup",i._ajax_nonce=n,i.id=e,a.ajax({url:Forminator.Data.ajaxUrl,type:"POST",data:i,success:function(){o.render()}})},show_poll_custom_input:function(t){var i=this,o=this.$el.find(".forminator-input"),n=t.target.checked,e=a(t.target).attr("id");if(o.hide(),i.$el.find(".forminator-input#"+e+"-extra").length){var r=i.$el.find(".forminator-input#"+e+"-extra");n?r.show():r.hide()}}})})}(jQuery);