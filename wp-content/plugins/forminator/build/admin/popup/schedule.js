!function(e){formintorjs.define(["text!tpl/dashboard.html"],function(t){return Backbone.View.extend({popupTpl:Forminator.Utils.template(e(t).find("#forminator-exports-schedule-popup-tpl").html()),events:{'change select[name="interval"]':"on_change_interval","change .sui-toggle input":"on_change","click .sui-toggle-label":"click_label"},render:function(){this.$el.html(this.popupTpl({})),Forminator.Utils.sui_delegate_events();var e=forminator_l10n.exporter;this.$el.find('input[name="enabled"]').prop("checked",e.enabled),e.enabled?this.$el.find('input[name="email"]').prop("required",!0):this.$el.find(".fui-toggle-content").hide(),this.$el.find('select[name="interval"]').change(),null!==e.email&&(this.$el.find('select[name="interval"]').val(e.interval),this.$el.find('select[name="day"]').val(e.day),this.$el.find('select[name="month_day"]').val(e.month_day?e.month_day:1),this.$el.find('select[name="hour"]').val(e.hour),"weekly"===e.interval?this.$el.find('select[name="day"]').closest(".sui-form-field").show():"monthly"===e.interval&&this.$el.find('select[name="month_day"]').closest(".sui-form-field").show())},on_change_interval:function(e){this.$el.find('select[name="day"]').closest(".sui-form-field").hide(),this.$el.find('select[name="month_day"]').closest(".sui-form-field").hide(),"weekly"===e.target.value?(this.$el.find('select[name="month-day"]').closest(".sui-form-field").hide(),this.$el.find('select[name="day"]').closest(".sui-form-field").show()):"monthly"===e.target.value&&(this.$el.find('select[name="month_day"]').closest(".sui-form-field").show(),this.$el.find('select[name="day"]').closest(".sui-form-field").hide())},click_label:function(e){e.preventDefault(),this.$el.find(".sui-toggle input").click()},get_value:function(){var e=this.$el.find(":checkbox"),t=e.val();return e.is(":checked")&&t?t:""},on_change:function(){this.trigger("changed",this.get_value()),this.$el.find(".fui-toggle-content").toggle(),this.$el.find('input[name="email"]').prop("required","true"===this.get_value())}})})}(jQuery);