!function(e){window.empty=function(e){return void 0===e||!e},window.count=function(e){return void 0===e?0:e&&e.length?e.length:0},window.stripslashes=function(e){return(e+"").replace(/\\(.?)/g,function(e,t){switch(t){case"\\":return"\\";case"0":return"\0";case"":return"";default:return t}})},window.forminator_array_value_exists=function(e,t){return!_.isUndefined(e[t])&&!_.isEmpty(e[t])},window.decodeHtmlEntity=function(e){return void 0===e?e:e.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(t)})},window.encodeHtmlEntity=function(e){if(void 0===e)return e;for(var t=[],i=e.length-1;i>=0;i--)t.unshift(["&#",e[i].charCodeAt(),";"].join(""));return t.join("")},formintorjs.define([],function(){return{Utils:{fields_ids:[],is_touch:function(){return Forminator.Data.is_touch},is_mobile_size:function(){return window.screen.width<=782},is_mobile:function(){return!(!Forminator.Utils.is_touch()&&!Forminator.Utils.is_mobile_size())},model_to_json:function(e){if(!e)return{};var t=e&&e.toJSON?e.toJSON():e,i=JSON.stringify(t);return JSON.parse(i)},template:function(e){return _.templateSettings={evaluate:/\{\[([\s\S]+?)\]\}/g,interpolate:/\{\{([\s\S]+?)\}\}/g},_.template(e)},template_php:function(e){var t=_.templateSettings,i=!1;return _.templateSettings={interpolate:/<\?php echo (.+?) \?>/g,evaluate:/<\?php (.+?) \?>/g},i=_.template(e),_.templateSettings=t,function(e){return _.each(e,function(t,i){e["$"+i]=t}),i(e)}},get_unique_id:function(e){return(e||"field")+"-"+(new Date).getTime()+"-"+Math.floor(999*Math.random()+1e3)},is_randomed_field_id:function(e){return!!e.match(/field-\d+-\d+(-[A-Za-z-_]+)?/)},get_increment_field_id:function(e){var t=e.get("type");t.replace(" ","_"),t=t.toLowerCase();var i=1;if(_.isUndefined(this.fields_ids[t]))this.fields_ids[t]=[];else{i=_.max(this.fields_ids[t])+1}return this.fields_ids[t].push(i),t+"-"+i},is_field_id_exist:function(e,t){return t=+t,!_.isUndefined(this.fields_ids[e])&&-1!==_.indexOf(this.fields_ids[e],t,!0)},set_increment_field_id:function(e,t){return t=+t,e.replace(" ","_"),e=e.toLowerCase(),_.isUndefined(this.fields_ids[e])&&(this.fields_ids[e]=[]),this.fields_ids[e].push(t),e+"-"+t},has_pagination:function(e){var t=!1;return e.each(function(e){e.get("fields").each(function(e){"pagination"===e.get("type")&&(t=!0)})}),t},ensure_max_of_type_field:function(e,t,i,n){var a=0;if(n=n||null,n&&n.get("type")===t&&a++,e.each(function(e){e.get("fields").each(function(e){e.get("type")===t&&a++})}),a>i){var s=this.template("This form can only have {{ max }} {{ type }} field to be exists, please remove {{ diff }} others {{ type }} field from this form.");return n&&(s=this.template("This form can only have {{ max }} {{ type }} field to be exists.")),alert(s({max:i,type:Forminator.Utils.ucfirst(t),diff:a-i})),!1}return!0},get_fields_models:function(e,t){var i=[];return _.isUndefined(t)&&(t=[]),e.each(function(e){e.get("fields").each(function(e){_.contains(t,e.cid)||i.push(e)})}),i},get_fields:function(e,t){var i=[];return _.isUndefined(t)&&(t=["pagination","postdata","total","upload","product","captcha"]),e.each(function(e){e.get("fields").each(function(e){if(!_.contains(t,e.get("type"))){var n;_.isUndefined(e.get("field_label"))||_.isEmpty(e.get("field_label"))?(n=e.get("type"),n=Forminator.Utils.ucfirst(n)):n=e.get("field_label"),"name"===e.get("type")?i=i.concat(Forminator.Utils.get_name_fields(e,n)):"address"===e.get("type")?i=i.concat(Forminator.Utils.get_address_fields(e,n)):"time"===e.get("type")?i=i.concat(Forminator.Utils.get_time_fields(e,n)):i.push({element_id:e.get("element_id"),required:e.get("required"),label:n,values:Forminator.Utils.get_field_values(e),hasOptions:Forminator.Utils.field_has_options(e),isNumber:Forminator.Utils.field_has_number(e)})}})}),i},ucfirst:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},get_name_fields:function(e,t){var i=[];return"true"===e.get("multiple_name")?_.each([{attr:"prefix",label:"prefix_label",element_suffix:"prefix",hasOptions:!0,values:[{label:"Mr.",value:"Mr"},{label:"Mrs.",value:"Mrs"},{label:"Ms.",value:"Ms"},{label:"Miss",value:"Miss"},{label:"Dr.",value:"Dr"},{label:"Prof.",value:"Prof"}],isNumber:!1},{attr:"fname",label:"fname_label",element_suffix:"first-name",hasOptions:!1,values:!1,isNumber:!1},{attr:"mname",label:"mname_label",element_suffix:"middle-name",hasOptions:!1,values:!1,isNumber:!1},{attr:"lname",label:"lname_label",element_suffix:"last-name",hasOptions:!1,values:!1,isNumber:!1}],function(n){if("true"===e.get(n.attr)){var a;a=_.isUndefined(e.get(n.label))||_.isEmpty(e.get(n.label))?t+" - "+Forminator.l10n.name[n.label]:t+" - "+e.get(n.label),i.push({element_id:e.get("element_id")+"-"+n.element_suffix,required:e.get("required"),label:a,values:n.values,hasOptions:n.hasOptions,isNumber:n.isNumber})}}):i.push({element_id:e.get("element_id"),required:e.get("required"),label:t,values:Forminator.Utils.get_field_values(e),hasOptions:Forminator.Utils.field_has_options(e),isNumber:Forminator.Utils.field_has_number(e)}),i},get_address_fields:function(e,t){var i=[];return _.each([{attr:"street_address",label:"street_address_label",element_suffix:"street_address",hasOptions:!1,values:!1,isNumber:!1},{attr:"address_line",label:"address_line_label",element_suffix:"address_line",hasOptions:!1,values:!1,isNumber:!1},{attr:"address_city",label:"address_city_label",element_suffix:"city",hasOptions:!1,values:!1,isNumber:!1},{attr:"address_state",label:"address_state_label",element_suffix:"state",hasOptions:!1,values:!1,isNumber:!1},{attr:"address_zip",label:"address_zip_label",element_suffix:"zip",hasOptions:!1,values:!1,isNumber:!1}],function(n){if("true"===e.get(n.attr)){var a;a=_.isUndefined(e.get(n.label))||_.isEmpty(e.get(n.label))?t+" - "+Forminator.l10n.address[n.label]:t+" - "+e.get(n.label),i.push({element_id:e.get("element_id")+"-"+n.element_suffix,required:e.get("required"),label:a,values:n.values,hasOptions:n.hasOptions,isNumber:n.isNumber})}}),i},get_time_fields:function(e,t){var i,n=[];i=_.isUndefined(e.get("hh_label"))||_.isEmpty(e.get("hh_label"))?t+" - "+Forminator.l10n.time.hh_label:t+" - "+e.get("hh_label");var a;return a=_.isUndefined(e.get("mm_label"))||_.isEmpty(e.get("mm_label"))?t+" - "+Forminator.l10n.time.mm_label:t+" - "+e.get("mm_label"),n.push({element_id:e.get("element_id")+"-hours",required:e.get("required"),label:i,values:!1,hasOptions:!1,isNumber:!0},{element_id:e.get("element_id")+"-minutes",required:e.get("required"),label:a,values:!1,hasOptions:!1,isNumber:!0}),"twelve"===e.get("time_type")&&n.push({element_id:e.get("element_id")+"-ampm",required:e.get("required"),label:t+"-AM/PM",values:[{label:"AM",value:"am"},{label:"PM",value:"pm"}],hasOptions:!0,isNumber:!1}),n},get_products:function(e){var t=[];return e.each(function(e){e.get("fields").each(function(e){if("product"===e.get("type")){var i;i=_.isUndefined(e.get("product_name"))||_.isEmpty(e.get("product_name"))?e.get("type"):e.get("product_name"),t.push({element_id:e.get("element_id"),label:i})}})}),t},field_has_options:function(e){return"select"===e.get("type")||"checkbox"===e.get("type")},field_has_number:function(e){return"number"===e.get("type")||"phone"===e.get("type")},get_field_values:function(e){var t=e.get("type");return("select"===t||"checkbox"===t)&&e.get("options")},get_slug:function(e){return e=e.replace(" ","-"),e=e.replace(/[^-a-zA-Z0-9]/,"")},sanitize_uri_string:function(e){var t=decodeURIComponent(e);return t=t.replace(/-/g," ")},get_url_param:function(e){for(var t=window.location.search.substring(1),i=t.split("&"),n=0;n<i.length;n++){var a=i[n].split("=");if(a[0]===e)return a[1]}return!1},is_email_wp:function(e){if(e.length<6)return!1;if(e.indexOf("@",1)<0)return!1;var t=e.split("@",2);if(!t[0].match(/^[a-zA-Z0-9!#$%&'*+\/=?^_`{|}~\.-]+$/))return!1;if(t[1].match(/\.{2,}/))return!1;var i=t[1],n=i.split(".");if(n.length<2)return!1;for(var a=n.length,s=0;s<a;s++)if(!n[s].match(/^[a-z0-9-]+$/i))return!1;return!0},forminator_select2_tags:function(e,t){t=_.defaults(t,{allowClear:!0}),e.find(".wpmudev-tags").wpmuiSelect(t)},append_select2:function(t,i){t.find(".wpmudev-select, .wpmudev-form-field--select").each(function(){var t=e(this).data("allow-search"),i={allowClear:!1,containerCssClass:"wpmudev-select2",dropdownCssClass:"wpmudev-select-dropdown"};1!==t&&(i.minimumResultsForSearch=1/0),e(this).wpmuiSelect(i)}),t.find(".wpmudev-option--select").wpmuiSelect({allowClear:!1,minimumResultsForSearch:1/0,containerCssClass:"wpmudev-option--select2",dropdownCssClass:"wpmudev-option--select2-dropdown"}),t.find(".forminator-select").wpmuiSelect({allowClear:!1,containerCssClass:"forminator-select2",dropdownCssClass:"forminator-dropdown"})},init_select2:function(){setTimeout(function(){e(".wpmudev-select, .wpmudev-form-field--select").each(function(){var t=e(this).data("allow-search"),i={allowClear:!1,containerCssClass:"wpmudev-select2",dropdownCssClass:"wpmudev-select-dropdown"};1!==t&&(i.minimumResultsForSearch=1/0),e(this).wpmuiSelect(i)}),e(".wpmudev-option--select").wpmuiSelect({allowClear:!1,minimumResultsForSearch:1/0,containerCssClass:"wpmudev-option--select2",dropdownCssClass:"wpmudev-option--select2-dropdown"}),e(".forminator-select").wpmuiSelect({allowClear:!1,containerCssClass:"forminator-select2",dropdownCssClass:"forminator-dropdown"})},10)}},Popup:{$popup:{},_deferred:{},initialize:function(){e("#forminator-popup").length?(this.$popup.remove(),this.initialize()):e("#wpmudev-main").append('<div id="forminator-popup" class="wpmudev-modal"><div class="wpmudev-modal-mask" aria-hidden="true"></div><div class="wpmudev-box"><div class="wpmudev-box-header"><div class="wpmudev-header--text"><h2 class="wpmudev-subtitle">'+this.title+'</h2></div><div class="wpmudev-header--action"><button id="forminator-popup-close" class="wpmudev-box--action"><span class="wpmudev-icon--close"></span></button></div></div><div class="wpmudev-box-section"></div></div></div>'),this.$popup=e("#forminator-popup"),this.$popup.find("#wpmudev-box-body").empty()},open:function(t,i,n){this.data=i,this.title="",void 0!==this.data&&void 0!==this.data.title&&(this.title=this.data.title),this.initialize();var a=this,s=this.$popup.find(".wpmudev-box"),o=function(){return a.close(),!1};return n&&this.$popup.addClass(n),this.$popup.find("#forminator-popup-close").on("click",o),this.$popup.addClass("wpmudev-modal-active"),e("body").addClass("wpmudev-modal-is_active"),setTimeout(function(){s.addClass("wpmudev-show")}),t.apply(this.$popup.find(".wpmudev-box-section").get(),i),this.$popup.find(".forminator-delete-module-cancel").on("click",o),this._deferred=new e.Deferred,this._deferred.promise()},close:function(t,i){var n=e("#forminator-popup"),a=n.find(".wpmudev-box");a.removeClass("wpmudev-show").addClass("wpmudev-hide"),setTimeout(function(){n.removeClass("wpmudev-modal-active"),e("body").removeClass("wpmudev-modal-is_active"),a.removeClass("wpmudev-hide"),i&&i.apply()},1e3),this._deferred.resolve(this.$popup,t)}},Notification:{$notification:{},_deferred:{},initialize:function(){e("#forminator-notification").length?(this.$notification.remove(),this.initialize()):e("#wpmudev-main").append('<div id="forminator-notification" class="wpmudev-notification"><label class="wpmudev-label--'+this.type+'"><span>'+this.text+"</span></label></div>"),this.$notification=e("#forminator-notification")},open:function(t,i,n){var a=this;return this.type=t||"notice",this.text=i,this.initialize(),setTimeout(function(){a.$notification.addClass("wpmudev-show")}),_.isUndefined(n)||setTimeout(function(){a.close()},n),this._deferred=new e.Deferred,this._deferred.promise()},close:function(t){e("#forminator-notification").removeClass("wpmudev-show").addClass("wpmudev-hide"),this._deferred.resolve(this.$popup,t)}},Pagination:{step:0,totalSteps:0,hasStep:!1,$el:!1,init:function(e){this.step=0,this.totalSteps=0,this.hasStep=!1,this.$el=e,this.totalSteps=this.$el.find(".forminator-pagination").length,this.totalSteps&&(this.hasStep&&this.step>0?e.find(".forminator-pagination").not("[data-step="+this.step+"]").hide():e.find(".forminator-pagination").not(".forminator-pagination-start").hide(),this.render_navigation(),this.render_footer_navigation(),this.init_events(),this.update_buttons(),this.update_navigation())},init_events:function(){var e=this;this.$el.find(".forminator-pagination-prev").click(function(t){t.preventDefault(),e.handle_click("prev")}),this.$el.find(".forminator-pagination-next").click(function(t){t.preventDefault(),e.handle_click("next")})},render_footer_navigation:function(){this.$el.append('<div class="forminator-pagination--footer"><button class="forminator-button forminator-pagination-prev"><span class="forminator-button--mask" aria-label="hidden"></span><span class="forminator-button--text">'+Forminator.l10n.appearance.pagination_prev+'</span></button><button class="forminator-button forminator-pagination-next"><span class="forminator-button--mask" aria-label="hidden"></span><span class="forminator-button--text">'+Forminator.l10n.appearance.pagination_next+"</span></button></div>")},render_navigation:function(){var t=this.$el.find(".forminator-pagination--nav");if(t.length){var i=this.$el.find(".forminator-pagination").not(".forminator-pagination-start");i.each(function(){var i=e(this),n=i.data("label"),a=i.data("step")-1;t.append('<li class="forminator-nav-step forminator-nav-step-'+a+'"><span class="forminator-step-text">'+n+'</span><span class="forminator-step-dot" aria-label="hidden"></span></li>')}),this.$el.find(".forminator-pagination-start").each(function(){var n=e(this),a=n.data("label"),s=i.length;t.append('<li class="forminator-nav-step forminator-nav-step-'+s+'"><span class="forminator-step-text">'+a+'</span><span class="forminator-step-dot" aria-label="hidden"></span></li>')})}},handle_click:function(e){"prev"===e&&0!==this.step?this.go_to(this.step-1):"next"===e&&this.go_to(this.step+1),this.update_buttons()},update_buttons:function(){if(0===this.step?this.$el.find(".forminator-pagination-prev").attr("disabled",!0):this.$el.find(".forminator-pagination-prev").removeAttr("disabled"),this.step===this.totalSteps&&this.step--,this.step===this.totalSteps-1){var e=this.$el.find(".forminator-pagination-submit").html();this.$el.find(".forminator-pagination-next .forminator-button--text").html(e)}else this.$el.find(".forminator-pagination-next .forminator-button--text").html(Forminator.l10n.appearance.pagination_next)},go_to:function(e){if(this.step=e,e===this.totalSteps)return!1;this.$el.find(".forminator-pagination").hide(),this.$el.find("[data-step="+e+"]").show(),this.update_navigation()},update_navigation:function(){this.$el.find(".forminator-step-current").removeClass("forminator-step-current"),this.$el.find(".forminator-nav-step-"+this.step).addClass("forminator-step-current")}}}})}(jQuery);