!function(t){window.empty=function(t){return void 0===t||!t},window.count=function(t){return void 0===t?0:t&&t.length?t.length:0},window.stripslashes=function(t){return(t+"").replace(/\\(.?)/g,function(t,e){switch(e){case"\\":return"\\";case"0":return"\0";case"":return"";default:return e}})},window.forminator_array_value_exists=function(t,e){return!_.isUndefined(t[e])&&!_.isEmpty(t[e])},window.decodeHtmlEntity=function(t){return void 0===t?t:t.replace(/&#(\d+);/g,function(t,e){return String.fromCharCode(e)})},window.encodeHtmlEntity=function(t){if(void 0===t)return t;for(var e=[],i=t.length-1;i>=0;i--)e.unshift(["&#",t[i].charCodeAt(),";"].join(""));return e.join("")},formintorjs.define(["text!admin/templates/popups.html"],function(e){var i={fields_ids:[],google_font_families:[],is_touch:function(){return Forminator.Data.is_touch},is_mobile_size:function(){return window.screen.width<=782},is_mobile:function(){return!(!Forminator.Utils.is_touch()&&!Forminator.Utils.is_mobile_size())},model_to_json:function(t){if(!t)return{};var e=t&&t.toJSON?t.toJSON():t,i=JSON.stringify(e);return JSON.parse(i)},template:function(t){return _.templateSettings={evaluate:/\{\[([\s\S]+?)\]\}/g,interpolate:/\{\{([\s\S]+?)\}\}/g},_.template(t)},template_php:function(t){var e=_.templateSettings,i=!1;return _.templateSettings={interpolate:/<\?php echo (.+?) \?>/g,evaluate:/<\?php (.+?) \?>/g},i=_.template(t),_.templateSettings=e,function(t){return _.each(t,function(e,i){t["$"+i]=e}),i(t)}},get_unique_id:function(t){return(t||"field")+"-"+(new Date).getTime()+"-"+Math.floor(999*Math.random()+1e3)},is_randomed_field_id:function(t){return!!t.match(/field-\d+-\d+(-[A-Za-z-_]+)?/)},get_increment_field_id:function(t){var e=t.get("type");e.replace(" ","_"),e=e.toLowerCase();var i=1;if(_.isUndefined(this.fields_ids[e]))this.fields_ids[e]=[];else{i=_.max(this.fields_ids[e])+1}return this.fields_ids[e].push(i),e+"-"+i},is_field_id_exist:function(t,e){return e=+e,!_.isUndefined(this.fields_ids[t])&&-1!==_.indexOf(this.fields_ids[t],e,!0)},set_increment_field_id:function(t,e){return e=+e,t.replace(" ","_"),t=t.toLowerCase(),_.isUndefined(this.fields_ids[t])&&(this.fields_ids[t]=[]),this.fields_ids[t].push(e),t+"-"+e},has_field_type:function(t,e){var i=!1;return t.each(function(t){t.get("fields").each(function(t){e===t.get("type")&&(i=!0)})}),i},has_field_with_attribute:function(t,e,i,n){var a=!1;return t.each(function(t){t.get("fields").each(function(t){e===t.get("type")&&n===t.get(i)&&(a=!0)})}),a},ensure_max_of_type_field:function(t,e,i,n){var a=0;if(n=n||null,n&&n.get("type")===e&&a++,t.each(function(t){t.get("fields").each(function(t){t.get("type")===e&&a++})}),a>i){var s=this.template("This form can only have {{ max }} {{ type }} field to be exists, please remove {{ diff }} others {{ type }} field from this form.");return n&&(s=this.template("This form can only have {{ max }} {{ type }} field to be exists.")),alert(s({max:i,type:Forminator.Utils.ucfirst(e),diff:a-i})),!1}return!0},get_fields_models:function(t,e){var i=[];return _.isUndefined(e)&&(e=[]),t.each(function(t){t.get("fields").each(function(t){_.contains(e,t.cid)||i.push(t)})}),i},get_fields:function(t,e){var i=[];return _.isUndefined(e)&&(e=["pagination","postdata","total","upload","product","captcha"]),t.each(function(t){t.get("fields").each(function(t){if(!_.contains(e,t.get("type"))){var n;_.isUndefined(t.get("field_label"))||_.isEmpty(t.get("field_label"))?(n=t.get("type"),n=Forminator.Utils.ucfirst(n)):n=t.get("field_label"),"name"===t.get("type")?i=i.concat(Forminator.Utils.get_name_fields(t,n)):"address"===t.get("type")?i=i.concat(Forminator.Utils.get_address_fields(t,n)):"time"===t.get("type")?i=i.concat(Forminator.Utils.get_time_fields(t,n)):i.push({element_id:t.get("element_id"),required:t.get("required"),field_type:t.get("type"),field_slug:t.get("type"),label:n,values:Forminator.Utils.get_field_values(t),hasOptions:Forminator.Utils.field_has_options(t),isNumber:Forminator.Utils.field_has_number(t)})}})}),i},ucfirst:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},get_name_fields:function(t,e){var i=[];return"true"===t.get("multiple_name")?_.each([{attr:"prefix",label:"prefix_label",element_suffix:"prefix",hasOptions:!0,values:[{label:"Mr.",value:"Mr"},{label:"Mrs.",value:"Mrs"},{label:"Ms.",value:"Ms"},{label:"Miss",value:"Miss"},{label:"Dr.",value:"Dr"},{label:"Prof.",value:"Prof"}],isNumber:!1},{attr:"fname",label:"fname_label",element_suffix:"first-name",hasOptions:!1,values:!1,isNumber:!1},{attr:"mname",label:"mname_label",element_suffix:"middle-name",hasOptions:!1,values:!1,isNumber:!1},{attr:"lname",label:"lname_label",element_suffix:"last-name",hasOptions:!1,values:!1,isNumber:!1}],function(n){if("true"===t.get(n.attr)){var a;a=_.isUndefined(t.get(n.label))||_.isEmpty(t.get(n.label))?e+" - "+Forminator.l10n.name[n.label]:e+" - "+t.get(n.label),i.push({element_id:t.get("element_id")+"-"+n.element_suffix,required:t.get("required"),field_type:t.get("type"),field_slug:t.get("type")+"-"+n.element_suffix,label:a,values:n.values,hasOptions:n.hasOptions,isNumber:n.isNumber})}}):i.push({element_id:t.get("element_id"),required:t.get("required"),field_type:t.get("type"),field_slug:t.get("type"),label:e,values:Forminator.Utils.get_field_values(t),hasOptions:Forminator.Utils.field_has_options(t),isNumber:Forminator.Utils.field_has_number(t)}),i},get_address_fields:function(t,e){var i=[];return _.each([{attr:"street_address",label:"street_address_label",element_suffix:"street_address",hasOptions:!1,values:!1,isNumber:!1},{attr:"address_line",label:"address_line_label",element_suffix:"address_line",hasOptions:!1,values:!1,isNumber:!1},{attr:"address_city",label:"address_city_label",element_suffix:"city",hasOptions:!1,values:!1,isNumber:!1},{attr:"address_state",label:"address_state_label",element_suffix:"state",hasOptions:!1,values:!1,isNumber:!1},{attr:"address_zip",label:"address_zip_label",element_suffix:"zip",hasOptions:!1,values:!1,isNumber:!1},{attr:"address_country",label:"address_country_label",element_suffix:"country",hasOptions:!1,values:!1,isNumber:!1}],function(n){if("true"===t.get(n.attr)){var a;a=_.isUndefined(t.get(n.label))||_.isEmpty(t.get(n.label))?e+" - "+Forminator.l10n.address[n.label]:e+" - "+t.get(n.label),i.push({element_id:t.get("element_id")+"-"+n.element_suffix,required:t.get("required"),field_type:t.get("type"),field_slug:t.get("type")+"-"+n.element_suffix,label:a,values:n.values,hasOptions:n.hasOptions,isNumber:n.isNumber})}}),i},get_time_fields:function(t,e){var i,n=[];i=_.isUndefined(t.get("hh_label"))||_.isEmpty(t.get("hh_label"))?e+" - "+Forminator.l10n.time.hh_label:e+" - "+t.get("hh_label");var a;return a=_.isUndefined(t.get("mm_label"))||_.isEmpty(t.get("mm_label"))?e+" - "+Forminator.l10n.time.mm_label:e+" - "+t.get("mm_label"),n.push({element_id:t.get("element_id")+"-hours",required:t.get("required"),field_type:t.get("type"),field_slug:t.get("type")+"-hours",label:i,values:!1,hasOptions:!1,isNumber:!0},{element_id:t.get("element_id")+"-minutes",required:t.get("required"),field_type:t.get("type"),field_slug:t.get("type")+"-minutes",label:a,values:!1,hasOptions:!1,isNumber:!0}),"twelve"===t.get("time_type")&&n.push({element_id:t.get("element_id")+"-ampm",required:t.get("required"),field_type:t.get("type"),field_slug:t.get("type")+"-ampm",label:e+"-AM/PM",values:[{label:"AM",value:"am"},{label:"PM",value:"pm"}],hasOptions:!0,isNumber:!1}),n},get_products:function(t){var e=[];return t.each(function(t){t.get("fields").each(function(t){if("product"===t.get("type")){var i;i=_.isUndefined(t.get("product_name"))||_.isEmpty(t.get("product_name"))?t.get("type"):t.get("product_name"),e.push({element_id:t.get("element_id"),label:i})}})}),e},field_has_options:function(t){return"select"===t.get("type")||"checkbox"===t.get("type")},field_has_number:function(t){return"number"===t.get("type")||"phone"===t.get("type")},get_field_values:function(t){var e=t.get("type");return("select"===e||"checkbox"===e)&&t.get("options")},get_field_autofill_providers:function(t){var e={},i=_.where(Forminator.Data.fields,{type:t});return i.length<0?{}:(i=i[0],_.isUndefined(i.autofill_settings)||(e=i.autofill_settings),e)},get_slug:function(t){return t=t.replace(" ","-"),t=t.replace(/[^-a-zA-Z0-9]/,"")},sanitize_uri_string:function(t){var e=decodeURIComponent(t);return e=e.replace(/-/g," ")},get_url_param:function(t){for(var e=window.location.search.substring(1),i=e.split("&"),n=0;n<i.length;n++){var a=i[n].split("=");if(a[0]===t)return a[1]}return!1},is_email_wp:function(t){if(t.length<6)return!1;if(t.indexOf("@",1)<0)return!1;var e=t.split("@",2);if(!e[0].match(/^[a-zA-Z0-9!#$%&'*+\/=?^_`{|}~\.-]+$/))return!1;if(e[1].match(/\.{2,}/))return!1;var i=e[1],n=i.split(".");if(n.length<2)return!1;for(var a=n.length,s=0;s<a;s++)if(!n[s].match(/^[a-z0-9-]+$/i))return!1;return!0},forminator_select2_tags:function(t,e){e=_.defaults(e,{allowClear:!0,dropdownCssClass:"sui-select-dropdown"}),t.find("select.sui-select.fui-multi-select").SUIselect2(e)},init_select2:function(){var t=this;"object"==typeof window.SUI&&setTimeout(function(){t.init_select_on_preview()},10)},init_select_on_preview:function(){t("select.forminator-select, select.forminator-time").each(function(){var e=t(this).parent(),i="";t(this).closest(".forminator-design--bold").length>0?i="bold":t(this).closest(".forminator-design--flat").length>0?i="flat":t(this).closest(".forminator-design--default").length>0?i="default":t(this).closest(".forminator-design--material").length>0&&(i="material"),t(this).hasClass("sui-styled")&&(t(this).removeClass("sui-styled"),t(e).replaceWith(t(this))),t(this).addClass(i),SUI.suiSelect(t(this))})},load_google_fonts:function(e){var i=this;t.ajax({url:Forminator.Data.ajaxUrl,type:"POST",data:{action:"forminator_load_google_fonts"}}).done(function(t){!0===t.success&&(i.google_font_families=t.data),e.apply(t,[i.google_font_families])})},sui_delegate_events:function(){var e=this;"object"==typeof window.SUI&&setTimeout(function(){SUI.suiAccordion(t(".sui-accordion")),SUI.suiTabs(t(".sui-tabs")),t("select").not(".sui-select").not(".forminator-select").not(".forminator-time").not(".fui-multi-select").each(function(){SUI.suiSelect(t(this))}),t("select.sui-select").not(".fui-multi-select").each(function(){t(this).SUIselect2({dropdownCssClass:"sui-select-dropdown"})}),SUI.loadCircleScore(t(".sui-circle-score")),SUI.showHidePassword(),e.init_select_on_preview()},50)}},n={$popup:{},_deferred:{},initialize:function(){var i=Forminator.Utils.template(t(e).find("#popup-tpl").html());t("#forminator-popup").length?(this.$popup.remove(),this.initialize()):t(".sui-wrap").append(i({})),this.$popup=t("#forminator-popup")},open:function(i,n,a){this.data=n,this.title="",this.action_text="",this.action_callback=!1,this.action_css_class="",this.has_custom_box=!1,this.has_footer=!0;var s=Forminator.Utils.template(t(e).find("#popup-header-tpl").html());_.isUndefined(this.data)||(_.isUndefined(this.data.title)||(this.title=this.data.title),_.isUndefined(this.data.has_footer)||(this.has_footer=this.data.has_footer),_.isUndefined(this.data.action_callback)||_.isUndefined(this.data.action_text)||(this.action_callback=this.data.action_callback,this.action_text=this.data.action_text,_.isUndefined(this.data.action_css_class)||(this.action_css_class=this.data.action_css_class)),_.isUndefined(this.data.has_custom_box)||(this.has_custom_box=this.data.has_custom_box)),this.initialize(),this.$popup.find(".sui-box").html(s({title:this.title}));var o=this,r=function(){return o.close(),!1};if(a&&this.$popup.addClass(a),this.has_custom_box)i.apply(this.$popup.find(".sui-box").get(),n);else{var l='<div class="sui-box-body"></div>';this.has_footer&&(l+='<div class="sui-box-footer"><button class="sui-button forminator-popup-cancel" data-a11y-dialog-hide="forminator-popup">'+Forminator.l10n.popup.cancel+"</button></div>"),this.$popup.find(".sui-box").append(l),i.apply(this.$popup.find(".sui-box-body").get(),n)}if(this.action_text&&this.action_callback){var p=this.action_callback;this.$popup.find(".sui-box-footer").append('<div class="sui-actions-right"><button class="forminator-popup-action sui-button '+this.action_css_class+'">'+this.action_text+"</button></div>"),this.$popup.find(".forminator-popup-action").on("click",function(){p&&p.apply(),o.close()})}else this.$popup.find(".forminator-popup-action").remove();return this.$popup.find(".sui-dialog-close").on("click",r),this.$popup.find(".sui-dialog-overlay").on("click",r),this.$popup.on("click",".forminator-popup-cancel",r),this.$popup.find(".sui-dialog-overlay").removeClass("sui-fade-out").addClass("sui-fade-in"),this.$popup.find(".sui-dialog-content").removeClass("sui-bounce-out").addClass("sui-bounce-in"),this.$popup.removeAttr("aria-hidden"),Forminator.Utils.sui_delegate_events(),this._deferred=new t.Deferred,this._deferred.promise()},close:function(e,i){var n=t("#forminator-popup");n.find(".sui-dialog-overlay").removeClass("sui-fade-in").addClass("sui-fade-out"),n.find(".sui-dialog-content").removeClass("sui-bounce-in").addClass("sui-bounce-out"),setTimeout(function(){n.attr("aria-hidden","true"),i&&i.apply()},300),this._deferred.resolve(this.$popup,e)}},a={$notification:{},_deferred:{},initialize:function(){t("#forminator-notification").length?(this.$notification.remove(),this.initialize()):t(".sui-wrap").append('<div id="forminator-notification" class="sui-notice-top sui-notice-'+this.type+' sui-can-dismiss"><div class="sui-notice-content"><p>'+this.text+'</p></div><span class="sui-notice-dismiss"><a role="button" href="#" aria-label="Dismiss" class="sui-icon-check"></a></span></div>'),this.$notification=t("#forminator-notification")},open:function(e,i,n){var a=this;return this.type=e||"notice",this.text=i,this.initialize(),t(".sui-notice-dismiss a").click(function(t){return t.preventDefault(),a.close(),!1}),_.isUndefined(n)||setTimeout(function(){a.close()},n),this._deferred=new t.Deferred,this._deferred.promise()},close:function(e){t("#forminator-notification").stop().slideUp("slow"),this._deferred.resolve(this.$popup,e)}},s={step:0,totalSteps:0,hasStep:!1,$el:!1,init:function(t){this.step=0,this.totalSteps=0,this.hasStep=!1,this.$el=t,this.totalSteps=this.$el.find(".forminator-pagination").length,this.totalSteps&&(this.hasStep&&this.step>0?t.find(".forminator-pagination").not("[data-step="+this.step+"]").hide():t.find(".forminator-pagination").not(".forminator-pagination-start").hide(),this.render_navigation(),this.render_footer_navigation(),this.render_bar_navigation(),this.init_events(),this.update_buttons(),this.update_navigation())},init_events:function(){var t=this;this.$el.find(".forminator-pagination-prev").click(function(e){e.preventDefault(),t.handle_click("prev")}),this.$el.find(".forminator-pagination-next").click(function(e){e.preventDefault(),t.handle_click("next")})},render_bar_navigation:function(){var t=this.$el.find(".forminator-pagination--bar");t.length&&(t.html('<div class="forminator-bar--text">0%</div><div class="forminator-bar--progress"><span style="width: 0%"></span></div><div class="forminator-bar--text">100%</div>'),this.calculate_bar_percentage())},calculate_bar_percentage:function(){var t=this.totalSteps,e=this.step,i=this.$el;if(i.length){var n=Math.round(e/t*100);i.find(".forminator-bar--progress span").css("width",n+"%")}},render_footer_navigation:function(){this.$el.hasClass("forminator-design--material")?this.$el.append('<div class="forminator-pagination--footer"><button class="forminator-button forminator-pagination-prev"><span class="forminator-button--mask" aria-label="hidden"></span><span class="forminator-button--text">'+Forminator.l10n.appearance.pagination_prev+'</span></button><button class="forminator-button forminator-pagination-next"><span class="forminator-button--mask" aria-label="hidden"></span><span class="forminator-button--text">'+Forminator.l10n.appearance.pagination_next+"</span></button></div>"):this.$el.append('<div class="forminator-pagination--footer"><button class="forminator-button forminator-pagination-prev">'+Forminator.l10n.appearance.pagination_prev+'</button><button class="forminator-button forminator-pagination-next">'+Forminator.l10n.appearance.pagination_next+"</button></div>")},render_navigation:function(){var e=this.$el.find(".forminator-pagination--nav");if(e.length){var i=this.$el.find(".forminator-pagination").not(".forminator-pagination-start");i.each(function(){var i=t(this),n=i.data("label"),a=i.data("step")-1;this.$el.hasClass("forminator-design--material")?e.append('<li class="forminator-nav-step forminator-nav-step-'+a+'"><span class="forminator-step-text">'+n+'</span><span class="forminator-step-dot" aria-label="hidden"></span></li>'):e.append('<li class="forminator-nav-step forminator-nav-step-'+a+'"><span class="forminator-step-text">'+n+"</span></li>")});this.$el.find(".forminator-pagination-start").each(function(){var n=t(this),a=n.data("label"),s=i.length;this.$el.hasClass("forminator-design--material")?e.append('<li class="forminator-nav-step forminator-nav-step-'+s+'"><span class="forminator-step-text">'+a+'</span><span class="forminator-step-dot" aria-label="hidden"></span></li>'):e.append('<li class="forminator-nav-step forminator-nav-step-'+s+'"><span class="forminator-step-text">'+a+"</span></li>")})}},handle_click:function(t){"prev"===t&&0!==this.step?this.go_to(this.step-1):"next"===t&&this.go_to(this.step+1),this.update_buttons()},update_buttons:function(){if(0===this.step?this.$el.find(".forminator-pagination-prev").attr("disabled",!0):this.$el.find(".forminator-pagination-prev").removeAttr("disabled"),this.step===this.totalSteps&&this.step--,this.step===this.totalSteps-1){var t=this.$el.find(".forminator-pagination-submit").html();this.$el.find(".forminator-pagination-next .forminator-button--text").html(t)}else this.$el.find(".forminator-pagination-next .forminator-button--text").html(Forminator.l10n.appearance.pagination_next)},go_to:function(t){if(this.step=t,t===this.totalSteps)return!1;this.$el.find(".forminator-pagination").hide(),this.$el.find("[data-step="+t+"]").show(),this.update_navigation()},update_navigation:function(){this.$el.find(".forminator-step-current").removeClass("forminator-step-current"),this.$el.find(".forminator-nav-step-"+this.step).addClass("forminator-step-current"),this.calculate_bar_percentage()}};return{Utils:i,Popup:n,Integrations_Popup:{$popup:{},_deferred:{},initialize:function(){var i=Forminator.Utils.template(t(e).find("#popup-integration-tpl").html());t("#forminator-integration-popup").length?(this.$popup.remove(),this.initialize()):t(".sui-wrap").append(i({provider_image:"",provider_image2:"",provider_title:""})),this.$popup=t("#forminator-integration-popup")},open:function(i,n,a){this.data=n,this.title="",this.image="",this.image_x2="",this.action_text="",this.action_callback=!1,this.action_css_class="",this.has_custom_box=!1,this.has_footer=!0,_.isUndefined(this.data)||(_.isUndefined(this.data.title)||(this.title=this.data.title),_.isUndefined(this.data.image)||(this.image=this.data.image),_.isUndefined(this.data.image_x2)||(this.image_x2=this.data.image_x2)),this.initialize();var s=Forminator.Utils.template(t(e).find("#popup-integration-content-tpl").html());this.$popup.find(".sui-box").html(s({image:this.image,image_x2:this.image_x2,title:this.title}));var o=this,r=function(){return o.close(),!1};if(a&&this.$popup.addClass(a),i.apply(this.$popup.get(),n),this.action_text&&this.action_callback){var l=this.action_callback;this.$popup.find(".sui-box-footer").append('<div class="sui-actions-right"><button class="forminator-popup-action sui-button '+this.action_css_class+'">'+this.action_text+"</button></div>"),this.$popup.find(".forminator-popup-action").on("click",function(){l&&l.apply(),o.close()})}else this.$popup.find(".forminator-popup-action").remove();return this.$popup.find(".sui-dialog-close").on("click",r),this.$popup.find(".sui-dialog-overlay").on("click",r),this.$popup.on("click",".forminator-popup-cancel",r),this.$popup.find(".sui-dialog-overlay").removeClass("sui-fade-out").addClass("sui-fade-in"),this.$popup.find(".sui-dialog-content").removeClass("sui-bounce-out").addClass("sui-bounce-in"),this.$popup.removeAttr("aria-hidden"),Forminator.Utils.sui_delegate_events(),this._deferred=new t.Deferred,this._deferred.promise()},close:function(e,i){var n=t("#forminator-integration-popup");n.find(".sui-dialog-overlay").removeClass("sui-fade-in").addClass("sui-fade-out"),n.find(".sui-dialog-content").removeClass("sui-bounce-in").addClass("sui-bounce-out"),setTimeout(function(){n.attr("aria-hidden","true"),i&&i.apply()},300),this._deferred.resolve(this.$popup,e)}},Notification:a,Pagination:s}})}(jQuery);