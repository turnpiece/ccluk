!function(t){window.empty=function(t){return void 0===t||!t},window.count=function(t){return void 0===t?0:t&&t.length?t.length:0},window.stripslashes=function(t){return(t+"").replace(/\\(.?)/g,function(t,e){switch(e){case"\\":return"\\";case"0":return"\0";case"":return"";default:return e}})},window.forminator_array_value_exists=function(t,e){return!_.isUndefined(t[e])&&!_.isEmpty(t[e])},window.decodeHtmlEntity=function(t){return void 0===t?t:t.replace(/&#(\d+);/g,function(t,e){return String.fromCharCode(e)})},window.encodeHtmlEntity=function(t){if(void 0===t)return t;for(var e=[],i=t.length-1;i>=0;i--)e.unshift(["&#",t[i].charCodeAt(),";"].join(""));return e.join("")},formintorjs.define([],function(){return{Utils:{is_touch:function(){return Forminator.Data.is_touch},is_mobile_size:function(){return window.screen.width<=782},is_mobile:function(){return!(!Forminator.Utils.is_touch()&&!Forminator.Utils.is_mobile_size())},model_to_json:function(t){if(!t)return{};var e=t&&t.toJSON?t.toJSON():t,i=JSON.stringify(e);return JSON.parse(i)},template:function(t){return _.templateSettings={evaluate:/\{\[([\s\S]+?)\]\}/g,interpolate:/\{\{([\s\S]+?)\}\}/g},_.template(t)},template_php:function(t){var e=_.templateSettings,i=!1;return _.templateSettings={interpolate:/<\?php echo (.+?) \?>/g,evaluate:/<\?php (.+?) \?>/g},i=_.template(t),_.templateSettings=e,function(t){return _.each(t,function(e,i){t["$"+i]=e}),i(t)}},get_unique_id:function(t){return(t||"field")+"-"+(new Date).getTime()+"-"+Math.floor(999*Math.random()+1e3)},has_pagination:function(t){var e=!1;return t.each(function(t){t.get("fields").each(function(t){"pagination"===t.get("type")&&(e=!0)})}),e},ensure_max_of_type_field:function(t,e,i,n){var a=0;if(n=n||null,n&&n.get("type")===e&&a++,t.each(function(t){t.get("fields").each(function(t){t.get("type")===e&&a++})}),a>i){var o=this.template("This form can only have {{ max }} {{ type }} field to be exists, please remove {{ diff }} others {{ type }} field from this form.");return n&&(o=this.template("This form can only have {{ max }} {{ type }} field to be exists.")),alert(o({max:i,type:Forminator.Utils.ucfirst(e),diff:a-i})),!1}return!0},get_fields_models:function(t,e){var i=[];return _.isUndefined(e)&&(e=[]),t.each(function(t){t.get("fields").each(function(t){_.contains(e,t.cid)||i.push(t)})}),i},get_fields:function(t,e){var i=[];return _.isUndefined(e)&&(e=["address","pagination","postdata","total","upload","product","captcha"]),t.each(function(t){t.get("fields").each(function(t){if(!_.contains(e,t.get("type"))){var n;_.isUndefined(t.get("field_label"))||_.isEmpty(t.get("field_label"))?(n=t.get("type"),n=Forminator.Utils.ucfirst(n)):n=t.get("field_label"),"name"===t.get("type")?i=i.concat(Forminator.Utils.get_name_fields(t,n)):i.push({element_id:t.get("element_id"),label:n,values:Forminator.Utils.get_field_values(t),hasOptions:Forminator.Utils.field_has_options(t),isNumber:Forminator.Utils.field_has_number(t)})}})}),i},ucfirst:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},get_name_fields:function(t,e){var i=[];return"true"===t.get("multiple_name")?_.each([{attr:"prefix",label:"prefix_label",element_suffix:"prefix",hasOptions:!0,values:[{label:"Mr.",value:"Mr"},{label:"Mrs.",value:"Mrs"},{label:"Ms.",value:"Ms"},{label:"Miss",value:"Miss"},{label:"Dr.",value:"Dr"},{label:"Prof.",value:"Prof"}],isNumber:!1},{attr:"fname",label:"fname_label",element_suffix:"first-name",hasOptions:!1,values:!1,isNumber:!1},{attr:"mname",label:"mname_label",element_suffix:"middle-name",hasOptions:!1,values:!1,isNumber:!1},{attr:"lname",label:"lname_label",element_suffix:"last-name",hasOptions:!1,values:!1,isNumber:!1}],function(n){if("true"===t.get(n.attr)){var a;a=_.isUndefined(t.get(n.label))||_.isEmpty(t.get(n.label))?e+" - "+Forminator.l10n.name[n.label]:e+" - "+t.get(n.label),i.push({element_id:t.get("element_id")+"-"+n.element_suffix,label:a,values:n.values,hasOptions:n.hasOptions,isNumber:n.isNumber})}}):i.push({element_id:t.get("element_id"),label:e,values:Forminator.Utils.get_field_values(t),hasOptions:Forminator.Utils.field_has_options(t),isNumber:Forminator.Utils.field_has_number(t)}),i},get_products:function(t){var e=[];return t.each(function(t){t.get("fields").each(function(t){if("product"===t.get("type")){var i;i=_.isUndefined(t.get("product_name"))||_.isEmpty(t.get("product_name"))?t.get("type"):t.get("product_name"),e.push({element_id:t.get("element_id"),label:i})}})}),e},field_has_options:function(t){return"select"===t.get("type")||"checkbox"===t.get("type")},field_has_number:function(t){return"number"===t.get("type")||"phone"===t.get("type")},get_field_values:function(t){var e=t.get("type");return("select"===e||"checkbox"===e)&&t.get("options")},get_slug:function(t){return t=t.replace(" ","-"),t=t.replace(/[^-a-zA-Z0-9]/,"")},sanitize_uri_string:function(t){var e=decodeURIComponent(t);return e=e.replace(/-/g," ")},get_url_param:function(t){for(var e=window.location.search.substring(1),i=e.split("&"),n=0;n<i.length;n++){var a=i[n].split("=");if(a[0]===t)return a[1]}return!1},append_select2:function(e,i){e.find(".wpmudev-select, .wpmudev-form-field--select").each(function(){var e=t(this).data("allow-search"),i={allowClear:!1,containerCssClass:"wpmudev-select2",dropdownCssClass:"wpmudev-select-dropdown"};1!==e&&(i.minimumResultsForSearch=1/0),t(this).wpmuiSelect(i)}),e.find(".wpmudev-option--select").wpmuiSelect({allowClear:!1,minimumResultsForSearch:1/0,containerCssClass:"wpmudev-option--select2",dropdownCssClass:"wpmudev-option--select2-dropdown"}),e.find(".forminator-select").wpmuiSelect({allowClear:!1,containerCssClass:"forminator-select2",dropdownCssClass:"forminator-dropdown"})},init_select2:function(){setTimeout(function(){t(".wpmudev-select, .wpmudev-form-field--select").each(function(){var e=t(this).data("allow-search"),i={allowClear:!1,containerCssClass:"wpmudev-select2",dropdownCssClass:"wpmudev-select-dropdown"};1!==e&&(i.minimumResultsForSearch=1/0),t(this).wpmuiSelect(i)}),t(".wpmudev-option--select").wpmuiSelect({allowClear:!1,minimumResultsForSearch:1/0,containerCssClass:"wpmudev-option--select2",dropdownCssClass:"wpmudev-option--select2-dropdown"}),t(".forminator-select").wpmuiSelect({allowClear:!1,containerCssClass:"forminator-select2",dropdownCssClass:"forminator-dropdown"})},10)}},Popup:{$popup:{},_deferred:{},initialize:function(){t("#forminator-popup").length?(this.$popup.remove(),this.initialize()):t("#wpmudev-main").append('<div id="forminator-popup" class="wpmudev-modal"><div class="wpmudev-modal-mask" aria-hidden="true"></div><div class="wpmudev-box"><div class="wpmudev-box-header"><div class="wpmudev-header--text"><h2 class="wpmudev-subtitle">'+this.title+'</h2></div><div class="wpmudev-header--action"><button id="forminator-popup-close" class="wpmudev-box--action"><span class="wpmudev-icon--close"></span></button></div></div><div class="wpmudev-box-section"></div></div></div>'),this.$popup=t("#forminator-popup"),this.$popup.find("#wpmudev-box-body").empty()},open:function(e,i,n){this.data=i,this.title="",void 0!==this.data&&void 0!==this.data.title&&(this.title=this.data.title),this.initialize();var a=this,o=this.$popup.find(".wpmudev-box"),s=function(){return a.close(),!1};return n&&this.$popup.addClass(n),this.$popup.find("#forminator-popup-close").on("click",s),this.$popup.addClass("wpmudev-modal-active"),t("body").addClass("wpmudev-modal-is_active"),setTimeout(function(){o.addClass("wpmudev-show")}),e.apply(this.$popup.find(".wpmudev-box-section").get(),i),this.$popup.find(".forminator-delete-module-cancel").on("click",s),this._deferred=new t.Deferred,this._deferred.promise()},close:function(e,i){var n=t("#forminator-popup"),a=n.find(".wpmudev-box");a.removeClass("wpmudev-show").addClass("wpmudev-hide"),setTimeout(function(){n.removeClass("wpmudev-modal-active"),t("body").removeClass("wpmudev-modal-is_active"),a.removeClass("wpmudev-hide"),i&&i.apply()},1e3),this._deferred.resolve(this.$popup,e)}},Notification:{$notification:{},_deferred:{},initialize:function(){t("#forminator-notification").length?(this.$notification.remove(),this.initialize()):t("#wpmudev-main").append('<div id="forminator-notification" class="wpmudev-notification"><label class="wpmudev-label--'+this.type+'"><span>'+this.text+"</span></label></div>"),this.$notification=t("#forminator-notification")},open:function(e,i,n){var a=this;return this.type=e||"notice",this.text=i,this.initialize(),setTimeout(function(){a.$notification.addClass("wpmudev-show")}),_.isUndefined(n)||setTimeout(function(){a.close()},n),this._deferred=new t.Deferred,this._deferred.promise()},close:function(e){t("#forminator-notification").removeClass("wpmudev-show").addClass("wpmudev-hide"),this._deferred.resolve(this.$popup,e)}},Pagination:{step:0,totalSteps:0,hasStep:!1,$el:!1,init:function(t){this.step=0,this.totalSteps=0,this.hasStep=!1,this.$el=t,this.totalSteps=this.$el.find(".forminator-pagination").length,this.totalSteps&&(this.hasStep&&this.step>0?t.find(".forminator-pagination").not("[data-step="+this.step+"]").hide():t.find(".forminator-pagination").not(".forminator-pagination-start").hide(),this.render_navigation(),this.render_footer_navigation(),this.init_events(),this.update_buttons(),this.update_navigation())},init_events:function(){var t=this;this.$el.find(".forminator-pagination-prev").click(function(e){e.preventDefault(),t.handle_click("prev")}),this.$el.find(".forminator-pagination-next").click(function(e){e.preventDefault(),t.handle_click("next")})},render_footer_navigation:function(){this.$el.append('<div class="forminator-pagination--footer"><button class="forminator-button forminator-pagination-prev"><span class="forminator-button--mask" aria-label="hidden"></span><span class="forminator-button--text">'+Forminator.l10n.appearance.pagination_prev+'</span></button><button class="forminator-button forminator-pagination-next"><span class="forminator-button--mask" aria-label="hidden"></span><span class="forminator-button--text">'+Forminator.l10n.appearance.pagination_next+"</span></button></div>")},render_navigation:function(){var e=this.$el.find(".forminator-pagination--nav");if(e.length){var i=this.$el.find(".forminator-pagination").not(".forminator-pagination-start");i.each(function(){var i=t(this),n=i.data("label"),a=i.data("step")-1;e.append('<li class="forminator-nav-step forminator-nav-step-'+a+'"><span class="forminator-step-text">'+n+'</span><span class="forminator-step-dot" aria-label="hidden"></span></li>')}),this.$el.find(".forminator-pagination-start").each(function(){var n=t(this),a=n.data("label"),o=i.length;e.append('<li class="forminator-nav-step forminator-nav-step-'+o+'"><span class="forminator-step-text">'+a+'</span><span class="forminator-step-dot" aria-label="hidden"></span></li>')})}},handle_click:function(t){"prev"===t&&0!==this.step?this.go_to(this.step-1):"next"===t&&this.go_to(this.step+1),this.update_buttons()},update_buttons:function(){if(0===this.step?this.$el.find(".forminator-pagination-prev").attr("disabled",!0):this.$el.find(".forminator-pagination-prev").removeAttr("disabled"),this.step===this.totalSteps&&this.step--,this.step===this.totalSteps-1){var t=this.$el.find(".forminator-pagination-submit").html();this.$el.find(".forminator-pagination-next .forminator-button--text").html(t)}else this.$el.find(".forminator-pagination-next .forminator-button--text").html(Forminator.l10n.appearance.pagination_next)},go_to:function(t){if(this.step=t,t===this.totalSteps)return!1;this.$el.find(".forminator-pagination").hide(),this.$el.find("[data-step="+t+"]").show(),this.update_navigation()},update_navigation:function(){this.$el.find(".forminator-step-current").removeClass("forminator-step-current"),this.$el.find(".forminator-nav-step-"+this.step).addClass("forminator-step-current")}}}})}(jQuery);