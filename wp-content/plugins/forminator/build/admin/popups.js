!function(o){formintorjs.define(["admin/popup/templates","admin/popup/login","admin/popup/quizzes","admin/popup/schedule","admin/popup/new-form","admin/popup/ajax","admin/popup/delete"],function(e,p,n,t,i,r,a){var s=Backbone.View.extend({el:"#wpmudev-main",events:{"click .wpmudev-open-modal":"open_modal","click .wpmudev-button-open-modal":"open_modal"},initialize:function(){var o=Forminator.Utils.get_url_param("new"),e=Forminator.Utils.get_url_param("title");if(o){var p=new i({title:e});p.render(),this.open_popup(p,Forminator.l10n.popup.congratulations)}return this.render()},render:function(){return this},open_modal:function(e){e.preventDefault();var p=o(e.target);o(e.target).closest(".wpmudev-split--item");p.hasClass("wpmudev-open-modal")||p.hasClass("wpmudev-button-open-modal")||(p=p.closest(".wpmudev-open-modal"));var n=p.data("modal"),t=p.data("nonce"),i=p.data("form-id");switch(n){case"custom_forms":this.open_cform_popup();break;case"login_registration_forms":this.open_login_popup();break;case"polls":this.open_polls_popup();break;case"quizzes":this.open_quizzes_popup();break;case"exports":this.open_settings_modal(n,t,i,Forminator.l10n.popup.your_exports);break;case"exports-schedule":this.open_exports_schedule_popup();break;case"delete-module":this.open_delete_popup(i,t);break;case"paypal":this.open_settings_modal(n,t,i,Forminator.l10n.popup.paypal_settings);break;case"preview_cforms":this.open_settings_modal(n,t,i,Forminator.l10n.popup.preview_cforms);break;case"preview_polls":this.open_settings_modal(n,t,i,Forminator.l10n.popup.preview_polls);break;case"preview_quizzes":this.open_settings_modal(n,t,i,Forminator.l10n.popup.preview_quizzes);break;case"captcha":this.open_settings_modal(n,t,i,Forminator.l10n.popup.captcha_settings);break;case"currency":this.open_settings_modal(n,t,i,Forminator.l10n.popup.currency_settings)}},open_popup:function(e,p){_.isUndefined(p)&&(p=Forminator.l10n.custom_form.popup_label),Forminator.Popup.open(function(){_.isUndefined(e.el)?o(this).append(e):o(this).append(e.el)},{title:p})},open_ajax_popup:function(e,p,n,t){_.isUndefined(t)&&(t=Forminator.l10n.custom_form.popup_label);var i=new r({action:e,nonce:p,id:n});Forminator.Popup.open(function(){o(this).append(i.el)},{title:t})},open_cform_popup:function(){var o=Forminator.Data.modules.custom_form.new_form_url;window.location.href=o},open_delete_popup:function(o,e){var p=new a({id:o,nonce:e,referrer:window.location.pathname+window.location.search});p.render(),this.open_popup(p,Forminator.l10n.popup.are_you_sure)},open_login_popup:function(){var o=new p;o.render(),this.open_popup(o,Forminator.l10n.popup.edit_login_form)},open_polls_popup:function(){var o=Forminator.Data.modules.polls.new_form_url;window.location.href=o},open_quizzes_popup:function(){var o=new n;o.render(),this.open_popup(o,Forminator.l10n.popup.quiz_type)},open_exports_schedule_popup:function(){var o=new t;o.render(),this.open_popup(o,Forminator.l10n.popup.edit_scheduled_export)},open_settings_modal:function(o,e,p,n){this.open_ajax_popup(o,e,p,n)}});jQuery(document).ready(function(){new s})})}(jQuery);