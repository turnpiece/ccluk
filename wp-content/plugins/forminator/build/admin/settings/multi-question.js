!function(e){formintorjs.define(["admin/settings/toggle-container","text!tpl/fields.html"],function(t,i){return t.extend({multiple:!1,events:{"click .wpmudev-add-question":"add_question","click .fui-question-delete":"delete_question","change .wpmudev-question-title":"update_title","keyup .wpmudev-question-title":"update_title"},className:"forminator-multi-qs",init:function(){this.questions=this.model.get("questions")},on_render:function(){var t=this;this.questions.length?this.$el.addClass("fui-has-questions"):this.$el.removeClass("fui-has-questions"),this.$el.find(".wpmudev-question-title").trigger("change"),setTimeout(function(){t.questions.each(function(i,s){var n=new Forminator.Settings.MultiQuestionAnswer({model:i,question_index:s,results:t.model.get("results"),hide_label:!0});e(".fui-question[data-index="+s+"]").append(n.el)})},50)},get_field_html:function(){var t=this.get_values_html();return Forminator.Utils.template(e(i).find("#settings-field-question-multiple-tpl").html())({childs:t})},get_values_html:function(){var e=this;return this.questions.map(function(t,i){return e.get_value_html(t,i)}).join(" ")},get_value_html:function(t,s){this.get_saved_value();return Forminator.Utils.template(e(i).find("#settings-field-question-multiple-question-tpl").html())({row:t.toJSON(),index:s})},add_question:function(e){e.preventDefault(),new_questions=new Forminator.Models.Question({answers:new Forminator.Collections.Answers}),this.questions.add(new_questions,{silent:!0}),this.render()},delete_question:function(t){t.preventDefault();var i=e(t.target),s=this.get_model(i);this.questions.remove(s,{silent:!0}),this.render()},get_index:function(e){return e.closest(".fui-question").data("index")},get_model:function(e){var t=this.get_index(e);return this.questions.get_by_index(t)},update_title:function(t){var i=this.get_model(e(t.target)),s=e(t.target).val(),n=this.get_index(e(t.target));i.set("title",s),e(t.target).closest(".fui-question[data-index="+n+"]").find(".sui-form-field").removeClass("sui-form-field-error"),e(t.target).closest(".fui-question[data-index="+n+"]").find(".sui-error-message").hide(),_.isEmpty(s)&&(e(t.target).closest(".fui-question[data-index="+n+"]").find(".sui-form-field").addClass("sui-form-field-error"),e(t.target).closest(".fui-question[data-index="+n+"]").find(".sui-error-message").show())}})})}(jQuery);