!function(e){formintorjs.define(["admin/settings/multi-setting","admin/models/autofill-model","admin/models/autofills-collection","text!tpl/appearance.html"],function(t,i,l,a){return t.extend({multiple:!0,events:{"change .forminator-fields-autofill .forminator-autofill-provider":"update_autofill","change .forminator-fields-autofill .forminator-autofill-is-editable":"update_autofill"},className:"fui-toggle-content",tagName:"tbody",render:function(){this.$el.html(""),this.$el.append(this.build_autofill()),this.trigger("rendered",this.get_value()),this.on_render()},get_saved_value:function(){return this.model.get(this.name)},get_fields_with_autofill:function(){var e=Forminator.Utils.get_fields(this.model.get("wrappers"),[]),t=this.get_saved_value(),i=[];return _.each(e,function(e,l){var a=e.field_type,n=Forminator.Utils.get_field_autofill_providers(a),o=e.field_slug;if(_.has(n,o)&&!_.isUndefined(n[o].values)&&!_.isEmpty(n[o].values)){var r={element_id:"",provider:"",is_editable:"no"},d=t.findWhere({element_id:e.element_id}),s=!1;_.isUndefined(d)||_.isEmpty(d)||(r={element_id:d.get("element_id"),provider:d.get("provider"),is_editable:d.get("is_editable")},s=!0),e.selected_provider=r,e.is_active=s,e.autofill_providers=n[o].values,i.push(e)}}),i},build_autofill:function(){var t=this.get_fields_with_autofill(),i=this.model.get(this.name);return Forminator.Utils.template(e(a).find("#appearance-autofills-tpl").html())({fields_with_autofill:t,fields_autofill:i})},update_autofill:function(){var t=this,a=new l;this.$el.find(".forminator-autofill-provider").each(function(){var l=e(this),n=l.val();if(n){var o=l.data("element"),r=t.$el.find('.forminator-autofill-is-editable[data-element="'+o+'"]'),d=e(r).val();a.add(new i({element_id:o,provider:n,is_editable:d}),{silent:!0})}}),this.save_value(a),this.trigger("updated",a)},on_render:function(){Forminator.Utils.sui_delegate_events()}})})}(jQuery);