!function(e){formintorjs.define(["admin/style-editor","text!tpl/appearance.html"],function(a,n){return Backbone.View.extend({mainTpl:Forminator.Utils.template(e(n).find("#appearance-section-behaviour-tpl").html()),className:"wpmudev-box-body",initialize:function(e){return this.render()},render:function(){this.$el.html(this.mainTpl()),this.render_form_lifespan(),this.render_form_autofill(),this.render_form_submission(),this.render_form_validation(),this.render_form_submit(),this.render_form_security(),this.render_form_privacy()},render_form_lifespan:function(){var e=this,a=new Forminator.Settings.Radio({model:this.model,id:"behaviours-form-expire",name:"form-expire",show:function(a){setTimeout(function(){var n=e.$el.find("#behaviours-form-expire-date"),i=e.$el.find("#behaviours-form-expire-submits");n.hide(),i.hide(),"date"===a&&n.show(),"submits"===a&&i.show()},10)},default_value:"no_expire",values:[{value:"no_expire",label:Forminator.l10n.appearance.form_doesnt_expire},{value:"date",label:Forminator.l10n.appearance.on_certain_date},{value:"submits",label:Forminator.l10n.appearance.expires_submits}]}),n=new Forminator.Settings.Date({model:this.model,id:"behaviours-form-expire-date",name:"expire_date",placeholder:"Select date",hide_label:!0}),i=new Forminator.Settings.Number({model:this.model,id:"behaviours-form-expire-submits",name:"expire_submits",hide_label:!0});this.$el.find(".appearance-section-form-lifespan").append([a.el,n.el,i.el])},render_form_submission:function(){var e=new Forminator.Settings.Toggle({model:this.model,id:"behaviours-form-enable-ajax",name:"enable-ajax",hide_label:!0,values:[{value:"true",label:Forminator.l10n.appearance.enable_ajax,labelSmall:!0}]});this.$el.find(".appearance-section-form-submission").append(e.el)},render_form_validation:function(){var e=new Forminator.Settings.Radio({model:this.model,id:"behaviours-form-validation",containerSize:"400",name:"validation",default_value:"on_submit",hide_label:!0,values:[{value:"server",label:Forminator.l10n.appearance.server_only},{value:"on_submit",label:Forminator.l10n.appearance.form_submit}]}),a=new Forminator.Settings.Toggle({model:this.model,id:"behaviours-form-validation-inline",name:"validation-inline",hide_label:!0,values:[{value:"true",label:Forminator.l10n.appearance.inline,labelSmall:!0}]});this.$el.find(".appearance-section-form-validation").append(e.el,a.el)},render_form_submit:function(){var e=this,a=new Forminator.Settings.ToggleContainer({model:this.model,id:"behaviour-thankyou",name:"thankyou",hide_label:!0,containerClass:"wpmudev-is_gray",values:[{value:"true",label:Forminator.l10n.appearance.show_thank_you_message,labelSmall:"true"}],on_change:function(a){var n=this.model.get("redirect");!0!==a&&"true"!==a||!0!==n&&"true"!==n||(this.model.set("redirect",!1),e.render())}}),n=new Forminator.Settings.Editor({model:this.model,id:"behaviour-thankyou-message",name:"thankyou-message",hide_label:!0,enableFormData:!0});a.$el.find(".wpmudev-option--switch_content").append(n.$el);var i=new Forminator.Settings.ToggleContainer({model:this.model,id:"behaviour-redirect",name:"redirect",hide_label:!0,containerClass:"wpmudev-is_gray",values:[{value:"true",label:Forminator.l10n.appearance.redirect_to_url,labelSmall:"true"}],on_change:function(a){var n=this.model.get("thankyou");!0!==a&&"true"!==a||!0!==n&&"true"!==n||(this.model.set("thankyou",!1),e.render())}}),l=new Forminator.Settings.Text({model:this.model,id:"behaviour-redirect-url",name:"redirect-url",hide_label:!0,placeholder:"E.g. /thank-you"});i.$el.find(".wpmudev-option--switch_content").append(l.$el),this.$el.find(".appearance-section-form-after-submit").append([a.el,i.el])},render_form_autofill:function(){var e=new Forminator.Settings.ToggleContainer({model:this.model,id:"use_autofill",name:"use-autofill",hide_label:!0,values:[{value:"true",label:"Autofill",labelSmall:"true"}],on_change:function(e){}}),a=new Forminator.Settings.Autofills({model:this.model,id:"fields_autofill",name:"fields-autofill",hide_label:!0});e.$el.find(".wpmudev-option--switch_content").append(a.$el),this.$el.find(".appearance-section-form-autofill").append([e.el])},render_form_security:function(){var e=new Forminator.Settings.Toggle({model:this.model,id:"behaviours-form-honeypot",name:"honeypot",hide_label:!0,values:[{value:"true",label:Forminator.l10n.appearance.enable_honeypot,labelSmall:"true"}]}),a=new Forminator.Settings.Toggle({model:this.model,id:"behaviours-form-logged-users",name:"logged-users",hide_label:!0,values:[{value:"true",label:Forminator.l10n.appearance.only_logged,labelSmall:"true"}]});this.$el.find(".appearance-section-form-security").append([e.el,a.el])},render_form_privacy:function(){var e=new Forminator.Settings.ToggleContainer({model:this.model,id:"enable-submissions-retention",name:"enable-submissions-retention",hide_label:!0,values:[{value:"true",label:Forminator.l10n.appearance.enable_submissions_retention,labelSmall:"true"}]});e.$el.find(".wpmudev-option--switch_content").append('<div class="wpmudev-option--half"></div>');var a=new Forminator.Settings.Number({model:this.model,id:"submissions-retention-number",name:"submissions-retention-number",hide_label:!0,placeholder:0}),n=new Forminator.Settings.Select({model:this.model,id:"submissions-retention-unit",name:"submissions-retention-unit",hide_label:!0,values:[{value:"days",label:Forminator.l10n.appearance.days},{value:"weeks",label:Forminator.l10n.appearance.weeks},{value:"months",label:Forminator.l10n.appearance.months},{value:"years",label:Forminator.l10n.appearance.years}]});e.$el.find(".wpmudev-option--half").append([a.$el,n.$el]),this.$el.find(".appearance-section-form-privacy").append(e.el)}})})}(jQuery);