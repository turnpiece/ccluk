!function(e){formintorjs.define(["text!tpl/appearance.html"],function(i){return Backbone.View.extend({mainTpl:Forminator.Utils.template(e(i).find("#appearance-section-emails-tpl").html()),className:"sui-box",initialize:function(e){return this.render()},render:function(){this.$el.html(this.mainTpl()),this.render_user_email(),this.render_admin_email()},render_user_email:function(){var e=new Forminator.Settings.ToggleContainer({model:this.model,id:"appearance-user-email",hide_label:!0,name:"use-user-email",values:[{value:"true",label:Forminator.l10n.tab_emails.send_user_email}]}),i=new Forminator.Settings.Text({model:this.model,id:"emails-user-email-title",label:Forminator.l10n.tab_emails.email_subject,placeholder:Forminator.l10n.tab_emails.subject,name:"user-email-title"}),a=new Forminator.Settings.Editor({model:this.model,id:"emails-user-email-editor",hide_label:!0,placeholder:Forminator.l10n.tab_emails.hello_user,name:"user-email-editor"});e.$el.find(".fui-box-gray").append([i.el,a.el]),this.$el.find("#forminator-formwiz-user-email").append(e.el)},render_admin_email:function(){var e=new Forminator.Settings.ToggleContainer({model:this.model,id:"appearance-admin-email",hide_label:!0,name:"use-admin-email",values:[{value:"true",label:Forminator.l10n.tab_emails.send_admins_email}]}),i=new Forminator.Settings.Text({model:this.model,id:"emails-admin-email-title",label:Forminator.l10n.tab_emails.email_subject,placeholder:Forminator.l10n.tab_emails.subject,name:"admin-email-title"}),a=this.get_admin_email_recipents(),l=new Forminator.Settings.Editor({model:this.model,id:"emails-admin-email-editor",hide_label:!0,placeholder:Forminator.l10n.tab_emails.hello_admin,name:"admin-email-editor",enableFormData:!0,enableAllFormFields:!0,enablePostData:!0,enableUpload:!0});e.$el.find(".fui-box-gray").append([a.el,i.el,l.el]),this.$el.find("#forminator-formwiz-admins-email").append(e.el)},get_admin_email_recipents:function(){return new Forminator.Settings.Tag({model:this.model,id:"emails-admin-email-recipents",label:Forminator.l10n.tab_emails.choose_recipients,name:"admin-email-recipients",tags_options:{placeholder:Forminator.l10n.tab_emails.recipients,ajax:{url:Forminator.Data.ajaxUrl,type:"POST",delay:350,data:function(e){return{action:"forminator_builder_search_emails",q:e.term}},processResults:function(e){return{results:e.data}},cache:!0},createTag:function(i){var a=e.trim(i.term);return Forminator.Utils.is_email_wp(a)?{id:a,text:a}:null}}})}})})}(jQuery);